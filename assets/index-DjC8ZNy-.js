(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function fv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Gf={exports:{}},ja={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function JS(){if(S_)return ja;S_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:u}}return ja.Fragment=e,ja.jsx=i,ja.jsxs=i,ja}var T_;function eT(){return T_||(T_=1,Gf.exports=JS()),Gf.exports}var Ke=eT(),Yf={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function tT(){if(A_)return fe;A_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function E(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,K={};function J(T,L,Q){this.props=T,this.context=L,this.refs=K,this.updater=Q||z}J.prototype.isReactComponent={},J.prototype.setState=function(T,L){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,L,"setState")},J.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function q(){}q.prototype=J.prototype;function V(T,L,Q){this.props=T,this.context=L,this.refs=K,this.updater=Q||z}var ne=V.prototype=new q;ne.constructor=V,H(ne,J.prototype),ne.isPureReactComponent=!0;var pe=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function be(T,L,Q,G,se,Se){return Q=Se.ref,{$$typeof:s,type:T,key:L,ref:Q!==void 0?Q:null,props:Se}}function Le(T,L){return be(T.type,L,void 0,void 0,void 0,T.props)}function Ee(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function lt(T){var L={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Q){return L[Q]})}var he=/\/+/g;function ee(T,L){return typeof T=="object"&&T!==null&&T.key!=null?lt(""+T.key):L.toString(36)}function me(){}function Ne(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(me,me):(T.status="pending",T.then(function(L){T.status==="pending"&&(T.status="fulfilled",T.value=L)},function(L){T.status==="pending"&&(T.status="rejected",T.reason=L)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function De(T,L,Q,G,se){var Se=typeof T;(Se==="undefined"||Se==="boolean")&&(T=null);var ue=!1;if(T===null)ue=!0;else switch(Se){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(T.$$typeof){case s:case e:ue=!0;break;case y:return ue=T._init,De(ue(T._payload),L,Q,G,se)}}if(ue)return se=se(T),ue=G===""?"."+ee(T,0):G,pe(se)?(Q="",ue!=null&&(Q=ue.replace(he,"$&/")+"/"),De(se,L,Q,"",function($t){return $t})):se!=null&&(Ee(se)&&(se=Le(se,Q+(se.key==null||T&&T.key===se.key?"":(""+se.key).replace(he,"$&/")+"/")+ue)),L.push(se)),1;ue=0;var yt=G===""?".":G+":";if(pe(T))for(var qe=0;qe<T.length;qe++)G=T[qe],Se=yt+ee(G,qe),ue+=De(G,L,Q,Se,se);else if(qe=E(T),typeof qe=="function")for(T=qe.call(T),qe=0;!(G=T.next()).done;)G=G.value,Se=yt+ee(G,qe++),ue+=De(G,L,Q,Se,se);else if(Se==="object"){if(typeof T.then=="function")return De(Ne(T),L,Q,G,se);throw L=String(T),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ue}function M(T,L,Q){if(T==null)return T;var G=[],se=0;return De(T,G,"","",function(Se){return L.call(Q,Se,se++)}),G}function P(T){if(T._status===-1){var L=T._result;L=L(),L.then(function(Q){(T._status===0||T._status===-1)&&(T._status=1,T._result=Q)},function(Q){(T._status===0||T._status===-1)&&(T._status=2,T._result=Q)}),T._status===-1&&(T._status=0,T._result=L)}if(T._status===1)return T._result.default;throw T._result}var ie=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Ce(){}return fe.Children={map:M,forEach:function(T,L,Q){M(T,function(){L.apply(this,arguments)},Q)},count:function(T){var L=0;return M(T,function(){L++}),L},toArray:function(T){return M(T,function(L){return L})||[]},only:function(T){if(!Ee(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},fe.Component=J,fe.Fragment=i,fe.Profiler=o,fe.PureComponent=V,fe.StrictMode=a,fe.Suspense=p,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,fe.__COMPILER_RUNTIME={__proto__:null,c:function(T){return j.H.useMemoCache(T)}},fe.cache=function(T){return function(){return T.apply(null,arguments)}},fe.cloneElement=function(T,L,Q){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var G=H({},T.props),se=T.key,Se=void 0;if(L!=null)for(ue in L.ref!==void 0&&(Se=void 0),L.key!==void 0&&(se=""+L.key),L)!de.call(L,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&L.ref===void 0||(G[ue]=L[ue]);var ue=arguments.length-2;if(ue===1)G.children=Q;else if(1<ue){for(var yt=Array(ue),qe=0;qe<ue;qe++)yt[qe]=arguments[qe+2];G.children=yt}return be(T.type,se,void 0,void 0,Se,G)},fe.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},fe.createElement=function(T,L,Q){var G,se={},Se=null;if(L!=null)for(G in L.key!==void 0&&(Se=""+L.key),L)de.call(L,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(se[G]=L[G]);var ue=arguments.length-2;if(ue===1)se.children=Q;else if(1<ue){for(var yt=Array(ue),qe=0;qe<ue;qe++)yt[qe]=arguments[qe+2];se.children=yt}if(T&&T.defaultProps)for(G in ue=T.defaultProps,ue)se[G]===void 0&&(se[G]=ue[G]);return be(T,Se,void 0,void 0,null,se)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(T){return{$$typeof:h,render:T}},fe.isValidElement=Ee,fe.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:P}},fe.memo=function(T,L){return{$$typeof:g,type:T,compare:L===void 0?null:L}},fe.startTransition=function(T){var L=j.T,Q={};j.T=Q;try{var G=T(),se=j.S;se!==null&&se(Q,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Ce,ie)}catch(Se){ie(Se)}finally{j.T=L}},fe.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},fe.use=function(T){return j.H.use(T)},fe.useActionState=function(T,L,Q){return j.H.useActionState(T,L,Q)},fe.useCallback=function(T,L){return j.H.useCallback(T,L)},fe.useContext=function(T){return j.H.useContext(T)},fe.useDebugValue=function(){},fe.useDeferredValue=function(T,L){return j.H.useDeferredValue(T,L)},fe.useEffect=function(T,L,Q){var G=j.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(T,L)},fe.useId=function(){return j.H.useId()},fe.useImperativeHandle=function(T,L,Q){return j.H.useImperativeHandle(T,L,Q)},fe.useInsertionEffect=function(T,L){return j.H.useInsertionEffect(T,L)},fe.useLayoutEffect=function(T,L){return j.H.useLayoutEffect(T,L)},fe.useMemo=function(T,L){return j.H.useMemo(T,L)},fe.useOptimistic=function(T,L){return j.H.useOptimistic(T,L)},fe.useReducer=function(T,L,Q){return j.H.useReducer(T,L,Q)},fe.useRef=function(T){return j.H.useRef(T)},fe.useState=function(T){return j.H.useState(T)},fe.useSyncExternalStore=function(T,L,Q){return j.H.useSyncExternalStore(T,L,Q)},fe.useTransition=function(){return j.H.useTransition()},fe.version="19.1.0",fe}var C_;function Vd(){return C_||(C_=1,Yf.exports=tT()),Yf.exports}var Es=Vd();const pn=fv(Es);var Kf={exports:{}},Ga={},Xf={exports:{}},Qf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function nT(){return w_||(w_=1,function(s){function e(M,P){var ie=M.length;M.push(P);e:for(;0<ie;){var Ce=ie-1>>>1,T=M[Ce];if(0<o(T,P))M[Ce]=P,M[ie]=T,ie=Ce;else break e}}function i(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var P=M[0],ie=M.pop();if(ie!==P){M[0]=ie;e:for(var Ce=0,T=M.length,L=T>>>1;Ce<L;){var Q=2*(Ce+1)-1,G=M[Q],se=Q+1,Se=M[se];if(0>o(G,ie))se<T&&0>o(Se,G)?(M[Ce]=Se,M[se]=ie,Ce=se):(M[Ce]=G,M[Q]=ie,Ce=Q);else if(se<T&&0>o(Se,ie))M[Ce]=Se,M[se]=ie,Ce=se;else break e}}return P}function o(M,P){var ie=M.sortIndex-P.sortIndex;return ie!==0?ie:M.id-P.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();s.unstable_now=function(){return d.now()-h}}var p=[],g=[],y=1,v=null,E=3,z=!1,H=!1,K=!1,J=!1,q=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function pe(M){for(var P=i(g);P!==null;){if(P.callback===null)a(g);else if(P.startTime<=M)a(g),P.sortIndex=P.expirationTime,e(p,P);else break;P=i(g)}}function j(M){if(K=!1,pe(M),!H)if(i(p)!==null)H=!0,de||(de=!0,ee());else{var P=i(g);P!==null&&De(j,P.startTime-M)}}var de=!1,be=-1,Le=5,Ee=-1;function lt(){return J?!0:!(s.unstable_now()-Ee<Le)}function he(){if(J=!1,de){var M=s.unstable_now();Ee=M;var P=!0;try{e:{H=!1,K&&(K=!1,V(be),be=-1),z=!0;var ie=E;try{t:{for(pe(M),v=i(p);v!==null&&!(v.expirationTime>M&&lt());){var Ce=v.callback;if(typeof Ce=="function"){v.callback=null,E=v.priorityLevel;var T=Ce(v.expirationTime<=M);if(M=s.unstable_now(),typeof T=="function"){v.callback=T,pe(M),P=!0;break t}v===i(p)&&a(p),pe(M)}else a(p);v=i(p)}if(v!==null)P=!0;else{var L=i(g);L!==null&&De(j,L.startTime-M),P=!1}}break e}finally{v=null,E=ie,z=!1}P=void 0}}finally{P?ee():de=!1}}}var ee;if(typeof ne=="function")ee=function(){ne(he)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Ne=me.port2;me.port1.onmessage=he,ee=function(){Ne.postMessage(null)}}else ee=function(){q(he,0)};function De(M,P){be=q(function(){M(s.unstable_now())},P)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_next=function(M){switch(E){case 1:case 2:case 3:var P=3;break;default:P=E}var ie=E;E=P;try{return M()}finally{E=ie}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(M,P){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ie=E;E=M;try{return P()}finally{E=ie}},s.unstable_scheduleCallback=function(M,P,ie){var Ce=s.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Ce+ie:Ce):ie=Ce,M){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ie+T,M={id:y++,callback:P,priorityLevel:M,startTime:ie,expirationTime:T,sortIndex:-1},ie>Ce?(M.sortIndex=ie,e(g,M),i(p)===null&&M===i(g)&&(K?(V(be),be=-1):K=!0,De(j,ie-Ce))):(M.sortIndex=T,e(p,M),H||z||(H=!0,de||(de=!0,ee()))),M},s.unstable_shouldYield=lt,s.unstable_wrapCallback=function(M){var P=E;return function(){var ie=E;E=P;try{return M.apply(this,arguments)}finally{E=ie}}}}(Qf)),Qf}var R_;function iT(){return R_||(R_=1,Xf.exports=nT()),Xf.exports}var $f={exports:{}},Ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function sT(){if(O_)return Ct;O_=1;var s=Vd();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:g,implementation:y}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ct.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,y)},Ct.flushSync=function(p){var g=d.T,y=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=g,a.p=y,a.d.f()}},Ct.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Ct.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Ct.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,z=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:z}):y==="script"&&a.d.X(p,{crossOrigin:v,integrity:E,fetchPriority:z,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ct.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Ct.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin);a.d.L(p,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ct.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=h(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Ct.requestFormReset=function(p){a.d.r(p)},Ct.unstable_batchedUpdates=function(p,g){return p(g)},Ct.useFormState=function(p,g,y){return d.H.useFormState(p,g,y)},Ct.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ct.version="19.1.0",Ct}var N_;function rT(){if(N_)return $f.exports;N_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),$f.exports=sT(),$f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function aT(){if(D_)return Ga;D_=1;var s=iT(),e=Vd(),i=rT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(u(t)!==t)throw Error(a(188))}function p(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return h(c),t;if(f===l)return h(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var m=!1,_=c.child;_;){if(_===r){m=!0,r=c,l=f;break}if(_===l){m=!0,l=c,r=f;break}_=_.sibling}if(!m){for(_=f.child;_;){if(_===r){m=!0,r=f,l=c;break}if(_===l){m=!0,l=f,r=c;break}_=_.sibling}if(!m)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function g(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=g(t),n!==null)return n;t=t.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),Ee=Symbol.for("react.activity"),lt=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function ee(t){return t===null||typeof t!="object"?null:(t=he&&t[he]||t["@@iterator"],typeof t=="function"?t:null)}var me=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===me?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case J:return"Profiler";case K:return"StrictMode";case j:return"Suspense";case de:return"SuspenseList";case Ee:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case ne:return(t.displayName||"Context")+".Provider";case V:return(t._context.displayName||"Context")+".Consumer";case pe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case be:return n=t.displayName||null,n!==null?n:Ne(t.type)||"Memo";case Le:n=t._payload,t=t._init;try{return Ne(t(n))}catch{}}return null}var De=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Ce=[],T=-1;function L(t){return{current:t}}function Q(t){0>T||(t.current=Ce[T],Ce[T]=null,T--)}function G(t,n){T++,Ce[T]=t.current,t.current=n}var se=L(null),Se=L(null),ue=L(null),yt=L(null);function qe(t,n){switch(G(ue,n),G(Se,t),G(se,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?$g(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=$g(n),t=Zg(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(se),G(se,t)}function $t(){Q(se),Q(Se),Q(ue)}function Qi(t){t.memoizedState!==null&&G(yt,t);var n=se.current,r=Zg(n,t.type);n!==r&&(G(Se,t),G(se,r))}function xs(t){Se.current===t&&(Q(se),Q(Se)),yt.current===t&&(Q(yt),Ba._currentValue=ie)}var ks=Object.prototype.hasOwnProperty,Kr=s.unstable_scheduleCallback,Us=s.unstable_cancelCallback,wl=s.unstable_shouldYield,Mu=s.unstable_requestPaint,Zt=s.unstable_now,Ih=s.unstable_getCurrentPriorityLevel,Xr=s.unstable_ImmediatePriority,S=s.unstable_UserBlockingPriority,O=s.unstable_NormalPriority,x=s.unstable_LowPriority,X=s.unstable_IdlePriority,F=s.log,B=s.unstable_setDisableYieldValue,W=null,ce=null;function Te(t){if(typeof F=="function"&&B(t),ce&&typeof ce.setStrictMode=="function")try{ce.setStrictMode(W,t)}catch{}}var Ge=Math.clz32?Math.clz32:Iu,Ls=Math.log,Sn=Math.LN2;function Iu(t){return t>>>=0,t===0?32:31-(Ls(t)/Sn|0)|0}var ui=256,ci=4194304;function Un(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $i(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,m=t.pingedLanes;t=t.warmLanes;var _=l&134217727;return _!==0?(l=_&~f,l!==0?c=Un(l):(m&=_,m!==0?c=Un(m):r||(r=_&~t,r!==0&&(c=Un(r))))):(_=l&~f,_!==0?c=Un(_):m!==0?c=Un(m):r||(r=l&~t,r!==0&&(c=Un(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Zi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Rl(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xh(){var t=ui;return ui<<=1,(ui&4194048)===0&&(ui=256),t}function kh(){var t=ci;return ci<<=1,(ci&62914560)===0&&(ci=4194304),t}function xu(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Qr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Pb(t,n,r,l,c,f){var m=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var _=t.entanglements,b=t.expirationTimes,R=t.hiddenUpdates;for(r=m&~r;0<r;){var I=31-Ge(r),U=1<<I;_[I]=0,b[I]=-1;var N=R[I];if(N!==null)for(R[I]=null,I=0;I<N.length;I++){var D=N[I];D!==null&&(D.lane&=-536870913)}r&=~U}l!==0&&Uh(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(m&~n))}function Uh(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ge(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Lh(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ge(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function ku(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Uu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zh(){var t=P.p;return t!==0?t:(t=window.event,t===void 0?32:g_(t.type))}function Fb(t,n){var r=P.p;try{return P.p=t,n()}finally{P.p=r}}var fi=Math.random().toString(36).slice(2),Tt="__reactFiber$"+fi,xt="__reactProps$"+fi,zs="__reactContainer$"+fi,Lu="__reactEvents$"+fi,qb="__reactListeners$"+fi,jb="__reactHandles$"+fi,Hh="__reactResources$"+fi,$r="__reactMarker$"+fi;function zu(t){delete t[Tt],delete t[xt],delete t[Lu],delete t[qb],delete t[jb]}function Hs(t){var n=t[Tt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[zs]||r[Tt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=t_(t);t!==null;){if(r=t[Tt])return r;t=t_(t)}return n}t=r,r=t.parentNode}return null}function Bs(t){if(t=t[Tt]||t[zs]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Zr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Vs(t){var n=t[Hh];return n||(n=t[Hh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ft(t){t[$r]=!0}var Bh=new Set,Vh={};function Wi(t,n){Ps(t,n),Ps(t+"Capture",n)}function Ps(t,n){for(Vh[t]=n,t=0;t<n.length;t++)Bh.add(n[t])}var Gb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ph={},Fh={};function Yb(t){return ks.call(Fh,t)?!0:ks.call(Ph,t)?!1:Gb.test(t)?Fh[t]=!0:(Ph[t]=!0,!1)}function Ol(t,n,r){if(Yb(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Nl(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ln(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Hu,qh;function Fs(t){if(Hu===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Hu=n&&n[1]||"",qh=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hu+t+qh}var Bu=!1;function Vu(t,n){if(!t||Bu)return"";Bu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(D){var N=D}Reflect.construct(t,[],U)}else{try{U.call()}catch(D){N=D}t.call(U.prototype)}}else{try{throw Error()}catch(D){N=D}(U=t())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(D){if(D&&N&&typeof D.stack=="string")return[D.stack,N.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),m=f[0],_=f[1];if(m&&_){var b=m.split(`
`),R=_.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===R.length)for(l=b.length-1,c=R.length-1;1<=l&&0<=c&&b[l]!==R[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==R[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==R[c]){var I=`
`+b[l].replace(" at new "," at ");return t.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",t.displayName)),I}while(1<=l&&0<=c);break}}}finally{Bu=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Fs(r):""}function Kb(t){switch(t.tag){case 26:case 27:case 5:return Fs(t.type);case 16:return Fs("Lazy");case 13:return Fs("Suspense");case 19:return Fs("SuspenseList");case 0:case 15:return Vu(t.type,!1);case 11:return Vu(t.type.render,!1);case 1:return Vu(t.type,!0);case 31:return Fs("Activity");default:return""}}function jh(t){try{var n="";do n+=Kb(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gh(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Xb(t){var n=Gh(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(m){l=""+m,f.call(this,m)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(m){l=""+m},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Dl(t){t._valueTracker||(t._valueTracker=Xb(t))}function Yh(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Gh(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ml(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qb=/[\n"\\]/g;function Jt(t){return t.replace(Qb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Pu(t,n,r,l,c,f,m,_){t.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.type=m:t.removeAttribute("type"),n!=null?m==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Wt(n)):t.value!==""+Wt(n)&&(t.value=""+Wt(n)):m!=="submit"&&m!=="reset"||t.removeAttribute("value"),n!=null?Fu(t,m,Wt(n)):r!=null?Fu(t,m,Wt(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+Wt(_):t.removeAttribute("name")}function Kh(t,n,r,l,c,f,m,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Wt(r):"",n=n!=null?""+Wt(n):r,_||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=_?t.checked:!!l,t.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.name=m)}function Fu(t,n,r){n==="number"&&Ml(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function qs(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Wt(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Xh(t,n,r){if(n!=null&&(n=""+Wt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Wt(r):""}function Qh(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(De(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Wt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function js(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var $b=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $h(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||$b.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Zh(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&$h(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&$h(t,f,n[f])}function qu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Il(t){return Wb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ju=null;function Gu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gs=null,Ys=null;function Wh(t){var n=Bs(t);if(n&&(t=n.stateNode)){var r=t[xt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Pu(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Jt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[xt]||null;if(!c)throw Error(a(90));Pu(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Yh(l)}break e;case"textarea":Xh(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&qs(t,!!r.multiple,n,!1)}}}var Yu=!1;function Jh(t,n,r){if(Yu)return t(n,r);Yu=!0;try{var l=t(n);return l}finally{if(Yu=!1,(Gs!==null||Ys!==null)&&(yo(),Gs&&(n=Gs,t=Ys,Ys=Gs=null,Wh(n),t)))for(n=0;n<t.length;n++)Wh(t[n])}}function Wr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[xt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ku=!1;if(zn)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Ku=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Ku=!1}var di=null,Xu=null,xl=null;function ep(){if(xl)return xl;var t,n=Xu,r=n.length,l,c="value"in di?di.value:di.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var m=r-t;for(l=1;l<=m&&n[r-l]===c[f-l];l++);return xl=c.slice(t,1<l?1-l:void 0)}function kl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ul(){return!0}function tp(){return!1}function kt(t){function n(r,l,c,f,m){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(r=t[_],this[_]=r?r(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ul:tp,this.isPropagationStopped=tp,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),n}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=kt(Ji),ea=y({},Ji,{view:0,detail:0}),Jb=kt(ea),Qu,$u,ta,zl=y({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ta&&(ta&&t.type==="mousemove"?(Qu=t.screenX-ta.screenX,$u=t.screenY-ta.screenY):$u=Qu=0,ta=t),Qu)},movementY:function(t){return"movementY"in t?t.movementY:$u}}),np=kt(zl),eE=y({},zl,{dataTransfer:0}),tE=kt(eE),nE=y({},ea,{relatedTarget:0}),Zu=kt(nE),iE=y({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),sE=kt(iE),rE=y({},Ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aE=kt(rE),lE=y({},Ji,{data:0}),ip=kt(lE),oE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fE(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=cE[t])?!!n[t]:!1}function Wu(){return fE}var dE=y({},ea,{key:function(t){if(t.key){var n=oE[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wu,charCode:function(t){return t.type==="keypress"?kl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hE=kt(dE),pE=y({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sp=kt(pE),mE=y({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wu}),gE=kt(mE),_E=y({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),yE=kt(_E),vE=y({},zl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bE=kt(vE),EE=y({},Ji,{newState:0,oldState:0}),SE=kt(EE),TE=[9,13,27,32],Ju=zn&&"CompositionEvent"in window,na=null;zn&&"documentMode"in document&&(na=document.documentMode);var AE=zn&&"TextEvent"in window&&!na,rp=zn&&(!Ju||na&&8<na&&11>=na),ap=" ",lp=!1;function op(t,n){switch(t){case"keyup":return TE.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function up(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ks=!1;function CE(t,n){switch(t){case"compositionend":return up(n);case"keypress":return n.which!==32?null:(lp=!0,ap);case"textInput":return t=n.data,t===ap&&lp?null:t;default:return null}}function wE(t,n){if(Ks)return t==="compositionend"||!Ju&&op(t,n)?(t=ep(),xl=Xu=di=null,Ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return rp&&n.locale!=="ko"?null:n.data;default:return null}}var RE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!RE[t.type]:n==="textarea"}function fp(t,n,r,l){Gs?Ys?Ys.push(l):Ys=[l]:Gs=l,n=Ao(n,"onChange"),0<n.length&&(r=new Ll("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var ia=null,sa=null;function OE(t){Gg(t,0)}function Hl(t){var n=Zr(t);if(Yh(n))return t}function dp(t,n){if(t==="change")return n}var hp=!1;if(zn){var ec;if(zn){var tc="oninput"in document;if(!tc){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),tc=typeof pp.oninput=="function"}ec=tc}else ec=!1;hp=ec&&(!document.documentMode||9<document.documentMode)}function mp(){ia&&(ia.detachEvent("onpropertychange",gp),sa=ia=null)}function gp(t){if(t.propertyName==="value"&&Hl(sa)){var n=[];fp(n,sa,t,Gu(t)),Jh(OE,n)}}function NE(t,n,r){t==="focusin"?(mp(),ia=n,sa=r,ia.attachEvent("onpropertychange",gp)):t==="focusout"&&mp()}function DE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hl(sa)}function ME(t,n){if(t==="click")return Hl(n)}function IE(t,n){if(t==="input"||t==="change")return Hl(n)}function xE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ft=typeof Object.is=="function"?Object.is:xE;function ra(t,n){if(Ft(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!ks.call(n,c)||!Ft(t[c],n[c]))return!1}return!0}function _p(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yp(t,n){var r=_p(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_p(r)}}function vp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?vp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function bp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ml(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ml(t.document)}return n}function nc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var kE=zn&&"documentMode"in document&&11>=document.documentMode,Xs=null,ic=null,aa=null,sc=!1;function Ep(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sc||Xs==null||Xs!==Ml(l)||(l=Xs,"selectionStart"in l&&nc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),aa&&ra(aa,l)||(aa=l,l=Ao(ic,"onSelect"),0<l.length&&(n=new Ll("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Xs)))}function es(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Qs={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},rc={},Sp={};zn&&(Sp=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function ts(t){if(rc[t])return rc[t];if(!Qs[t])return t;var n=Qs[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Sp)return rc[t]=n[r];return t}var Tp=ts("animationend"),Ap=ts("animationiteration"),Cp=ts("animationstart"),UE=ts("transitionrun"),LE=ts("transitionstart"),zE=ts("transitioncancel"),wp=ts("transitionend"),Rp=new Map,ac="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ac.push("scrollEnd");function fn(t,n){Rp.set(t,n),Wi(n,[t])}var Op=new WeakMap;function en(t,n){if(typeof t=="object"&&t!==null){var r=Op.get(t);return r!==void 0?r:(n={value:t,source:n,stack:jh(n)},Op.set(t,n),n)}return{value:t,source:n,stack:jh(n)}}var tn=[],$s=0,lc=0;function Bl(){for(var t=$s,n=lc=$s=0;n<t;){var r=tn[n];tn[n++]=null;var l=tn[n];tn[n++]=null;var c=tn[n];tn[n++]=null;var f=tn[n];if(tn[n++]=null,l!==null&&c!==null){var m=l.pending;m===null?c.next=c:(c.next=m.next,m.next=c),l.pending=c}f!==0&&Np(r,c,f)}}function Vl(t,n,r,l){tn[$s++]=t,tn[$s++]=n,tn[$s++]=r,tn[$s++]=l,lc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function oc(t,n,r,l){return Vl(t,n,r,l),Pl(t)}function Zs(t,n){return Vl(t,null,null,n),Pl(t)}function Np(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Ge(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Pl(t){if(50<Ma)throw Ma=0,mf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ws={};function HE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(t,n,r,l){return new HE(t,n,r,l)}function uc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hn(t,n){var r=t.alternate;return r===null?(r=qt(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Dp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fl(t,n,r,l,c,f){var m=0;if(l=t,typeof t=="function")uc(t)&&(m=1);else if(typeof t=="string")m=VS(t,r,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Ee:return t=qt(31,r,n,c),t.elementType=Ee,t.lanes=f,t;case H:return ns(r.children,c,f,n);case K:m=8,c|=24;break;case J:return t=qt(12,r,n,c|2),t.elementType=J,t.lanes=f,t;case j:return t=qt(13,r,n,c),t.elementType=j,t.lanes=f,t;case de:return t=qt(19,r,n,c),t.elementType=de,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:case ne:m=10;break e;case V:m=9;break e;case pe:m=11;break e;case be:m=14;break e;case Le:m=16,l=null;break e}m=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=qt(m,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ns(t,n,r,l){return t=qt(7,t,l,n),t.lanes=r,t}function cc(t,n,r){return t=qt(6,t,null,n),t.lanes=r,t}function fc(t,n,r){return n=qt(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Js=[],er=0,ql=null,jl=0,nn=[],sn=0,is=null,Bn=1,Vn="";function ss(t,n){Js[er++]=jl,Js[er++]=ql,ql=t,jl=n}function Mp(t,n,r){nn[sn++]=Bn,nn[sn++]=Vn,nn[sn++]=is,is=t;var l=Bn;t=Vn;var c=32-Ge(l)-1;l&=~(1<<c),r+=1;var f=32-Ge(n)+c;if(30<f){var m=c-c%5;f=(l&(1<<m)-1).toString(32),l>>=m,c-=m,Bn=1<<32-Ge(n)+c|r<<c|l,Vn=f+t}else Bn=1<<f|r<<c|l,Vn=t}function dc(t){t.return!==null&&(ss(t,1),Mp(t,1,0))}function hc(t){for(;t===ql;)ql=Js[--er],Js[er]=null,jl=Js[--er],Js[er]=null;for(;t===is;)is=nn[--sn],nn[sn]=null,Vn=nn[--sn],nn[sn]=null,Bn=nn[--sn],nn[sn]=null}var Dt=null,Je=null,Ie=!1,rs=null,Tn=!1,pc=Error(a(519));function as(t){var n=Error(a(418,""));throw ua(en(n,t)),pc}function Ip(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Tt]=t,n[xt]=l,r){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(r=0;r<xa.length;r++)ve(xa[r],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":ve("invalid",n),Kh(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Dl(n);break;case"select":ve("invalid",n);break;case"textarea":ve("invalid",n),Qh(n,l.value,l.defaultValue,l.children),Dl(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Qg(n.textContent,r)?(l.popover!=null&&(ve("beforetoggle",n),ve("toggle",n)),l.onScroll!=null&&ve("scroll",n),l.onScrollEnd!=null&&ve("scrollend",n),l.onClick!=null&&(n.onclick=Co),n=!0):n=!1,n||as(t)}function xp(t){for(Dt=t.return;Dt;)switch(Dt.tag){case 5:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:Dt=Dt.return}}function la(t){if(t!==Dt)return!1;if(!Ie)return xp(t),Ie=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Mf(t.type,t.memoizedProps)),r=!r),r&&Je&&as(t),xp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Je=hn(t.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Je=null}}else n===27?(n=Je,Oi(t.type)?(t=Uf,Uf=null,Je=t):Je=n):Je=Dt?hn(t.stateNode.nextSibling):null;return!0}function oa(){Je=Dt=null,Ie=!1}function kp(){var t=rs;return t!==null&&(zt===null?zt=t:zt.push.apply(zt,t),rs=null),t}function ua(t){rs===null?rs=[t]:rs.push(t)}var mc=L(null),ls=null,Pn=null;function hi(t,n,r){G(mc,n._currentValue),n._currentValue=r}function Fn(t){t._currentValue=mc.current,Q(mc)}function gc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function _c(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var m=c.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=c;for(var b=0;b<n.length;b++)if(_.context===n[b]){f.lanes|=r,_=f.alternate,_!==null&&(_.lanes|=r),gc(f.return,r,t),l||(m=null);break e}f=_.next}}else if(c.tag===18){if(m=c.return,m===null)throw Error(a(341));m.lanes|=r,f=m.alternate,f!==null&&(f.lanes|=r),gc(m,r,t),m=null}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===t){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}}function ca(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var m=c.alternate;if(m===null)throw Error(a(387));if(m=m.memoizedProps,m!==null){var _=c.type;Ft(c.pendingProps.value,m.value)||(t!==null?t.push(_):t=[_])}}else if(c===yt.current){if(m=c.alternate,m===null)throw Error(a(387));m.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ba):t=[Ba])}c=c.return}t!==null&&_c(n,t,r,l),n.flags|=262144}function Gl(t){for(t=t.firstContext;t!==null;){if(!Ft(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function os(t){ls=t,Pn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function At(t){return Up(ls,t)}function Yl(t,n){return ls===null&&os(t),Up(t,n)}function Up(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Pn===null){if(t===null)throw Error(a(308));Pn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Pn=Pn.next=n;return r}var BE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},VE=s.unstable_scheduleCallback,PE=s.unstable_NormalPriority,ot={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yc(){return{controller:new BE,data:new Map,refCount:0}}function fa(t){t.refCount--,t.refCount===0&&VE(PE,function(){t.controller.abort()})}var da=null,vc=0,tr=0,nr=null;function FE(t,n){if(da===null){var r=da=[];vc=0,tr=Sf(),nr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return vc++,n.then(Lp,Lp),n}function Lp(){if(--vc===0&&da!==null){nr!==null&&(nr.status="fulfilled");var t=da;da=null,tr=0,nr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function qE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var zp=M.S;M.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&FE(t,n),zp!==null&&zp(t,n)};var us=L(null);function bc(){var t=us.current;return t!==null?t:Ye.pooledCache}function Kl(t,n){n===null?G(us,us.current):G(us,n.pool)}function Hp(){var t=bc();return t===null?null:{parent:ot._currentValue,pool:t}}var ha=Error(a(460)),Bp=Error(a(474)),Xl=Error(a(542)),Ec={then:function(){}};function Vp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ql(){}function Pp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Ql,Ql),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qp(t),t;default:if(typeof n.status=="string")n.then(Ql,Ql);else{if(t=Ye,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qp(t),t}throw pa=n,ha}}var pa=null;function Fp(){if(pa===null)throw Error(a(459));var t=pa;return pa=null,t}function qp(t){if(t===ha||t===Xl)throw Error(a(483))}var pi=!1;function Sc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function gi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ke&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Pl(t),Np(t,null,r),n}return Vl(t,l,n,r),Pl(t)}function ma(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Lh(t,r)}}function Ac(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var m={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=m:f=f.next=m,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Cc=!1;function ga(){if(Cc){var t=nr;if(t!==null)throw t}}function _a(t,n,r,l){Cc=!1;var c=t.updateQueue;pi=!1;var f=c.firstBaseUpdate,m=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var b=_,R=b.next;b.next=null,m===null?f=R:m.next=R,m=b;var I=t.alternate;I!==null&&(I=I.updateQueue,_=I.lastBaseUpdate,_!==m&&(_===null?I.firstBaseUpdate=R:_.next=R,I.lastBaseUpdate=b))}if(f!==null){var U=c.baseState;m=0,I=R=b=null,_=f;do{var N=_.lane&-536870913,D=N!==_.lane;if(D?(we&N)===N:(l&N)===N){N!==0&&N===tr&&(Cc=!0),I!==null&&(I=I.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var oe=t,re=_;N=n;var Be=r;switch(re.tag){case 1:if(oe=re.payload,typeof oe=="function"){U=oe.call(Be,U,N);break e}U=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=re.payload,N=typeof oe=="function"?oe.call(Be,U,N):oe,N==null)break e;U=y({},U,N);break e;case 2:pi=!0}}N=_.callback,N!==null&&(t.flags|=64,D&&(t.flags|=8192),D=c.callbacks,D===null?c.callbacks=[N]:D.push(N))}else D={lane:N,tag:_.tag,payload:_.payload,callback:_.callback,next:null},I===null?(R=I=D,b=U):I=I.next=D,m|=N;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;D=_,_=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);I===null&&(b=U),c.baseState=b,c.firstBaseUpdate=R,c.lastBaseUpdate=I,f===null&&(c.shared.lanes=0),Ai|=m,t.lanes=m,t.memoizedState=U}}function jp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Gp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)jp(r[t],n)}var ir=L(null),$l=L(0);function Yp(t,n){t=Qn,G($l,t),G(ir,n),Qn=t|n.baseLanes}function wc(){G($l,Qn),G(ir,ir.current)}function Rc(){Qn=$l.current,Q(ir),Q($l)}var _i=0,ge=null,ze=null,st=null,Zl=!1,sr=!1,cs=!1,Wl=0,ya=0,rr=null,jE=0;function tt(){throw Error(a(321))}function Oc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Ft(t[r],n[r]))return!1;return!0}function Nc(t,n,r,l,c,f){return _i=f,ge=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?Nm:Dm,cs=!1,f=r(l,c),cs=!1,sr&&(f=Xp(n,r,l,c)),Kp(t),f}function Kp(t){M.H=so;var n=ze!==null&&ze.next!==null;if(_i=0,st=ze=ge=null,Zl=!1,ya=0,rr=null,n)throw Error(a(300));t===null||dt||(t=t.dependencies,t!==null&&Gl(t)&&(dt=!0))}function Xp(t,n,r,l){ge=t;var c=0;do{if(sr&&(rr=null),ya=0,sr=!1,25<=c)throw Error(a(301));if(c+=1,st=ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=ZE,f=n(r,l)}while(sr);return f}function GE(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?va(n):n,t=t.useState()[0],(ze!==null?ze.memoizedState:null)!==t&&(ge.flags|=1024),n}function Dc(){var t=Wl!==0;return Wl=0,t}function Mc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ic(t){if(Zl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zl=!1}_i=0,st=ze=ge=null,sr=!1,ya=Wl=0,rr=null}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?ge.memoizedState=st=t:st=st.next=t,st}function rt(){if(ze===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var n=st===null?ge.memoizedState:st.next;if(n!==null)st=n,ze=t;else{if(t===null)throw ge.alternate===null?Error(a(467)):Error(a(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},st===null?ge.memoizedState=st=t:st=st.next=t}return st}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function va(t){var n=ya;return ya+=1,rr===null&&(rr=[]),t=Pp(rr,t,n),n=ge,(st===null?n.memoizedState:st.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?Nm:Dm),t}function Jl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return va(t);if(t.$$typeof===ne)return At(t)}throw Error(a(438,String(t)))}function kc(t){var n=null,r=ge.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=xc(),ge.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=lt;return n.index++,r}function qn(t,n){return typeof n=="function"?n(t):n}function eo(t){var n=rt();return Uc(n,ze,t)}function Uc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var m=c.next;c.next=f.next,f.next=m}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var _=m=null,b=null,R=n,I=!1;do{var U=R.lane&-536870913;if(U!==R.lane?(we&U)===U:(_i&U)===U){var N=R.revertLane;if(N===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),U===tr&&(I=!0);else if((_i&N)===N){R=R.next,N===tr&&(I=!0);continue}else U={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(_=b=U,m=f):b=b.next=U,ge.lanes|=N,Ai|=N;U=R.action,cs&&r(f,U),f=R.hasEagerState?R.eagerState:r(f,U)}else N={lane:U,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(_=b=N,m=f):b=b.next=N,ge.lanes|=U,Ai|=U;R=R.next}while(R!==null&&R!==n);if(b===null?m=f:b.next=_,!Ft(f,t.memoizedState)&&(dt=!0,I&&(r=nr,r!==null)))throw r;t.memoizedState=f,t.baseState=m,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Lc(t){var n=rt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var m=c=c.next;do f=t(f,m.action),m=m.next;while(m!==c);Ft(f,n.memoizedState)||(dt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Qp(t,n,r){var l=ge,c=rt(),f=Ie;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var m=!Ft((ze||c).memoizedState,r);m&&(c.memoizedState=r,dt=!0),c=c.queue;var _=Wp.bind(null,l,c,t);if(ba(2048,8,_,[t]),c.getSnapshot!==n||m||st!==null&&st.memoizedState.tag&1){if(l.flags|=2048,ar(9,to(),Zp.bind(null,l,c,r,n),null),Ye===null)throw Error(a(349));f||(_i&124)!==0||$p(l,n,r)}return r}function $p(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=ge.updateQueue,n===null?(n=xc(),ge.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Zp(t,n,r,l){n.value=r,n.getSnapshot=l,Jp(n)&&em(t)}function Wp(t,n,r){return r(function(){Jp(n)&&em(t)})}function Jp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Ft(t,r)}catch{return!0}}function em(t){var n=Zs(t,2);n!==null&&Xt(n,t,2)}function zc(t){var n=Ut();if(typeof t=="function"){var r=t;if(t=r(),cs){Te(!0);try{r()}finally{Te(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:t},n}function tm(t,n,r,l){return t.baseState=r,Uc(t,ze,typeof l=="function"?l:qn)}function YE(t,n,r,l,c){if(io(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){f.listeners.push(m)}};M.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,nm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function nm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=M.T,m={};M.T=m;try{var _=r(c,l),b=M.S;b!==null&&b(m,_),im(t,n,_)}catch(R){Hc(t,n,R)}finally{M.T=f}}else try{f=r(c,l),im(t,n,f)}catch(R){Hc(t,n,R)}}function im(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){sm(t,n,l)},function(l){return Hc(t,n,l)}):sm(t,n,r)}function sm(t,n,r){n.status="fulfilled",n.value=r,rm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,nm(t,r)))}function Hc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,rm(n),n=n.next;while(n!==l)}t.action=null}function rm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function am(t,n){return n}function lm(t,n){if(Ie){var r=Ye.formState;if(r!==null){e:{var l=ge;if(Ie){if(Je){t:{for(var c=Je,f=Tn;c.nodeType!==8;){if(!f){c=null;break t}if(c=hn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Je=hn(c.nextSibling),l=c.data==="F!";break e}}as(l)}l=!1}l&&(n=r[0])}}return r=Ut(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:am,lastRenderedState:n},r.queue=l,r=wm.bind(null,ge,l),l.dispatch=r,l=zc(!1),f=qc.bind(null,ge,!1,l.queue),l=Ut(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=YE.bind(null,ge,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function om(t){var n=rt();return um(n,ze,t)}function um(t,n,r){if(n=Uc(t,n,am)[0],t=eo(qn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=va(n)}catch(m){throw m===ha?Xl:m}else l=n;n=rt();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(ge.flags|=2048,ar(9,to(),KE.bind(null,c,r),null)),[l,f,t]}function KE(t,n){t.action=n}function cm(t){var n=rt(),r=ze;if(r!==null)return um(n,r,t);rt(),n=n.memoizedState,r=rt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ar(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=ge.updateQueue,n===null&&(n=xc(),ge.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function to(){return{destroy:void 0,resource:void 0}}function fm(){return rt().memoizedState}function no(t,n,r,l){var c=Ut();l=l===void 0?null:l,ge.flags|=t,c.memoizedState=ar(1|n,to(),r,l)}function ba(t,n,r,l){var c=rt();l=l===void 0?null:l;var f=c.memoizedState.inst;ze!==null&&l!==null&&Oc(l,ze.memoizedState.deps)?c.memoizedState=ar(n,f,r,l):(ge.flags|=t,c.memoizedState=ar(1|n,f,r,l))}function dm(t,n){no(8390656,8,t,n)}function hm(t,n){ba(2048,8,t,n)}function pm(t,n){return ba(4,2,t,n)}function mm(t,n){return ba(4,4,t,n)}function gm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function _m(t,n,r){r=r!=null?r.concat([t]):null,ba(4,4,gm.bind(null,n,t),r)}function Bc(){}function ym(t,n){var r=rt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Oc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function vm(t,n){var r=rt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Oc(n,l[1]))return l[0];if(l=t(),cs){Te(!0);try{t()}finally{Te(!1)}}return r.memoizedState=[l,n],l}function Vc(t,n,r){return r===void 0||(_i&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Sg(),ge.lanes|=t,Ai|=t,r)}function bm(t,n,r,l){return Ft(r,n)?r:ir.current!==null?(t=Vc(t,r,l),Ft(t,n)||(dt=!0),t):(_i&42)===0?(dt=!0,t.memoizedState=r):(t=Sg(),ge.lanes|=t,Ai|=t,n)}function Em(t,n,r,l,c){var f=P.p;P.p=f!==0&&8>f?f:8;var m=M.T,_={};M.T=_,qc(t,!1,n,r);try{var b=c(),R=M.S;if(R!==null&&R(_,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var I=qE(b,l);Ea(t,n,I,Kt(t))}else Ea(t,n,l,Kt(t))}catch(U){Ea(t,n,{then:function(){},status:"rejected",reason:U},Kt())}finally{P.p=f,M.T=m}}function XE(){}function Pc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Sm(t).queue;Em(t,c,n,ie,r===null?XE:function(){return Tm(t),r(l)})}function Sm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:ie},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Tm(t){var n=Sm(t).next.queue;Ea(t,n,{},Kt())}function Fc(){return At(Ba)}function Am(){return rt().memoizedState}function Cm(){return rt().memoizedState}function QE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Kt();t=mi(r);var l=gi(n,t,r);l!==null&&(Xt(l,n,r),ma(l,n,r)),n={cache:yc()},t.payload=n;return}n=n.return}}function $E(t,n,r){var l=Kt();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},io(t)?Rm(n,r):(r=oc(t,n,r,l),r!==null&&(Xt(r,t,l),Om(r,n,l)))}function wm(t,n,r){var l=Kt();Ea(t,n,r,l)}function Ea(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(io(t))Rm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var m=n.lastRenderedState,_=f(m,r);if(c.hasEagerState=!0,c.eagerState=_,Ft(_,m))return Vl(t,n,c,0),Ye===null&&Bl(),!1}catch{}finally{}if(r=oc(t,n,c,l),r!==null)return Xt(r,t,l),Om(r,n,l),!0}return!1}function qc(t,n,r,l){if(l={lane:2,revertLane:Sf(),action:l,hasEagerState:!1,eagerState:null,next:null},io(t)){if(n)throw Error(a(479))}else n=oc(t,r,l,2),n!==null&&Xt(n,t,2)}function io(t){var n=t.alternate;return t===ge||n!==null&&n===ge}function Rm(t,n){sr=Zl=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Om(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Lh(t,r)}}var so={readContext:At,use:Jl,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt},Nm={readContext:At,use:Jl,useCallback:function(t,n){return Ut().memoizedState=[t,n===void 0?null:n],t},useContext:At,useEffect:dm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,no(4194308,4,gm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return no(4194308,4,t,n)},useInsertionEffect:function(t,n){no(4,2,t,n)},useMemo:function(t,n){var r=Ut();n=n===void 0?null:n;var l=t();if(cs){Te(!0);try{t()}finally{Te(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Ut();if(r!==void 0){var c=r(n);if(cs){Te(!0);try{r(n)}finally{Te(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=$E.bind(null,ge,t),[l.memoizedState,t]},useRef:function(t){var n=Ut();return t={current:t},n.memoizedState=t},useState:function(t){t=zc(t);var n=t.queue,r=wm.bind(null,ge,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Bc,useDeferredValue:function(t,n){var r=Ut();return Vc(r,t,n)},useTransition:function(){var t=zc(!1);return t=Em.bind(null,ge,t.queue,!0,!1),Ut().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=ge,c=Ut();if(Ie){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Ye===null)throw Error(a(349));(we&124)!==0||$p(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,dm(Wp.bind(null,l,f,t),[t]),l.flags|=2048,ar(9,to(),Zp.bind(null,l,f,r,n),null),r},useId:function(){var t=Ut(),n=Ye.identifierPrefix;if(Ie){var r=Vn,l=Bn;r=(l&~(1<<32-Ge(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Wl++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=jE++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Fc,useFormState:lm,useActionState:lm,useOptimistic:function(t){var n=Ut();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=qc.bind(null,ge,!0,r),r.dispatch=n,[t,n]},useMemoCache:kc,useCacheRefresh:function(){return Ut().memoizedState=QE.bind(null,ge)}},Dm={readContext:At,use:Jl,useCallback:ym,useContext:At,useEffect:hm,useImperativeHandle:_m,useInsertionEffect:pm,useLayoutEffect:mm,useMemo:vm,useReducer:eo,useRef:fm,useState:function(){return eo(qn)},useDebugValue:Bc,useDeferredValue:function(t,n){var r=rt();return bm(r,ze.memoizedState,t,n)},useTransition:function(){var t=eo(qn)[0],n=rt().memoizedState;return[typeof t=="boolean"?t:va(t),n]},useSyncExternalStore:Qp,useId:Am,useHostTransitionStatus:Fc,useFormState:om,useActionState:om,useOptimistic:function(t,n){var r=rt();return tm(r,ze,t,n)},useMemoCache:kc,useCacheRefresh:Cm},ZE={readContext:At,use:Jl,useCallback:ym,useContext:At,useEffect:hm,useImperativeHandle:_m,useInsertionEffect:pm,useLayoutEffect:mm,useMemo:vm,useReducer:Lc,useRef:fm,useState:function(){return Lc(qn)},useDebugValue:Bc,useDeferredValue:function(t,n){var r=rt();return ze===null?Vc(r,t,n):bm(r,ze.memoizedState,t,n)},useTransition:function(){var t=Lc(qn)[0],n=rt().memoizedState;return[typeof t=="boolean"?t:va(t),n]},useSyncExternalStore:Qp,useId:Am,useHostTransitionStatus:Fc,useFormState:cm,useActionState:cm,useOptimistic:function(t,n){var r=rt();return ze!==null?tm(r,ze,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:kc,useCacheRefresh:Cm},lr=null,Sa=0;function ro(t){var n=Sa;return Sa+=1,lr===null&&(lr=[]),Pp(lr,t,n)}function Ta(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ao(t,n){throw n.$$typeof===v?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Mm(t){var n=t._init;return n(t._payload)}function Im(t){function n(C,A){if(t){var w=C.deletions;w===null?(C.deletions=[A],C.flags|=16):w.push(A)}}function r(C,A){if(!t)return null;for(;A!==null;)n(C,A),A=A.sibling;return null}function l(C){for(var A=new Map;C!==null;)C.key!==null?A.set(C.key,C):A.set(C.index,C),C=C.sibling;return A}function c(C,A){return C=Hn(C,A),C.index=0,C.sibling=null,C}function f(C,A,w){return C.index=w,t?(w=C.alternate,w!==null?(w=w.index,w<A?(C.flags|=67108866,A):w):(C.flags|=67108866,A)):(C.flags|=1048576,A)}function m(C){return t&&C.alternate===null&&(C.flags|=67108866),C}function _(C,A,w,k){return A===null||A.tag!==6?(A=cc(w,C.mode,k),A.return=C,A):(A=c(A,w),A.return=C,A)}function b(C,A,w,k){var $=w.type;return $===H?I(C,A,w.props.children,k,w.key):A!==null&&(A.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Le&&Mm($)===A.type)?(A=c(A,w.props),Ta(A,w),A.return=C,A):(A=Fl(w.type,w.key,w.props,null,C.mode,k),Ta(A,w),A.return=C,A)}function R(C,A,w,k){return A===null||A.tag!==4||A.stateNode.containerInfo!==w.containerInfo||A.stateNode.implementation!==w.implementation?(A=fc(w,C.mode,k),A.return=C,A):(A=c(A,w.children||[]),A.return=C,A)}function I(C,A,w,k,$){return A===null||A.tag!==7?(A=ns(w,C.mode,k,$),A.return=C,A):(A=c(A,w),A.return=C,A)}function U(C,A,w){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=cc(""+A,C.mode,w),A.return=C,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case E:return w=Fl(A.type,A.key,A.props,null,C.mode,w),Ta(w,A),w.return=C,w;case z:return A=fc(A,C.mode,w),A.return=C,A;case Le:var k=A._init;return A=k(A._payload),U(C,A,w)}if(De(A)||ee(A))return A=ns(A,C.mode,w,null),A.return=C,A;if(typeof A.then=="function")return U(C,ro(A),w);if(A.$$typeof===ne)return U(C,Yl(C,A),w);ao(C,A)}return null}function N(C,A,w,k){var $=A!==null?A.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return $!==null?null:_(C,A,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case E:return w.key===$?b(C,A,w,k):null;case z:return w.key===$?R(C,A,w,k):null;case Le:return $=w._init,w=$(w._payload),N(C,A,w,k)}if(De(w)||ee(w))return $!==null?null:I(C,A,w,k,null);if(typeof w.then=="function")return N(C,A,ro(w),k);if(w.$$typeof===ne)return N(C,A,Yl(C,w),k);ao(C,w)}return null}function D(C,A,w,k,$){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return C=C.get(w)||null,_(A,C,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case E:return C=C.get(k.key===null?w:k.key)||null,b(A,C,k,$);case z:return C=C.get(k.key===null?w:k.key)||null,R(A,C,k,$);case Le:var _e=k._init;return k=_e(k._payload),D(C,A,w,k,$)}if(De(k)||ee(k))return C=C.get(w)||null,I(A,C,k,$,null);if(typeof k.then=="function")return D(C,A,w,ro(k),$);if(k.$$typeof===ne)return D(C,A,w,Yl(A,k),$);ao(A,k)}return null}function oe(C,A,w,k){for(var $=null,_e=null,te=A,ae=A=0,pt=null;te!==null&&ae<w.length;ae++){te.index>ae?(pt=te,te=null):pt=te.sibling;var Me=N(C,te,w[ae],k);if(Me===null){te===null&&(te=pt);break}t&&te&&Me.alternate===null&&n(C,te),A=f(Me,A,ae),_e===null?$=Me:_e.sibling=Me,_e=Me,te=pt}if(ae===w.length)return r(C,te),Ie&&ss(C,ae),$;if(te===null){for(;ae<w.length;ae++)te=U(C,w[ae],k),te!==null&&(A=f(te,A,ae),_e===null?$=te:_e.sibling=te,_e=te);return Ie&&ss(C,ae),$}for(te=l(te);ae<w.length;ae++)pt=D(te,C,ae,w[ae],k),pt!==null&&(t&&pt.alternate!==null&&te.delete(pt.key===null?ae:pt.key),A=f(pt,A,ae),_e===null?$=pt:_e.sibling=pt,_e=pt);return t&&te.forEach(function(xi){return n(C,xi)}),Ie&&ss(C,ae),$}function re(C,A,w,k){if(w==null)throw Error(a(151));for(var $=null,_e=null,te=A,ae=A=0,pt=null,Me=w.next();te!==null&&!Me.done;ae++,Me=w.next()){te.index>ae?(pt=te,te=null):pt=te.sibling;var xi=N(C,te,Me.value,k);if(xi===null){te===null&&(te=pt);break}t&&te&&xi.alternate===null&&n(C,te),A=f(xi,A,ae),_e===null?$=xi:_e.sibling=xi,_e=xi,te=pt}if(Me.done)return r(C,te),Ie&&ss(C,ae),$;if(te===null){for(;!Me.done;ae++,Me=w.next())Me=U(C,Me.value,k),Me!==null&&(A=f(Me,A,ae),_e===null?$=Me:_e.sibling=Me,_e=Me);return Ie&&ss(C,ae),$}for(te=l(te);!Me.done;ae++,Me=w.next())Me=D(te,C,ae,Me.value,k),Me!==null&&(t&&Me.alternate!==null&&te.delete(Me.key===null?ae:Me.key),A=f(Me,A,ae),_e===null?$=Me:_e.sibling=Me,_e=Me);return t&&te.forEach(function(WS){return n(C,WS)}),Ie&&ss(C,ae),$}function Be(C,A,w,k){if(typeof w=="object"&&w!==null&&w.type===H&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case E:e:{for(var $=w.key;A!==null;){if(A.key===$){if($=w.type,$===H){if(A.tag===7){r(C,A.sibling),k=c(A,w.props.children),k.return=C,C=k;break e}}else if(A.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Le&&Mm($)===A.type){r(C,A.sibling),k=c(A,w.props),Ta(k,w),k.return=C,C=k;break e}r(C,A);break}else n(C,A);A=A.sibling}w.type===H?(k=ns(w.props.children,C.mode,k,w.key),k.return=C,C=k):(k=Fl(w.type,w.key,w.props,null,C.mode,k),Ta(k,w),k.return=C,C=k)}return m(C);case z:e:{for($=w.key;A!==null;){if(A.key===$)if(A.tag===4&&A.stateNode.containerInfo===w.containerInfo&&A.stateNode.implementation===w.implementation){r(C,A.sibling),k=c(A,w.children||[]),k.return=C,C=k;break e}else{r(C,A);break}else n(C,A);A=A.sibling}k=fc(w,C.mode,k),k.return=C,C=k}return m(C);case Le:return $=w._init,w=$(w._payload),Be(C,A,w,k)}if(De(w))return oe(C,A,w,k);if(ee(w)){if($=ee(w),typeof $!="function")throw Error(a(150));return w=$.call(w),re(C,A,w,k)}if(typeof w.then=="function")return Be(C,A,ro(w),k);if(w.$$typeof===ne)return Be(C,A,Yl(C,w),k);ao(C,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,A!==null&&A.tag===6?(r(C,A.sibling),k=c(A,w),k.return=C,C=k):(r(C,A),k=cc(w,C.mode,k),k.return=C,C=k),m(C)):r(C,A)}return function(C,A,w,k){try{Sa=0;var $=Be(C,A,w,k);return lr=null,$}catch(te){if(te===ha||te===Xl)throw te;var _e=qt(29,te,null,C.mode);return _e.lanes=k,_e.return=C,_e}finally{}}}var or=Im(!0),xm=Im(!1),rn=L(null),An=null;function yi(t){var n=t.alternate;G(ut,ut.current&1),G(rn,t),An===null&&(n===null||ir.current!==null||n.memoizedState!==null)&&(An=t)}function km(t){if(t.tag===22){if(G(ut,ut.current),G(rn,t),An===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(An=t)}}else vi()}function vi(){G(ut,ut.current),G(rn,rn.current)}function jn(t){Q(rn),An===t&&(An=null),Q(ut)}var ut=L(0);function lo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||kf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function jc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:y({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Gc={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Kt(),c=mi(l);c.payload=n,r!=null&&(c.callback=r),n=gi(t,c,l),n!==null&&(Xt(n,t,l),ma(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Kt(),c=mi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=gi(t,c,l),n!==null&&(Xt(n,t,l),ma(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Kt(),l=mi(r);l.tag=2,n!=null&&(l.callback=n),n=gi(t,l,r),n!==null&&(Xt(n,t,r),ma(n,t,r))}};function Um(t,n,r,l,c,f,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,m):n.prototype&&n.prototype.isPureReactComponent?!ra(r,l)||!ra(c,f):!0}function Lm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Gc.enqueueReplaceState(n,n.state,null)}function fs(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=y({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var oo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function zm(t){oo(t)}function Hm(t){console.error(t)}function Bm(t){oo(t)}function uo(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Vm(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Yc(t,n,r){return r=mi(r),r.tag=3,r.payload={element:null},r.callback=function(){uo(t,n)},r}function Pm(t){return t=mi(t),t.tag=3,t}function Fm(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Vm(n,r,l)}}var m=r.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(t.callback=function(){Vm(n,r,l),typeof c!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function WE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ca(n,r,c,!0),r=rn.current,r!==null){switch(r.tag){case 13:return An===null?_f():r.alternate===null&&et===0&&(et=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Ec?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),vf(t,l,c)),!1;case 22:return r.flags|=65536,l===Ec?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),vf(t,l,c)),!1}throw Error(a(435,r.tag))}return vf(t,l,c),_f(),!1}if(Ie)return n=rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==pc&&(t=Error(a(422),{cause:l}),ua(en(t,r)))):(l!==pc&&(n=Error(a(423),{cause:l}),ua(en(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=en(l,r),c=Yc(t.stateNode,l,c),Ac(t,c),et!==4&&(et=2)),!1;var f=Error(a(520),{cause:l});if(f=en(f,r),Da===null?Da=[f]:Da.push(f),et!==4&&(et=2),n===null)return!0;l=en(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Yc(r.stateNode,l,t),Ac(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ci===null||!Ci.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Pm(c),Fm(c,t,r,l),Ac(r,c),!1}r=r.return}while(r!==null);return!1}var qm=Error(a(461)),dt=!1;function vt(t,n,r,l){n.child=t===null?xm(n,null,r,l):or(n,t.child,r,l)}function jm(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var m={};for(var _ in l)_!=="ref"&&(m[_]=l[_])}else m=l;return os(n),l=Nc(t,n,r,m,f,c),_=Dc(),t!==null&&!dt?(Mc(t,n,c),Gn(t,n,c)):(Ie&&_&&dc(n),n.flags|=1,vt(t,n,l,c),n.child)}function Gm(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!uc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Ym(t,n,f,l,c)):(t=Fl(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!ef(t,c)){var m=f.memoizedProps;if(r=r.compare,r=r!==null?r:ra,r(m,l)&&t.ref===n.ref)return Gn(t,n,c)}return n.flags|=1,t=Hn(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ym(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(ra(f,l)&&t.ref===n.ref)if(dt=!1,n.pendingProps=l=f,ef(t,c))(t.flags&131072)!==0&&(dt=!0);else return n.lanes=t.lanes,Gn(t,n,c)}return Kc(t,n,r,l,c)}function Km(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Xm(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Kl(n,f!==null?f.cachePool:null),f!==null?Yp(n,f):wc(),km(n);else return n.lanes=n.childLanes=536870912,Xm(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Kl(n,f.cachePool),Yp(n,f),vi(),n.memoizedState=null):(t!==null&&Kl(n,null),wc(),vi());return vt(t,n,c,r),n.child}function Xm(t,n,r,l){var c=bc();return c=c===null?null:{parent:ot._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Kl(n,null),wc(),km(n),t!==null&&ca(t,n,l,!0),null}function co(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Kc(t,n,r,l,c){return os(n),r=Nc(t,n,r,l,void 0,c),l=Dc(),t!==null&&!dt?(Mc(t,n,c),Gn(t,n,c)):(Ie&&l&&dc(n),n.flags|=1,vt(t,n,r,c),n.child)}function Qm(t,n,r,l,c,f){return os(n),n.updateQueue=null,r=Xp(n,l,r,c),Kp(t),l=Dc(),t!==null&&!dt?(Mc(t,n,f),Gn(t,n,f)):(Ie&&l&&dc(n),n.flags|=1,vt(t,n,r,f),n.child)}function $m(t,n,r,l,c){if(os(n),n.stateNode===null){var f=Ws,m=r.contextType;typeof m=="object"&&m!==null&&(f=At(m)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Gc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Sc(n),m=r.contextType,f.context=typeof m=="object"&&m!==null?At(m):Ws,f.state=n.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(jc(n,r,m,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(m=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),m!==f.state&&Gc.enqueueReplaceState(f,f.state,null),_a(n,l,f,c),ga(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var _=n.memoizedProps,b=fs(r,_);f.props=b;var R=f.context,I=r.contextType;m=Ws,typeof I=="object"&&I!==null&&(m=At(I));var U=r.getDerivedStateFromProps;I=typeof U=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,I||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||R!==m)&&Lm(n,f,l,m),pi=!1;var N=n.memoizedState;f.state=N,_a(n,l,f,c),ga(),R=n.memoizedState,_||N!==R||pi?(typeof U=="function"&&(jc(n,r,U,l),R=n.memoizedState),(b=pi||Um(n,r,b,l,N,R,m))?(I||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=R),f.props=l,f.state=R,f.context=m,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Tc(t,n),m=n.memoizedProps,I=fs(r,m),f.props=I,U=n.pendingProps,N=f.context,R=r.contextType,b=Ws,typeof R=="object"&&R!==null&&(b=At(R)),_=r.getDerivedStateFromProps,(R=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==U||N!==b)&&Lm(n,f,l,b),pi=!1,N=n.memoizedState,f.state=N,_a(n,l,f,c),ga();var D=n.memoizedState;m!==U||N!==D||pi||t!==null&&t.dependencies!==null&&Gl(t.dependencies)?(typeof _=="function"&&(jc(n,r,_,l),D=n.memoizedState),(I=pi||Um(n,r,I,l,N,D,b)||t!==null&&t.dependencies!==null&&Gl(t.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,D,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,D,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===t.memoizedProps&&N===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&N===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=D),f.props=l,f.state=D,f.context=b,l=I):(typeof f.componentDidUpdate!="function"||m===t.memoizedProps&&N===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&N===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,co(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=or(n,t.child,null,c),n.child=or(n,null,r,c)):vt(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Gn(t,n,c),t}function Zm(t,n,r,l){return oa(),n.flags|=256,vt(t,n,r,l),n.child}var Xc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qc(t){return{baseLanes:t,cachePool:Hp()}}function $c(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=an),t}function Wm(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,m;if((m=f)||(m=t!==null&&t.memoizedState===null?!1:(ut.current&2)!==0),m&&(c=!0,n.flags&=-129),m=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ie){if(c?yi(n):vi(),Ie){var _=Je,b;if(b=_){e:{for(b=_,_=Tn;b.nodeType!==8;){if(!_){_=null;break e}if(b=hn(b.nextSibling),b===null){_=null;break e}}_=b}_!==null?(n.memoizedState={dehydrated:_,treeContext:is!==null?{id:Bn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},b=qt(18,null,null,0),b.stateNode=_,b.return=n,n.child=b,Dt=n,Je=null,b=!0):b=!1}b||as(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return kf(_)?n.lanes=32:n.lanes=536870912,null;jn(n)}return _=l.children,l=l.fallback,c?(vi(),c=n.mode,_=fo({mode:"hidden",children:_},c),l=ns(l,c,r,null),_.return=n,l.return=n,_.sibling=l,n.child=_,c=n.child,c.memoizedState=Qc(r),c.childLanes=$c(t,m,r),n.memoizedState=Xc,l):(yi(n),Zc(n,_))}if(b=t.memoizedState,b!==null&&(_=b.dehydrated,_!==null)){if(f)n.flags&256?(yi(n),n.flags&=-257,n=Wc(t,n,r)):n.memoizedState!==null?(vi(),n.child=t.child,n.flags|=128,n=null):(vi(),c=l.fallback,_=n.mode,l=fo({mode:"visible",children:l.children},_),c=ns(c,_,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,or(n,t.child,null,r),l=n.child,l.memoizedState=Qc(r),l.childLanes=$c(t,m,r),n.memoizedState=Xc,n=c);else if(yi(n),kf(_)){if(m=_.nextSibling&&_.nextSibling.dataset,m)var R=m.dgst;m=R,l=Error(a(419)),l.stack="",l.digest=m,ua({value:l,source:null,stack:null}),n=Wc(t,n,r)}else if(dt||ca(t,n,r,!1),m=(r&t.childLanes)!==0,dt||m){if(m=Ye,m!==null&&(l=r&-r,l=(l&42)!==0?1:ku(l),l=(l&(m.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Zs(t,l),Xt(m,t,l),qm;_.data==="$?"||_f(),n=Wc(t,n,r)}else _.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,Je=hn(_.nextSibling),Dt=n,Ie=!0,rs=null,Tn=!1,t!==null&&(nn[sn++]=Bn,nn[sn++]=Vn,nn[sn++]=is,Bn=t.id,Vn=t.overflow,is=n),n=Zc(n,l.children),n.flags|=4096);return n}return c?(vi(),c=l.fallback,_=n.mode,b=t.child,R=b.sibling,l=Hn(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,R!==null?c=Hn(R,c):(c=ns(c,_,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,_=t.child.memoizedState,_===null?_=Qc(r):(b=_.cachePool,b!==null?(R=ot._currentValue,b=b.parent!==R?{parent:R,pool:R}:b):b=Hp(),_={baseLanes:_.baseLanes|r,cachePool:b}),c.memoizedState=_,c.childLanes=$c(t,m,r),n.memoizedState=Xc,l):(yi(n),r=t.child,t=r.sibling,r=Hn(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(m=n.deletions,m===null?(n.deletions=[t],n.flags|=16):m.push(t)),n.child=r,n.memoizedState=null,r)}function Zc(t,n){return n=fo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fo(t,n){return t=qt(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Wc(t,n,r){return or(n,t.child,null,r),t=Zc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Jm(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),gc(t.return,n,r)}function Jc(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function eg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(vt(t,n,l.children,r),l=ut.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jm(t,r,n);else if(t.tag===19)Jm(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(G(ut,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&lo(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Jc(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&lo(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Jc(n,!0,r,null,f);break;case"together":Jc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Gn(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ai|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ca(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Hn(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Hn(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function ef(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Gl(t)))}function JE(t,n,r){switch(n.tag){case 3:qe(n,n.stateNode.containerInfo),hi(n,ot,t.memoizedState.cache),oa();break;case 27:case 5:Qi(n);break;case 4:qe(n,n.stateNode.containerInfo);break;case 10:hi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(yi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Wm(t,n,r):(yi(n),t=Gn(t,n,r),t!==null?t.sibling:null);yi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ca(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return eg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(ut,ut.current),l)break;return null;case 22:case 23:return n.lanes=0,Km(t,n,r);case 24:hi(n,ot,t.memoizedState.cache)}return Gn(t,n,r)}function tg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)dt=!0;else{if(!ef(t,r)&&(n.flags&128)===0)return dt=!1,JE(t,n,r);dt=(t.flags&131072)!==0}else dt=!1,Ie&&(n.flags&1048576)!==0&&Mp(n,jl,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")uc(l)?(t=fs(l,t),n.tag=1,n=$m(null,n,l,t,r)):(n.tag=0,n=Kc(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===pe){n.tag=11,n=jm(null,n,l,t,r);break e}else if(c===be){n.tag=14,n=Gm(null,n,l,t,r);break e}}throw n=Ne(l)||l,Error(a(306,n,""))}}return n;case 0:return Kc(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=fs(l,n.pendingProps),$m(t,n,l,c,r);case 3:e:{if(qe(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Tc(t,n),_a(n,l,null,r);var m=n.memoizedState;if(l=m.cache,hi(n,ot,l),l!==f.cache&&_c(n,[ot],r,!0),ga(),l=m.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:m.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Zm(t,n,l,r);break e}else if(l!==c){c=en(Error(a(424)),n),ua(c),n=Zm(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Je=hn(t.firstChild),Dt=n,Ie=!0,rs=null,Tn=!0,r=xm(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(oa(),l===c){n=Gn(t,n,r);break e}vt(t,n,l,r)}n=n.child}return n;case 26:return co(t,n),t===null?(r=r_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ie||(r=n.type,t=n.pendingProps,l=wo(ue.current).createElement(r),l[Tt]=n,l[xt]=t,Et(l,r,t),ft(l),n.stateNode=l):n.memoizedState=r_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Qi(n),t===null&&Ie&&(l=n.stateNode=n_(n.type,n.pendingProps,ue.current),Dt=n,Tn=!0,c=Je,Oi(n.type)?(Uf=c,Je=hn(l.firstChild)):Je=c),vt(t,n,n.pendingProps.children,r),co(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ie&&((c=l=Je)&&(l=RS(l,n.type,n.pendingProps,Tn),l!==null?(n.stateNode=l,Dt=n,Je=hn(l.firstChild),Tn=!1,c=!0):c=!1),c||as(n)),Qi(n),c=n.type,f=n.pendingProps,m=t!==null?t.memoizedProps:null,l=f.children,Mf(c,f)?l=null:m!==null&&Mf(c,m)&&(n.flags|=32),n.memoizedState!==null&&(c=Nc(t,n,GE,null,null,r),Ba._currentValue=c),co(t,n),vt(t,n,l,r),n.child;case 6:return t===null&&Ie&&((t=r=Je)&&(r=OS(r,n.pendingProps,Tn),r!==null?(n.stateNode=r,Dt=n,Je=null,t=!0):t=!1),t||as(n)),null;case 13:return Wm(t,n,r);case 4:return qe(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=or(n,null,l,r):vt(t,n,l,r),n.child;case 11:return jm(t,n,n.type,n.pendingProps,r);case 7:return vt(t,n,n.pendingProps,r),n.child;case 8:return vt(t,n,n.pendingProps.children,r),n.child;case 12:return vt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,hi(n,n.type,l.value),vt(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,os(n),c=At(c),l=l(c),n.flags|=1,vt(t,n,l,r),n.child;case 14:return Gm(t,n,n.type,n.pendingProps,r);case 15:return Ym(t,n,n.type,n.pendingProps,r);case 19:return eg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=fo(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Hn(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Km(t,n,r);case 24:return os(n),l=At(ot),t===null?(c=bc(),c===null&&(c=Ye,f=yc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Sc(n),hi(n,ot,c)):((t.lanes&r)!==0&&(Tc(t,n),_a(n,null,null,r),ga()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),hi(n,ot,l)):(l=f.cache,hi(n,ot,l),l!==c.cache&&_c(n,[ot],r,!0))),vt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Yn(t){t.flags|=4}function ng(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!c_(n)){if(n=rn.current,n!==null&&((we&4194048)===we?An!==null:(we&62914560)!==we&&(we&536870912)===0||n!==An))throw pa=Ec,Bp;t.flags|=8192}}function ho(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?kh():536870912,t.lanes|=n,dr|=n)}function Aa(t,n){if(!Ie)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function We(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function eS(t,n,r){var l=n.pendingProps;switch(hc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(n),null;case 1:return We(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Fn(ot),$t(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(la(n)?Yn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,kp())),We(n),null;case 26:return r=n.memoizedState,t===null?(Yn(n),r!==null?(We(n),ng(n,r)):(We(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Yn(n),We(n),ng(n,r)):(We(n),n.flags&=-16777217):(t.memoizedProps!==l&&Yn(n),We(n),n.flags&=-16777217),null;case 27:xs(n),r=ue.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Yn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return We(n),null}t=se.current,la(n)?Ip(n):(t=n_(c,l,r),n.stateNode=t,Yn(n))}return We(n),null;case 5:if(xs(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Yn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return We(n),null}if(t=se.current,la(n))Ip(n);else{switch(c=wo(ue.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Tt]=n,t[xt]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;e:switch(Et(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Yn(n)}}return We(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Yn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=ue.current,la(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Dt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Tt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Qg(t.nodeValue,r)),t||as(n)}else t=wo(t).createTextNode(l),t[Tt]=n,n.stateNode=t}return We(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=la(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Tt]=n}else oa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;We(n),c=!1}else c=kp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(jn(n),n):(jn(n),null)}if(jn(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),ho(n,n.updateQueue),We(n),null;case 4:return $t(),t===null&&wf(n.stateNode.containerInfo),We(n),null;case 10:return Fn(n.type),We(n),null;case 19:if(Q(ut),c=n.memoizedState,c===null)return We(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Aa(c,!1);else{if(et!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=lo(t),f!==null){for(n.flags|=128,Aa(c,!1),t=f.updateQueue,n.updateQueue=t,ho(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Dp(r,t),r=r.sibling;return G(ut,ut.current&1|2),n.child}t=t.sibling}c.tail!==null&&Zt()>go&&(n.flags|=128,l=!0,Aa(c,!1),n.lanes=4194304)}else{if(!l)if(t=lo(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,ho(n,t),Aa(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Ie)return We(n),null}else 2*Zt()-c.renderingStartTime>go&&r!==536870912&&(n.flags|=128,l=!0,Aa(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Zt(),n.sibling=null,t=ut.current,G(ut,l?t&1|2:t&1),n):(We(n),null);case 22:case 23:return jn(n),Rc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(We(n),n.subtreeFlags&6&&(n.flags|=8192)):We(n),r=n.updateQueue,r!==null&&ho(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Q(us),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Fn(ot),We(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function tS(t,n){switch(hc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Fn(ot),$t(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return xs(n),null;case 13:if(jn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));oa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(ut),null;case 4:return $t(),null;case 10:return Fn(n.type),null;case 22:case 23:return jn(n),Rc(),t!==null&&Q(us),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Fn(ot),null;case 25:return null;default:return null}}function ig(t,n){switch(hc(n),n.tag){case 3:Fn(ot),$t();break;case 26:case 27:case 5:xs(n);break;case 4:$t();break;case 13:jn(n);break;case 19:Q(ut);break;case 10:Fn(n.type);break;case 22:case 23:jn(n),Rc(),t!==null&&Q(us);break;case 24:Fn(ot)}}function Ca(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,m=r.inst;l=f(),m.destroy=l}r=r.next}while(r!==c)}}catch(_){je(n,n.return,_)}}function bi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var m=l.inst,_=m.destroy;if(_!==void 0){m.destroy=void 0,c=n;var b=r,R=_;try{R()}catch(I){je(c,b,I)}}}l=l.next}while(l!==f)}}catch(I){je(n,n.return,I)}}function sg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Gp(n,r)}catch(l){je(t,t.return,l)}}}function rg(t,n,r){r.props=fs(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){je(t,n,l)}}function wa(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){je(t,n,c)}}function Cn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){je(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){je(t,n,c)}else r.current=null}function ag(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){je(t,t.return,c)}}function tf(t,n,r){try{var l=t.stateNode;SS(l,t.type,r,n),l[xt]=n}catch(c){je(t,t.return,c)}}function lg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Oi(t.type)||t.tag===4}function nf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Oi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Co));else if(l!==4&&(l===27&&Oi(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(sf(t,n,r),t=t.sibling;t!==null;)sf(t,n,r),t=t.sibling}function po(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Oi(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(po(t,n,r),t=t.sibling;t!==null;)po(t,n,r),t=t.sibling}function og(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Et(n,l,r),n[Tt]=t,n[xt]=r}catch(f){je(t,t.return,f)}}var Kn=!1,nt=!1,rf=!1,ug=typeof WeakSet=="function"?WeakSet:Set,ht=null;function nS(t,n){if(t=t.containerInfo,Nf=Io,t=bp(t),nc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var m=0,_=-1,b=-1,R=0,I=0,U=t,N=null;t:for(;;){for(var D;U!==r||c!==0&&U.nodeType!==3||(_=m+c),U!==f||l!==0&&U.nodeType!==3||(b=m+l),U.nodeType===3&&(m+=U.nodeValue.length),(D=U.firstChild)!==null;)N=U,U=D;for(;;){if(U===t)break t;if(N===r&&++R===c&&(_=m),N===f&&++I===l&&(b=m),(D=U.nextSibling)!==null)break;U=N,N=U.parentNode}U=D}r=_===-1||b===-1?null:{start:_,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Df={focusedElem:t,selectionRange:r},Io=!1,ht=n;ht!==null;)if(n=ht,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,ht=t;else for(;ht!==null;){switch(n=ht,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var oe=fs(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(oe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(re){je(r,r.return,re)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)xf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,ht=t;break}ht=n.return}}function cg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ei(t,r),l&4&&Ca(5,r);break;case 1:if(Ei(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(m){je(r,r.return,m)}else{var c=fs(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(m){je(r,r.return,m)}}l&64&&sg(r),l&512&&wa(r,r.return);break;case 3:if(Ei(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Gp(t,n)}catch(m){je(r,r.return,m)}}break;case 27:n===null&&l&4&&og(r);case 26:case 5:Ei(t,r),n===null&&l&4&&ag(r),l&512&&wa(r,r.return);break;case 12:Ei(t,r);break;case 13:Ei(t,r),l&4&&hg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=fS.bind(null,r),NS(t,r))));break;case 22:if(l=r.memoizedState!==null||Kn,!l){n=n!==null&&n.memoizedState!==null||nt,c=Kn;var f=nt;Kn=l,(nt=n)&&!f?Si(t,r,(r.subtreeFlags&8772)!==0):Ei(t,r),Kn=c,nt=f}break;case 30:break;default:Ei(t,r)}}function fg(t){var n=t.alternate;n!==null&&(t.alternate=null,fg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&zu(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ze=null,Lt=!1;function Xn(t,n,r){for(r=r.child;r!==null;)dg(t,n,r),r=r.sibling}function dg(t,n,r){if(ce&&typeof ce.onCommitFiberUnmount=="function")try{ce.onCommitFiberUnmount(W,r)}catch{}switch(r.tag){case 26:nt||Cn(r,n),Xn(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:nt||Cn(r,n);var l=Ze,c=Lt;Oi(r.type)&&(Ze=r.stateNode,Lt=!1),Xn(t,n,r),Ua(r.stateNode),Ze=l,Lt=c;break;case 5:nt||Cn(r,n);case 6:if(l=Ze,c=Lt,Ze=null,Xn(t,n,r),Ze=l,Lt=c,Ze!==null)if(Lt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(r.stateNode)}catch(f){je(r,n,f)}else try{Ze.removeChild(r.stateNode)}catch(f){je(r,n,f)}break;case 18:Ze!==null&&(Lt?(t=Ze,e_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),qa(t)):e_(Ze,r.stateNode));break;case 4:l=Ze,c=Lt,Ze=r.stateNode.containerInfo,Lt=!0,Xn(t,n,r),Ze=l,Lt=c;break;case 0:case 11:case 14:case 15:nt||bi(2,r,n),nt||bi(4,r,n),Xn(t,n,r);break;case 1:nt||(Cn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&rg(r,n,l)),Xn(t,n,r);break;case 21:Xn(t,n,r);break;case 22:nt=(l=nt)||r.memoizedState!==null,Xn(t,n,r),nt=l;break;default:Xn(t,n,r)}}function hg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qa(t)}catch(r){je(n,n.return,r)}}function iS(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ug),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ug),n;default:throw Error(a(435,t.tag))}}function af(t,n){var r=iS(t);n.forEach(function(l){var c=dS.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function jt(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,m=n,_=m;e:for(;_!==null;){switch(_.tag){case 27:if(Oi(_.type)){Ze=_.stateNode,Lt=!1;break e}break;case 5:Ze=_.stateNode,Lt=!1;break e;case 3:case 4:Ze=_.stateNode.containerInfo,Lt=!0;break e}_=_.return}if(Ze===null)throw Error(a(160));dg(f,m,c),Ze=null,Lt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)pg(n,t),n=n.sibling}var dn=null;function pg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jt(n,t),Gt(t),l&4&&(bi(3,t,t.return),Ca(3,t),bi(5,t,t.return));break;case 1:jt(n,t),Gt(t),l&512&&(nt||r===null||Cn(r,r.return)),l&64&&Kn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=dn;if(jt(n,t),Gt(t),l&512&&(nt||r===null||Cn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[$r]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Et(f,l,r),f[Tt]=t,ft(f),l=f;break e;case"link":var m=o_("link","href",c).get(l+(r.href||""));if(m){for(var _=0;_<m.length;_++)if(f=m[_],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){m.splice(_,1);break t}}f=c.createElement(l),Et(f,l,r),c.head.appendChild(f);break;case"meta":if(m=o_("meta","content",c).get(l+(r.content||""))){for(_=0;_<m.length;_++)if(f=m[_],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){m.splice(_,1);break t}}f=c.createElement(l),Et(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Tt]=t,ft(f),l=f}t.stateNode=l}else u_(c,t.type,t.stateNode);else t.stateNode=l_(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?u_(c,t.type,t.stateNode):l_(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&tf(t,t.memoizedProps,r.memoizedProps)}break;case 27:jt(n,t),Gt(t),l&512&&(nt||r===null||Cn(r,r.return)),r!==null&&l&4&&tf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(jt(n,t),Gt(t),l&512&&(nt||r===null||Cn(r,r.return)),t.flags&32){c=t.stateNode;try{js(c,"")}catch(D){je(t,t.return,D)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,tf(t,c,r!==null?r.memoizedProps:c)),l&1024&&(rf=!0);break;case 6:if(jt(n,t),Gt(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(D){je(t,t.return,D)}}break;case 3:if(No=null,c=dn,dn=Ro(n.containerInfo),jt(n,t),dn=c,Gt(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(D){je(t,t.return,D)}rf&&(rf=!1,mg(t));break;case 4:l=dn,dn=Ro(t.stateNode.containerInfo),jt(n,t),Gt(t),dn=l;break;case 12:jt(n,t),Gt(t);break;case 13:jt(n,t),Gt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(df=Zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,af(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,R=Kn,I=nt;if(Kn=R||c,nt=I||b,jt(n,t),nt=I,Kn=R,Gt(t),l&8192)e:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Kn||nt||ds(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=b.stateNode;var U=b.memoizedProps.style,N=U!=null&&U.hasOwnProperty("display")?U.display:null;_.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(D){je(b,b.return,D)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(D){je(b,b.return,D)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,af(t,r))));break;case 19:jt(n,t),Gt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,af(t,l)));break;case 30:break;case 21:break;default:jt(n,t),Gt(t)}}function Gt(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(lg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=nf(t);po(t,f,c);break;case 5:var m=r.stateNode;r.flags&32&&(js(m,""),r.flags&=-33);var _=nf(t);po(t,_,m);break;case 3:case 4:var b=r.stateNode.containerInfo,R=nf(t);sf(t,R,b);break;default:throw Error(a(161))}}catch(I){je(t,t.return,I)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function mg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;mg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ei(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cg(t,n.alternate,n),n=n.sibling}function ds(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:bi(4,n,n.return),ds(n);break;case 1:Cn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&rg(n,n.return,r),ds(n);break;case 27:Ua(n.stateNode);case 26:case 5:Cn(n,n.return),ds(n);break;case 22:n.memoizedState===null&&ds(n);break;case 30:ds(n);break;default:ds(n)}t=t.sibling}}function Si(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,m=f.flags;switch(f.tag){case 0:case 11:case 15:Si(c,f,r),Ca(4,f);break;case 1:if(Si(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(R){je(l,l.return,R)}if(l=f,c=l.updateQueue,c!==null){var _=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)jp(b[c],_)}catch(R){je(l,l.return,R)}}r&&m&64&&sg(f),wa(f,f.return);break;case 27:og(f);case 26:case 5:Si(c,f,r),r&&l===null&&m&4&&ag(f),wa(f,f.return);break;case 12:Si(c,f,r);break;case 13:Si(c,f,r),r&&m&4&&hg(c,f);break;case 22:f.memoizedState===null&&Si(c,f,r),wa(f,f.return);break;case 30:break;default:Si(c,f,r)}n=n.sibling}}function lf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&fa(r))}function of(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fa(t))}function wn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gg(t,n,r,l),n=n.sibling}function gg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:wn(t,n,r,l),c&2048&&Ca(9,n);break;case 1:wn(t,n,r,l);break;case 3:wn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fa(t)));break;case 12:if(c&2048){wn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,m=f.id,_=f.onPostCommit;typeof _=="function"&&_(m,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){je(n,n.return,b)}}else wn(t,n,r,l);break;case 13:wn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,m=n.alternate,n.memoizedState!==null?f._visibility&2?wn(t,n,r,l):Ra(t,n):f._visibility&2?wn(t,n,r,l):(f._visibility|=2,ur(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&lf(m,n);break;case 24:wn(t,n,r,l),c&2048&&of(n.alternate,n);break;default:wn(t,n,r,l)}}function ur(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,m=n,_=r,b=l,R=m.flags;switch(m.tag){case 0:case 11:case 15:ur(f,m,_,b,c),Ca(8,m);break;case 23:break;case 22:var I=m.stateNode;m.memoizedState!==null?I._visibility&2?ur(f,m,_,b,c):Ra(f,m):(I._visibility|=2,ur(f,m,_,b,c)),c&&R&2048&&lf(m.alternate,m);break;case 24:ur(f,m,_,b,c),c&&R&2048&&of(m.alternate,m);break;default:ur(f,m,_,b,c)}n=n.sibling}}function Ra(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Ra(r,l),c&2048&&lf(l.alternate,l);break;case 24:Ra(r,l),c&2048&&of(l.alternate,l);break;default:Ra(r,l)}n=n.sibling}}var Oa=8192;function cr(t){if(t.subtreeFlags&Oa)for(t=t.child;t!==null;)_g(t),t=t.sibling}function _g(t){switch(t.tag){case 26:cr(t),t.flags&Oa&&t.memoizedState!==null&&FS(dn,t.memoizedState,t.memoizedProps);break;case 5:cr(t);break;case 3:case 4:var n=dn;dn=Ro(t.stateNode.containerInfo),cr(t),dn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Oa,Oa=16777216,cr(t),Oa=n):cr(t));break;default:cr(t)}}function yg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Na(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];ht=l,bg(l,t)}yg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vg(t),t=t.sibling}function vg(t){switch(t.tag){case 0:case 11:case 15:Na(t),t.flags&2048&&bi(9,t,t.return);break;case 3:Na(t);break;case 12:Na(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,mo(t)):Na(t);break;default:Na(t)}}function mo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];ht=l,bg(l,t)}yg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:bi(8,n,n.return),mo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,mo(n));break;default:mo(n)}t=t.sibling}}function bg(t,n){for(;ht!==null;){var r=ht;switch(r.tag){case 0:case 11:case 15:bi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fa(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,ht=l;else e:for(r=t;ht!==null;){l=ht;var c=l.sibling,f=l.return;if(fg(l),l===r){ht=null;break e}if(c!==null){c.return=f,ht=c;break e}ht=f}}}var sS={getCacheForType:function(t){var n=At(ot),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},rS=typeof WeakMap=="function"?WeakMap:Map,ke=0,Ye=null,ye=null,we=0,Ue=0,Yt=null,Ti=!1,fr=!1,uf=!1,Qn=0,et=0,Ai=0,hs=0,cf=0,an=0,dr=0,Da=null,zt=null,ff=!1,df=0,go=1/0,_o=null,Ci=null,bt=0,wi=null,hr=null,pr=0,hf=0,pf=null,Eg=null,Ma=0,mf=null;function Kt(){if((ke&2)!==0&&we!==0)return we&-we;if(M.T!==null){var t=tr;return t!==0?t:Sf()}return zh()}function Sg(){an===0&&(an=(we&536870912)===0||Ie?xh():536870912);var t=rn.current;return t!==null&&(t.flags|=32),an}function Xt(t,n,r){(t===Ye&&(Ue===2||Ue===9)||t.cancelPendingCommit!==null)&&(mr(t,0),Ri(t,we,an,!1)),Qr(t,r),((ke&2)===0||t!==Ye)&&(t===Ye&&((ke&2)===0&&(hs|=r),et===4&&Ri(t,we,an,!1)),Rn(t))}function Tg(t,n,r){if((ke&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Zi(t,n),c=l?oS(t,n):yf(t,n,!0),f=l;do{if(c===0){fr&&!l&&Ri(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!aS(r)){c=yf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var m=0;else m=t.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){n=m;e:{var _=t;c=Da;var b=_.current.memoizedState.isDehydrated;if(b&&(mr(_,m).flags|=256),m=yf(_,m,!1),m!==2){if(uf&&!b){_.errorRecoveryDisabledLanes|=f,hs|=f,c=4;break e}f=zt,zt=c,f!==null&&(zt===null?zt=f:zt.push.apply(zt,f))}c=m}if(f=!1,c!==2)continue}}if(c===1){mr(t,0),Ri(t,n,0,!0);break}e:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ri(l,n,an,!Ti);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=df+300-Zt(),10<c)){if(Ri(l,n,an,!Ti),$i(l,0,!0)!==0)break e;l.timeoutHandle=Wg(Ag.bind(null,l,r,zt,_o,ff,n,an,hs,dr,Ti,f,2,-0,0),c);break e}Ag(l,r,zt,_o,ff,n,an,hs,dr,Ti,f,0,-0,0)}}break}while(!0);Rn(t)}function Ag(t,n,r,l,c,f,m,_,b,R,I,U,N,D){if(t.timeoutHandle=-1,U=n.subtreeFlags,(U&8192||(U&16785408)===16785408)&&(Ha={stylesheets:null,count:0,unsuspend:PS},_g(n),U=qS(),U!==null)){t.cancelPendingCommit=U(Mg.bind(null,t,n,f,r,l,c,m,_,b,I,1,N,D)),Ri(t,f,m,!R);return}Mg(t,n,f,r,l,c,m,_,b)}function aS(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!Ft(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ri(t,n,r,l){n&=~cf,n&=~hs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ge(c),m=1<<f;l[f]=-1,c&=~m}r!==0&&Uh(t,r,n)}function yo(){return(ke&6)===0?(Ia(0),!1):!0}function gf(){if(ye!==null){if(Ue===0)var t=ye.return;else t=ye,Pn=ls=null,Ic(t),lr=null,Sa=0,t=ye;for(;t!==null;)ig(t.alternate,t),t=t.return;ye=null}}function mr(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,AS(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),gf(),Ye=t,ye=r=Hn(t.current,null),we=n,Ue=0,Yt=null,Ti=!1,fr=Zi(t,n),uf=!1,dr=an=cf=hs=Ai=et=0,zt=Da=null,ff=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ge(l),f=1<<c;n|=t[c],l&=~f}return Qn=n,Bl(),r}function Cg(t,n){ge=null,M.H=so,n===ha||n===Xl?(n=Fp(),Ue=3):n===Bp?(n=Fp(),Ue=4):Ue=n===qm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Yt=n,ye===null&&(et=1,uo(t,en(n,t.current)))}function wg(){var t=M.H;return M.H=so,t===null?so:t}function Rg(){var t=M.A;return M.A=sS,t}function _f(){et=4,Ti||(we&4194048)!==we&&rn.current!==null||(fr=!0),(Ai&134217727)===0&&(hs&134217727)===0||Ye===null||Ri(Ye,we,an,!1)}function yf(t,n,r){var l=ke;ke|=2;var c=wg(),f=Rg();(Ye!==t||we!==n)&&(_o=null,mr(t,n)),n=!1;var m=et;e:do try{if(Ue!==0&&ye!==null){var _=ye,b=Yt;switch(Ue){case 8:gf(),m=6;break e;case 3:case 2:case 9:case 6:rn.current===null&&(n=!0);var R=Ue;if(Ue=0,Yt=null,gr(t,_,b,R),r&&fr){m=0;break e}break;default:R=Ue,Ue=0,Yt=null,gr(t,_,b,R)}}lS(),m=et;break}catch(I){Cg(t,I)}while(!0);return n&&t.shellSuspendCounter++,Pn=ls=null,ke=l,M.H=c,M.A=f,ye===null&&(Ye=null,we=0,Bl()),m}function lS(){for(;ye!==null;)Og(ye)}function oS(t,n){var r=ke;ke|=2;var l=wg(),c=Rg();Ye!==t||we!==n?(_o=null,go=Zt()+500,mr(t,n)):fr=Zi(t,n);e:do try{if(Ue!==0&&ye!==null){n=ye;var f=Yt;t:switch(Ue){case 1:Ue=0,Yt=null,gr(t,n,f,1);break;case 2:case 9:if(Vp(f)){Ue=0,Yt=null,Ng(n);break}n=function(){Ue!==2&&Ue!==9||Ye!==t||(Ue=7),Rn(t)},f.then(n,n);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:Vp(f)?(Ue=0,Yt=null,Ng(n)):(Ue=0,Yt=null,gr(t,n,f,7));break;case 5:var m=null;switch(ye.tag){case 26:m=ye.memoizedState;case 5:case 27:var _=ye;if(!m||c_(m)){Ue=0,Yt=null;var b=_.sibling;if(b!==null)ye=b;else{var R=_.return;R!==null?(ye=R,vo(R)):ye=null}break t}}Ue=0,Yt=null,gr(t,n,f,5);break;case 6:Ue=0,Yt=null,gr(t,n,f,6);break;case 8:gf(),et=6;break e;default:throw Error(a(462))}}uS();break}catch(I){Cg(t,I)}while(!0);return Pn=ls=null,M.H=l,M.A=c,ke=r,ye!==null?0:(Ye=null,we=0,Bl(),et)}function uS(){for(;ye!==null&&!wl();)Og(ye)}function Og(t){var n=tg(t.alternate,t,Qn);t.memoizedProps=t.pendingProps,n===null?vo(t):ye=n}function Ng(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Qm(r,n,n.pendingProps,n.type,void 0,we);break;case 11:n=Qm(r,n,n.pendingProps,n.type.render,n.ref,we);break;case 5:Ic(n);default:ig(r,n),n=ye=Dp(n,Qn),n=tg(r,n,Qn)}t.memoizedProps=t.pendingProps,n===null?vo(t):ye=n}function gr(t,n,r,l){Pn=ls=null,Ic(n),lr=null,Sa=0;var c=n.return;try{if(WE(t,c,n,r,we)){et=1,uo(t,en(r,t.current)),ye=null;return}}catch(f){if(c!==null)throw ye=c,f;et=1,uo(t,en(r,t.current)),ye=null;return}n.flags&32768?(Ie||l===1?t=!0:fr||(we&536870912)!==0?t=!1:(Ti=t=!0,(l===2||l===9||l===3||l===6)&&(l=rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dg(n,t)):vo(n)}function vo(t){var n=t;do{if((n.flags&32768)!==0){Dg(n,Ti);return}t=n.return;var r=eS(n.alternate,n,Qn);if(r!==null){ye=r;return}if(n=n.sibling,n!==null){ye=n;return}ye=n=t}while(n!==null);et===0&&(et=5)}function Dg(t,n){do{var r=tS(t.alternate,t);if(r!==null){r.flags&=32767,ye=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ye=t;return}ye=t=r}while(t!==null);et=6,ye=null}function Mg(t,n,r,l,c,f,m,_,b){t.cancelPendingCommit=null;do bo();while(bt!==0);if((ke&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=lc,Pb(t,r,f,m,_,b),t===Ye&&(ye=Ye=null,we=0),hr=n,wi=t,pr=r,hf=f,pf=c,Eg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,hS(O,function(){return Lg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,c=P.p,P.p=2,m=ke,ke|=4;try{nS(t,n,r)}finally{ke=m,P.p=c,M.T=l}}bt=1,Ig(),xg(),kg()}}function Ig(){if(bt===1){bt=0;var t=wi,n=hr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var l=P.p;P.p=2;var c=ke;ke|=4;try{pg(n,t);var f=Df,m=bp(t.containerInfo),_=f.focusedElem,b=f.selectionRange;if(m!==_&&_&&_.ownerDocument&&vp(_.ownerDocument.documentElement,_)){if(b!==null&&nc(_)){var R=b.start,I=b.end;if(I===void 0&&(I=R),"selectionStart"in _)_.selectionStart=R,_.selectionEnd=Math.min(I,_.value.length);else{var U=_.ownerDocument||document,N=U&&U.defaultView||window;if(N.getSelection){var D=N.getSelection(),oe=_.textContent.length,re=Math.min(b.start,oe),Be=b.end===void 0?re:Math.min(b.end,oe);!D.extend&&re>Be&&(m=Be,Be=re,re=m);var C=yp(_,re),A=yp(_,Be);if(C&&A&&(D.rangeCount!==1||D.anchorNode!==C.node||D.anchorOffset!==C.offset||D.focusNode!==A.node||D.focusOffset!==A.offset)){var w=U.createRange();w.setStart(C.node,C.offset),D.removeAllRanges(),re>Be?(D.addRange(w),D.extend(A.node,A.offset)):(w.setEnd(A.node,A.offset),D.addRange(w))}}}}for(U=[],D=_;D=D.parentNode;)D.nodeType===1&&U.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<U.length;_++){var k=U[_];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}Io=!!Nf,Df=Nf=null}finally{ke=c,P.p=l,M.T=r}}t.current=n,bt=2}}function xg(){if(bt===2){bt=0;var t=wi,n=hr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var l=P.p;P.p=2;var c=ke;ke|=4;try{cg(t,n.alternate,n)}finally{ke=c,P.p=l,M.T=r}}bt=3}}function kg(){if(bt===4||bt===3){bt=0,Mu();var t=wi,n=hr,r=pr,l=Eg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?bt=5:(bt=0,hr=wi=null,Ug(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ci=null),Uu(r),n=n.stateNode,ce&&typeof ce.onCommitFiberRoot=="function")try{ce.onCommitFiberRoot(W,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=M.T,c=P.p,P.p=2,M.T=null;try{for(var f=t.onRecoverableError,m=0;m<l.length;m++){var _=l[m];f(_.value,{componentStack:_.stack})}}finally{M.T=n,P.p=c}}(pr&3)!==0&&bo(),Rn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===mf?Ma++:(Ma=0,mf=t):Ma=0,Ia(0)}}function Ug(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,fa(n)))}function bo(t){return Ig(),xg(),kg(),Lg()}function Lg(){if(bt!==5)return!1;var t=wi,n=hf;hf=0;var r=Uu(pr),l=M.T,c=P.p;try{P.p=32>r?32:r,M.T=null,r=pf,pf=null;var f=wi,m=pr;if(bt=0,hr=wi=null,pr=0,(ke&6)!==0)throw Error(a(331));var _=ke;if(ke|=4,vg(f.current),gg(f,f.current,m,r),ke=_,Ia(0,!1),ce&&typeof ce.onPostCommitFiberRoot=="function")try{ce.onPostCommitFiberRoot(W,f)}catch{}return!0}finally{P.p=c,M.T=l,Ug(t,n)}}function zg(t,n,r){n=en(r,n),n=Yc(t.stateNode,n,2),t=gi(t,n,2),t!==null&&(Qr(t,2),Rn(t))}function je(t,n,r){if(t.tag===3)zg(t,t,r);else for(;n!==null;){if(n.tag===3){zg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ci===null||!Ci.has(l))){t=en(r,t),r=Pm(2),l=gi(n,r,2),l!==null&&(Fm(r,l,n,t),Qr(l,2),Rn(l));break}}n=n.return}}function vf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new rS;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(uf=!0,c.add(r),t=cS.bind(null,t,n,r),n.then(t,t))}function cS(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ye===t&&(we&r)===r&&(et===4||et===3&&(we&62914560)===we&&300>Zt()-df?(ke&2)===0&&mr(t,0):cf|=r,dr===we&&(dr=0)),Rn(t)}function Hg(t,n){n===0&&(n=kh()),t=Zs(t,n),t!==null&&(Qr(t,n),Rn(t))}function fS(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Hg(t,r)}function dS(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Hg(t,r)}function hS(t,n){return Kr(t,n)}var Eo=null,_r=null,bf=!1,So=!1,Ef=!1,ps=0;function Rn(t){t!==_r&&t.next===null&&(_r===null?Eo=_r=t:_r=_r.next=t),So=!0,bf||(bf=!0,mS())}function Ia(t,n){if(!Ef&&So){Ef=!0;do for(var r=!1,l=Eo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var m=l.suspendedLanes,_=l.pingedLanes;f=(1<<31-Ge(42|t)+1)-1,f&=c&~(m&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Fg(l,f))}else f=we,f=$i(l,l===Ye?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Zi(l,f)||(r=!0,Fg(l,f));l=l.next}while(r);Ef=!1}}function pS(){Bg()}function Bg(){So=bf=!1;var t=0;ps!==0&&(TS()&&(t=ps),ps=0);for(var n=Zt(),r=null,l=Eo;l!==null;){var c=l.next,f=Vg(l,n);f===0?(l.next=null,r===null?Eo=c:r.next=c,c===null&&(_r=r)):(r=l,(t!==0||(f&3)!==0)&&(So=!0)),l=c}Ia(t)}function Vg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var m=31-Ge(f),_=1<<m,b=c[m];b===-1?((_&r)===0||(_&l)!==0)&&(c[m]=Rl(_,n)):b<=n&&(t.expiredLanes|=_),f&=~_}if(n=Ye,r=we,r=$i(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ue===2||Ue===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Us(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Zi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Us(l),Uu(r)){case 2:case 8:r=S;break;case 32:r=O;break;case 268435456:r=X;break;default:r=O}return l=Pg.bind(null,t),r=Kr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Us(l),t.callbackPriority=2,t.callbackNode=null,2}function Pg(t,n){if(bt!==0&&bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(bo()&&t.callbackNode!==r)return null;var l=we;return l=$i(t,t===Ye?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Tg(t,l,n),Vg(t,Zt()),t.callbackNode!=null&&t.callbackNode===r?Pg.bind(null,t):null)}function Fg(t,n){if(bo())return null;Tg(t,n,!0)}function mS(){CS(function(){(ke&6)!==0?Kr(Xr,pS):Bg()})}function Sf(){return ps===0&&(ps=xh()),ps}function qg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Il(""+t)}function jg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function gS(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=qg((c[xt]||null).action),m=l.submitter;m&&(n=(n=m[xt]||null)?qg(n.formAction):m.getAttribute("formAction"),n!==null&&(f=n,m=null));var _=new Ll("action","action",null,l,c);t.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ps!==0){var b=m?jg(c,m):new FormData(c);Pc(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(_.preventDefault(),b=m?jg(c,m):new FormData(c),Pc(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Tf=0;Tf<ac.length;Tf++){var Af=ac[Tf],_S=Af.toLowerCase(),yS=Af[0].toUpperCase()+Af.slice(1);fn(_S,"on"+yS)}fn(Tp,"onAnimationEnd"),fn(Ap,"onAnimationIteration"),fn(Cp,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(UE,"onTransitionRun"),fn(LE,"onTransitionStart"),fn(zE,"onTransitionCancel"),fn(wp,"onTransitionEnd"),Ps("onMouseEnter",["mouseout","mouseover"]),Ps("onMouseLeave",["mouseout","mouseover"]),Ps("onPointerEnter",["pointerout","pointerover"]),Ps("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xa));function Gg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var m=l.length-1;0<=m;m--){var _=l[m],b=_.instance,R=_.currentTarget;if(_=_.listener,b!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=R;try{f(c)}catch(I){oo(I)}c.currentTarget=null,f=b}else for(m=0;m<l.length;m++){if(_=l[m],b=_.instance,R=_.currentTarget,_=_.listener,b!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=R;try{f(c)}catch(I){oo(I)}c.currentTarget=null,f=b}}}}function ve(t,n){var r=n[Lu];r===void 0&&(r=n[Lu]=new Set);var l=t+"__bubble";r.has(l)||(Yg(n,t,2,!1),r.add(l))}function Cf(t,n,r){var l=0;n&&(l|=4),Yg(r,t,l,n)}var To="_reactListening"+Math.random().toString(36).slice(2);function wf(t){if(!t[To]){t[To]=!0,Bh.forEach(function(r){r!=="selectionchange"&&(vS.has(r)||Cf(r,!1,t),Cf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[To]||(n[To]=!0,Cf("selectionchange",!1,n))}}function Yg(t,n,r,l){switch(g_(n)){case 2:var c=YS;break;case 8:c=KS;break;default:c=Vf}r=c.bind(null,n,r,t),c=void 0,!Ku||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Rf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var _=l.stateNode.containerInfo;if(_===c)break;if(m===4)for(m=l.return;m!==null;){var b=m.tag;if((b===3||b===4)&&m.stateNode.containerInfo===c)return;m=m.return}for(;_!==null;){if(m=Hs(_),m===null)return;if(b=m.tag,b===5||b===6||b===26||b===27){l=f=m;continue e}_=_.parentNode}}l=l.return}Jh(function(){var R=f,I=Gu(r),U=[];e:{var N=Rp.get(t);if(N!==void 0){var D=Ll,oe=t;switch(t){case"keypress":if(kl(r)===0)break e;case"keydown":case"keyup":D=hE;break;case"focusin":oe="focus",D=Zu;break;case"focusout":oe="blur",D=Zu;break;case"beforeblur":case"afterblur":D=Zu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=np;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=tE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=gE;break;case Tp:case Ap:case Cp:D=sE;break;case wp:D=yE;break;case"scroll":case"scrollend":D=Jb;break;case"wheel":D=bE;break;case"copy":case"cut":case"paste":D=aE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=sp;break;case"toggle":case"beforetoggle":D=SE}var re=(n&4)!==0,Be=!re&&(t==="scroll"||t==="scrollend"),C=re?N!==null?N+"Capture":null:N;re=[];for(var A=R,w;A!==null;){var k=A;if(w=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||w===null||C===null||(k=Wr(A,C),k!=null&&re.push(ka(A,k,w))),Be)break;A=A.return}0<re.length&&(N=new D(N,oe,null,r,I),U.push({event:N,listeners:re}))}}if((n&7)===0){e:{if(N=t==="mouseover"||t==="pointerover",D=t==="mouseout"||t==="pointerout",N&&r!==ju&&(oe=r.relatedTarget||r.fromElement)&&(Hs(oe)||oe[zs]))break e;if((D||N)&&(N=I.window===I?I:(N=I.ownerDocument)?N.defaultView||N.parentWindow:window,D?(oe=r.relatedTarget||r.toElement,D=R,oe=oe?Hs(oe):null,oe!==null&&(Be=u(oe),re=oe.tag,oe!==Be||re!==5&&re!==27&&re!==6)&&(oe=null)):(D=null,oe=R),D!==oe)){if(re=np,k="onMouseLeave",C="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(re=sp,k="onPointerLeave",C="onPointerEnter",A="pointer"),Be=D==null?N:Zr(D),w=oe==null?N:Zr(oe),N=new re(k,A+"leave",D,r,I),N.target=Be,N.relatedTarget=w,k=null,Hs(I)===R&&(re=new re(C,A+"enter",oe,r,I),re.target=w,re.relatedTarget=Be,k=re),Be=k,D&&oe)t:{for(re=D,C=oe,A=0,w=re;w;w=yr(w))A++;for(w=0,k=C;k;k=yr(k))w++;for(;0<A-w;)re=yr(re),A--;for(;0<w-A;)C=yr(C),w--;for(;A--;){if(re===C||C!==null&&re===C.alternate)break t;re=yr(re),C=yr(C)}re=null}else re=null;D!==null&&Kg(U,N,D,re,!1),oe!==null&&Be!==null&&Kg(U,Be,oe,re,!0)}}e:{if(N=R?Zr(R):window,D=N.nodeName&&N.nodeName.toLowerCase(),D==="select"||D==="input"&&N.type==="file")var $=dp;else if(cp(N))if(hp)$=IE;else{$=DE;var _e=NE}else D=N.nodeName,!D||D.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?R&&qu(R.elementType)&&($=dp):$=ME;if($&&($=$(t,R))){fp(U,$,r,I);break e}_e&&_e(t,N,R),t==="focusout"&&R&&N.type==="number"&&R.memoizedProps.value!=null&&Fu(N,"number",N.value)}switch(_e=R?Zr(R):window,t){case"focusin":(cp(_e)||_e.contentEditable==="true")&&(Xs=_e,ic=R,aa=null);break;case"focusout":aa=ic=Xs=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,Ep(U,r,I);break;case"selectionchange":if(kE)break;case"keydown":case"keyup":Ep(U,r,I)}var te;if(Ju)e:{switch(t){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else Ks?op(t,r)&&(ae="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ae="onCompositionStart");ae&&(rp&&r.locale!=="ko"&&(Ks||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&Ks&&(te=ep()):(di=I,Xu="value"in di?di.value:di.textContent,Ks=!0)),_e=Ao(R,ae),0<_e.length&&(ae=new ip(ae,t,null,r,I),U.push({event:ae,listeners:_e}),te?ae.data=te:(te=up(r),te!==null&&(ae.data=te)))),(te=AE?CE(t,r):wE(t,r))&&(ae=Ao(R,"onBeforeInput"),0<ae.length&&(_e=new ip("onBeforeInput","beforeinput",null,r,I),U.push({event:_e,listeners:ae}),_e.data=te)),gS(U,t,R,r,I)}Gg(U,n)})}function ka(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Ao(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Wr(t,r),c!=null&&l.unshift(ka(t,c,f)),c=Wr(t,n),c!=null&&l.push(ka(t,c,f))),t.tag===3)return l;t=t.return}return[]}function yr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kg(t,n,r,l,c){for(var f=n._reactName,m=[];r!==null&&r!==l;){var _=r,b=_.alternate,R=_.stateNode;if(_=_.tag,b!==null&&b===l)break;_!==5&&_!==26&&_!==27||R===null||(b=R,c?(R=Wr(r,f),R!=null&&m.unshift(ka(r,R,b))):c||(R=Wr(r,f),R!=null&&m.push(ka(r,R,b)))),r=r.return}m.length!==0&&t.push({event:n,listeners:m})}var bS=/\r\n?/g,ES=/\u0000|\uFFFD/g;function Xg(t){return(typeof t=="string"?t:""+t).replace(bS,`
`).replace(ES,"")}function Qg(t,n){return n=Xg(n),Xg(t)===n}function Co(){}function He(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||js(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&js(t,""+l);break;case"className":Nl(t,"class",l);break;case"tabIndex":Nl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Nl(t,r,l);break;case"style":Zh(t,l,f);break;case"data":if(n!=="object"){Nl(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Il(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&He(t,n,"name",c.name,c,null),He(t,n,"formEncType",c.formEncType,c,null),He(t,n,"formMethod",c.formMethod,c,null),He(t,n,"formTarget",c.formTarget,c,null)):(He(t,n,"encType",c.encType,c,null),He(t,n,"method",c.method,c,null),He(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Il(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Co);break;case"onScroll":l!=null&&ve("scroll",t);break;case"onScrollEnd":l!=null&&ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Il(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ve("beforetoggle",t),ve("toggle",t),Ol(t,"popover",l);break;case"xlinkActuate":Ln(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ln(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ln(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ln(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ln(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ln(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ln(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ln(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ln(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ol(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Zb.get(r)||r,Ol(t,r,l))}}function Of(t,n,r,l,c,f){switch(r){case"style":Zh(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?js(t,l):(typeof l=="number"||typeof l=="bigint")&&js(t,""+l);break;case"onScroll":l!=null&&ve("scroll",t);break;case"onScrollEnd":l!=null&&ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Co);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vh.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[xt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ol(t,r,l)}}}function Et(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",t),ve("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var m=r[f];if(m!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:He(t,n,f,m,r,null)}}c&&He(t,n,"srcSet",r.srcSet,r,null),l&&He(t,n,"src",r.src,r,null);return;case"input":ve("invalid",t);var _=f=m=c=null,b=null,R=null;for(l in r)if(r.hasOwnProperty(l)){var I=r[l];if(I!=null)switch(l){case"name":c=I;break;case"type":m=I;break;case"checked":b=I;break;case"defaultChecked":R=I;break;case"value":f=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,n));break;default:He(t,n,l,I,r,null)}}Kh(t,f,_,b,R,m,c,!1),Dl(t);return;case"select":ve("invalid",t),l=m=f=null;for(c in r)if(r.hasOwnProperty(c)&&(_=r[c],_!=null))switch(c){case"value":f=_;break;case"defaultValue":m=_;break;case"multiple":l=_;default:He(t,n,c,_,r,null)}n=f,r=m,t.multiple=!!l,n!=null?qs(t,!!l,n,!1):r!=null&&qs(t,!!l,r,!0);return;case"textarea":ve("invalid",t),f=c=l=null;for(m in r)if(r.hasOwnProperty(m)&&(_=r[m],_!=null))switch(m){case"value":l=_;break;case"defaultValue":c=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:He(t,n,m,_,r,null)}Qh(t,l,c,f),Dl(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:He(t,n,b,l,r,null)}return;case"dialog":ve("beforetoggle",t),ve("toggle",t),ve("cancel",t),ve("close",t);break;case"iframe":case"object":ve("load",t);break;case"video":case"audio":for(l=0;l<xa.length;l++)ve(xa[l],t);break;case"image":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"embed":case"source":case"link":ve("error",t),ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:He(t,n,R,l,r,null)}return;default:if(qu(n)){for(I in r)r.hasOwnProperty(I)&&(l=r[I],l!==void 0&&Of(t,n,I,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&He(t,n,_,l,r,null))}function SS(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,m=null,_=null,b=null,R=null,I=null;for(D in r){var U=r[D];if(r.hasOwnProperty(D)&&U!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":b=U;default:l.hasOwnProperty(D)||He(t,n,D,null,l,U)}}for(var N in l){var D=l[N];if(U=r[N],l.hasOwnProperty(N)&&(D!=null||U!=null))switch(N){case"type":f=D;break;case"name":c=D;break;case"checked":R=D;break;case"defaultChecked":I=D;break;case"value":m=D;break;case"defaultValue":_=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(137,n));break;default:D!==U&&He(t,n,N,D,l,U)}}Pu(t,m,_,b,R,I,f,c);return;case"select":D=m=_=N=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":D=b;default:l.hasOwnProperty(f)||He(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":N=f;break;case"defaultValue":_=f;break;case"multiple":m=f;default:f!==b&&He(t,n,c,f,l,b)}n=_,r=m,l=D,N!=null?qs(t,!!r,N,!1):!!l!=!!r&&(n!=null?qs(t,!!r,n,!0):qs(t,!!r,r?[]:"",!1));return;case"textarea":D=N=null;for(_ in r)if(c=r[_],r.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:He(t,n,_,null,l,c)}for(m in l)if(c=l[m],f=r[m],l.hasOwnProperty(m)&&(c!=null||f!=null))switch(m){case"value":N=c;break;case"defaultValue":D=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&He(t,n,m,c,l,f)}Xh(t,N,D);return;case"option":for(var oe in r)if(N=r[oe],r.hasOwnProperty(oe)&&N!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":t.selected=!1;break;default:He(t,n,oe,null,l,N)}for(b in l)if(N=l[b],D=r[b],l.hasOwnProperty(b)&&N!==D&&(N!=null||D!=null))switch(b){case"selected":t.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:He(t,n,b,N,l,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in r)N=r[re],r.hasOwnProperty(re)&&N!=null&&!l.hasOwnProperty(re)&&He(t,n,re,null,l,N);for(R in l)if(N=l[R],D=r[R],l.hasOwnProperty(R)&&N!==D&&(N!=null||D!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(137,n));break;default:He(t,n,R,N,l,D)}return;default:if(qu(n)){for(var Be in r)N=r[Be],r.hasOwnProperty(Be)&&N!==void 0&&!l.hasOwnProperty(Be)&&Of(t,n,Be,void 0,l,N);for(I in l)N=l[I],D=r[I],!l.hasOwnProperty(I)||N===D||N===void 0&&D===void 0||Of(t,n,I,N,l,D);return}}for(var C in r)N=r[C],r.hasOwnProperty(C)&&N!=null&&!l.hasOwnProperty(C)&&He(t,n,C,null,l,N);for(U in l)N=l[U],D=r[U],!l.hasOwnProperty(U)||N===D||N==null&&D==null||He(t,n,U,N,l,D)}var Nf=null,Df=null;function wo(t){return t.nodeType===9?t:t.ownerDocument}function $g(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zg(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Mf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var If=null;function TS(){var t=window.event;return t&&t.type==="popstate"?t===If?!1:(If=t,!0):(If=null,!1)}var Wg=typeof setTimeout=="function"?setTimeout:void 0,AS=typeof clearTimeout=="function"?clearTimeout:void 0,Jg=typeof Promise=="function"?Promise:void 0,CS=typeof queueMicrotask=="function"?queueMicrotask:typeof Jg<"u"?function(t){return Jg.resolve(null).then(t).catch(wS)}:Wg;function wS(t){setTimeout(function(){throw t})}function Oi(t){return t==="head"}function e_(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var m=t.ownerDocument;if(r&1&&Ua(m.documentElement),r&2&&Ua(m.body),r&4)for(r=m.head,Ua(r),m=r.firstChild;m;){var _=m.nextSibling,b=m.nodeName;m[$r]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=_}}if(c===0){t.removeChild(f),qa(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);qa(n)}function xf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":xf(r),zu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function RS(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[$r])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=hn(t.nextSibling),t===null)break}return null}function OS(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=hn(t.nextSibling),t===null))return null;return t}function kf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function NS(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function hn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Uf=null;function t_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function n_(t,n,r){switch(n=wo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ua(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);zu(t)}var ln=new Map,i_=new Set;function Ro(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $n=P.d;P.d={f:DS,r:MS,D:IS,C:xS,L:kS,m:US,X:zS,S:LS,M:HS};function DS(){var t=$n.f(),n=yo();return t||n}function MS(t){var n=Bs(t);n!==null&&n.tag===5&&n.type==="form"?Tm(n):$n.r(t)}var vr=typeof document>"u"?null:document;function s_(t,n,r){var l=vr;if(l&&typeof n=="string"&&n){var c=Jt(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),i_.has(c)||(i_.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Et(n,"link",t),ft(n),l.head.appendChild(n)))}}function IS(t){$n.D(t),s_("dns-prefetch",t,null)}function xS(t,n){$n.C(t,n),s_("preconnect",t,n)}function kS(t,n,r){$n.L(t,n,r);var l=vr;if(l&&t&&n){var c='link[rel="preload"][as="'+Jt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+Jt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+Jt(r.imageSizes)+'"]')):c+='[href="'+Jt(t)+'"]';var f=c;switch(n){case"style":f=br(t);break;case"script":f=Er(t)}ln.has(f)||(t=y({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ln.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(La(f))||n==="script"&&l.querySelector(za(f))||(n=l.createElement("link"),Et(n,"link",t),ft(n),l.head.appendChild(n)))}}function US(t,n){$n.m(t,n);var r=vr;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Jt(l)+'"][href="'+Jt(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Er(t)}if(!ln.has(f)&&(t=y({rel:"modulepreload",href:t},n),ln.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(za(f)))return}l=r.createElement("link"),Et(l,"link",t),ft(l),r.head.appendChild(l)}}}function LS(t,n,r){$n.S(t,n,r);var l=vr;if(l&&t){var c=Vs(l).hoistableStyles,f=br(t);n=n||"default";var m=c.get(f);if(!m){var _={loading:0,preload:null};if(m=l.querySelector(La(f)))_.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ln.get(f))&&Lf(t,r);var b=m=l.createElement("link");ft(b),Et(b,"link",t),b._p=new Promise(function(R,I){b.onload=R,b.onerror=I}),b.addEventListener("load",function(){_.loading|=1}),b.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Oo(m,n,l)}m={type:"stylesheet",instance:m,count:1,state:_},c.set(f,m)}}}function zS(t,n){$n.X(t,n);var r=vr;if(r&&t){var l=Vs(r).hoistableScripts,c=Er(t),f=l.get(c);f||(f=r.querySelector(za(c)),f||(t=y({src:t,async:!0},n),(n=ln.get(c))&&zf(t,n),f=r.createElement("script"),ft(f),Et(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function HS(t,n){$n.M(t,n);var r=vr;if(r&&t){var l=Vs(r).hoistableScripts,c=Er(t),f=l.get(c);f||(f=r.querySelector(za(c)),f||(t=y({src:t,async:!0,type:"module"},n),(n=ln.get(c))&&zf(t,n),f=r.createElement("script"),ft(f),Et(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function r_(t,n,r,l){var c=(c=ue.current)?Ro(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=br(r.href),r=Vs(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=br(r.href);var f=Vs(c).hoistableStyles,m=f.get(t);if(m||(c=c.ownerDocument||c,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,m),(f=c.querySelector(La(t)))&&!f._p&&(m.instance=f,m.state.loading=5),ln.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ln.set(t,r),f||BS(c,t,r,m.state))),n&&l===null)throw Error(a(528,""));return m}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Er(r),r=Vs(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function br(t){return'href="'+Jt(t)+'"'}function La(t){return'link[rel="stylesheet"]['+t+"]"}function a_(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function BS(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Et(n,"link",r),ft(n),t.head.appendChild(n))}function Er(t){return'[src="'+Jt(t)+'"]'}function za(t){return"script[async]"+t}function l_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Jt(r.href)+'"]');if(l)return n.instance=l,ft(l),l;var c=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ft(l),Et(l,"style",c),Oo(l,r.precedence,t),n.instance=l;case"stylesheet":c=br(r.href);var f=t.querySelector(La(c));if(f)return n.state.loading|=4,n.instance=f,ft(f),f;l=a_(r),(c=ln.get(c))&&Lf(l,c),f=(t.ownerDocument||t).createElement("link"),ft(f);var m=f;return m._p=new Promise(function(_,b){m.onload=_,m.onerror=b}),Et(f,"link",l),n.state.loading|=4,Oo(f,r.precedence,t),n.instance=f;case"script":return f=Er(r.src),(c=t.querySelector(za(f)))?(n.instance=c,ft(c),c):(l=r,(c=ln.get(f))&&(l=y({},r),zf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ft(c),Et(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Oo(l,r.precedence,t));return n.instance}function Oo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,m=0;m<l.length;m++){var _=l[m];if(_.dataset.precedence===n)f=_;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Lf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function zf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var No=null;function o_(t,n,r){if(No===null){var l=new Map,c=No=new Map;c.set(r,l)}else c=No,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[$r]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var m=f.getAttribute(n)||"";m=t+m;var _=l.get(m);_?_.push(f):l.set(m,[f])}}return l}function u_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function VS(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function c_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ha=null;function PS(){}function FS(t,n,r){if(Ha===null)throw Error(a(475));var l=Ha;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=br(r.href),f=t.querySelector(La(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Do.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ft(f);return}f=t.ownerDocument||t,r=a_(r),(c=ln.get(c))&&Lf(r,c),f=f.createElement("link"),ft(f);var m=f;m._p=new Promise(function(_,b){m.onload=_,m.onerror=b}),Et(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Do.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function qS(){if(Ha===null)throw Error(a(475));var t=Ha;return t.stylesheets&&t.count===0&&Hf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Hf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Do(){if(this.count--,this.count===0){if(this.stylesheets)Hf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mo=null;function Hf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mo=new Map,n.forEach(jS,t),Mo=null,Do.call(t))}function jS(t,n){if(!(n.state.loading&4)){var r=Mo.get(t);if(r)var l=r.get(null);else{r=new Map,Mo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var m=c[f];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(r.set(m.dataset.precedence,m),l=m)}l&&r.set(null,l)}c=n.instance,m=c.getAttribute("data-precedence"),f=r.get(m)||l,f===l&&r.set(null,c),r.set(m,c),this.count++,l=Do.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ba={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function GS(t,n,r,l,c,f,m,_){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xu(0),this.hiddenUpdates=xu(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function f_(t,n,r,l,c,f,m,_,b,R,I,U){return t=new GS(t,n,r,m,_,b,R,U),n=1,f===!0&&(n|=24),f=qt(3,null,null,n),t.current=f,f.stateNode=t,n=yc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Sc(f),t}function d_(t){return t?(t=Ws,t):Ws}function h_(t,n,r,l,c,f){c=d_(c),l.context===null?l.context=c:l.pendingContext=c,l=mi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=gi(t,l,n),r!==null&&(Xt(r,t,n),ma(r,t,n))}function p_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Bf(t,n){p_(t,n),(t=t.alternate)&&p_(t,n)}function m_(t){if(t.tag===13){var n=Zs(t,67108864);n!==null&&Xt(n,t,67108864),Bf(t,67108864)}}var Io=!0;function YS(t,n,r,l){var c=M.T;M.T=null;var f=P.p;try{P.p=2,Vf(t,n,r,l)}finally{P.p=f,M.T=c}}function KS(t,n,r,l){var c=M.T;M.T=null;var f=P.p;try{P.p=8,Vf(t,n,r,l)}finally{P.p=f,M.T=c}}function Vf(t,n,r,l){if(Io){var c=Pf(l);if(c===null)Rf(t,n,l,xo,r),__(t,l);else if(QS(c,t,n,r,l))l.stopPropagation();else if(__(t,l),n&4&&-1<XS.indexOf(t)){for(;c!==null;){var f=Bs(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=Un(f.pendingLanes);if(m!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;m;){var b=1<<31-Ge(m);_.entanglements[1]|=b,m&=~b}Rn(f),(ke&6)===0&&(go=Zt()+500,Ia(0))}}break;case 13:_=Zs(f,2),_!==null&&Xt(_,f,2),yo(),Bf(f,2)}if(f=Pf(l),f===null&&Rf(t,n,l,xo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Rf(t,n,l,null,r)}}function Pf(t){return t=Gu(t),Ff(t)}var xo=null;function Ff(t){if(xo=null,t=Hs(t),t!==null){var n=u(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xo=t,null}function g_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ih()){case Xr:return 2;case S:return 8;case O:case x:return 32;case X:return 268435456;default:return 32}default:return 32}}var qf=!1,Ni=null,Di=null,Mi=null,Va=new Map,Pa=new Map,Ii=[],XS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function __(t,n){switch(t){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Va.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(n.pointerId)}}function Fa(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Bs(n),n!==null&&m_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function QS(t,n,r,l,c){switch(n){case"focusin":return Ni=Fa(Ni,t,n,r,l,c),!0;case"dragenter":return Di=Fa(Di,t,n,r,l,c),!0;case"mouseover":return Mi=Fa(Mi,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Va.set(f,Fa(Va.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Pa.set(f,Fa(Pa.get(f)||null,t,n,r,l,c)),!0}return!1}function y_(t){var n=Hs(t.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Fb(t.priority,function(){if(r.tag===13){var l=Kt();l=ku(l);var c=Zs(r,l);c!==null&&Xt(c,r,l),Bf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ko(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Pf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);ju=l,r.target.dispatchEvent(l),ju=null}else return n=Bs(r),n!==null&&m_(n),t.blockedOn=r,!1;n.shift()}return!0}function v_(t,n,r){ko(t)&&r.delete(n)}function $S(){qf=!1,Ni!==null&&ko(Ni)&&(Ni=null),Di!==null&&ko(Di)&&(Di=null),Mi!==null&&ko(Mi)&&(Mi=null),Va.forEach(v_),Pa.forEach(v_)}function Uo(t,n){t.blockedOn===n&&(t.blockedOn=null,qf||(qf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$S)))}var Lo=null;function b_(t){Lo!==t&&(Lo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lo===t&&(Lo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Ff(l||r)===null)continue;break}var f=Bs(r);f!==null&&(t.splice(n,3),n-=3,Pc(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function qa(t){function n(b){return Uo(b,t)}Ni!==null&&Uo(Ni,t),Di!==null&&Uo(Di,t),Mi!==null&&Uo(Mi,t),Va.forEach(n),Pa.forEach(n);for(var r=0;r<Ii.length;r++){var l=Ii[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ii.length&&(r=Ii[0],r.blockedOn===null);)y_(r),r.blockedOn===null&&Ii.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],m=c[xt]||null;if(typeof f=="function")m||b_(r);else if(m){var _=null;if(f&&f.hasAttribute("formAction")){if(c=f,m=f[xt]||null)_=m.formAction;else if(Ff(c)!==null)continue}else _=m.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),b_(r)}}}function jf(t){this._internalRoot=t}zo.prototype.render=jf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Kt();h_(r,l,t,n,null,null)},zo.prototype.unmount=jf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;h_(t.current,2,null,t,null,null),yo(),n[zs]=null}};function zo(t){this._internalRoot=t}zo.prototype.unstable_scheduleHydration=function(t){if(t){var n=zh();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Ii.length&&n!==0&&n<Ii[r].priority;r++);Ii.splice(r,0,t),r===0&&y_(t)}};var E_=e.version;if(E_!=="19.1.0")throw Error(a(527,E_,"19.1.0"));P.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(n),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var ZS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ho.isDisabled&&Ho.supportsFiber)try{W=Ho.inject(ZS),ce=Ho}catch{}}return Ga.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=zm,f=Hm,m=Bm,_=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=f_(t,1,!1,null,null,r,l,c,f,m,_,null),t[zs]=n.current,wf(t),new jf(n)},Ga.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=zm,m=Hm,_=Bm,b=null,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(R=r.formState)),n=f_(t,1,!0,n,r??null,l,c,f,m,_,b,R),n.context=d_(null),r=n.current,l=Kt(),l=ku(l),c=mi(l),c.callback=null,gi(r,c,l),r=l,n.current.lanes=r,Qr(n,r),Rn(n),t[zs]=n.current,wf(t),new zo(n)},Ga.version="19.1.0",Ga}var M_;function lT(){if(M_)return Kf.exports;M_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Kf.exports=aT(),Kf.exports}var oT=lT();const uT="_backdrop_1mffy_1",cT="_modal_1mffy_27",fT="_closeBtn_1mffy_43",dT="_toggleButtons_1mffy_73",hT="_active_1mffy_105",Sr={backdrop:uT,modal:cT,closeBtn:fT,toggleButtons:dT,active:hT};var ml=s=>s.type==="checkbox",_s=s=>s instanceof Date,Mt=s=>s==null;const dv=s=>typeof s=="object";var it=s=>!Mt(s)&&!Array.isArray(s)&&dv(s)&&!_s(s),pT=s=>it(s)&&s.target?ml(s.target)?s.target.checked:s.target.value:s,mT=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,gT=(s,e)=>s.has(mT(e)),_T=s=>{const e=s.constructor&&s.constructor.prototype;return it(e)&&e.hasOwnProperty("isPrototypeOf")},Pd=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function wt(s){let e;const i=Array.isArray(s),a=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)e=new Date(s);else if(s instanceof Set)e=new Set(s);else if(!(Pd&&(s instanceof Blob||a))&&(i||it(s)))if(e=i?[]:{},!i&&!_T(s))e=s;else for(const o in s)s.hasOwnProperty(o)&&(e[o]=wt(s[o]));else return s;return e}var Eu=s=>/^\w*$/.test(s),at=s=>s===void 0,Fd=s=>Array.isArray(s)?s.filter(Boolean):[],qd=s=>Fd(s.replace(/["|']|\]/g,"").split(/\.|\[/)),Z=(s,e,i)=>{if(!e||!it(s))return i;const a=(Eu(e)?[e]:qd(e)).reduce((o,u)=>Mt(o)?o:o[u],s);return at(a)||a===s?at(s[e])?i:s[e]:a},On=s=>typeof s=="boolean",Ve=(s,e,i)=>{let a=-1;const o=Eu(e)?[e]:qd(e),u=o.length,d=u-1;for(;++a<u;){const h=o[a];let p=i;if(a!==d){const g=s[h];p=it(g)||Array.isArray(g)?g:isNaN(+o[a+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;s[h]=p,s=s[h]}};const I_={BLUR:"blur",FOCUS_OUT:"focusout"},mn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Zn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},yT=pn.createContext(null);yT.displayName="HookFormContext";var vT=(s,e,i,a=!0)=>{const o={defaultValues:e._defaultValues};for(const u in s)Object.defineProperty(o,u,{get:()=>{const d=u;return e._proxyFormState[d]!==mn.all&&(e._proxyFormState[d]=!a||mn.all),s[d]}});return o};const bT=typeof window<"u"?Es.useLayoutEffect:Es.useEffect;var Dn=s=>typeof s=="string",ET=(s,e,i,a,o)=>Dn(s)?(a&&e.watch.add(s),Z(i,s,o)):Array.isArray(s)?s.map(u=>(a&&e.watch.add(u),Z(i,u))):(a&&(e.watchAll=!0),i),hv=(s,e,i,a,o)=>e?{...i[s],types:{...i[s]&&i[s].types?i[s].types:{},[a]:o||!0}}:{},el=s=>Array.isArray(s)?s:[s],x_=()=>{let s=[];return{get observers(){return s},next:o=>{for(const u of s)u.next&&u.next(o)},subscribe:o=>(s.push(o),{unsubscribe:()=>{s=s.filter(u=>u!==o)}}),unsubscribe:()=>{s=[]}}},md=s=>Mt(s)||!dv(s);function Ui(s,e){if(md(s)||md(e))return s===e;if(_s(s)&&_s(e))return s.getTime()===e.getTime();const i=Object.keys(s),a=Object.keys(e);if(i.length!==a.length)return!1;for(const o of i){const u=s[o];if(!a.includes(o))return!1;if(o!=="ref"){const d=e[o];if(_s(u)&&_s(d)||it(u)&&it(d)||Array.isArray(u)&&Array.isArray(d)?!Ui(u,d):u!==d)return!1}}return!0}var Bt=s=>it(s)&&!Object.keys(s).length,jd=s=>s.type==="file",gn=s=>typeof s=="function",Wo=s=>{if(!Pd)return!1;const e=s?s.ownerDocument:0;return s instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},pv=s=>s.type==="select-multiple",Gd=s=>s.type==="radio",ST=s=>Gd(s)||ml(s),Zf=s=>Wo(s)&&s.isConnected;function TT(s,e){const i=e.slice(0,-1).length;let a=0;for(;a<i;)s=at(s)?a++:s[e[a++]];return s}function AT(s){for(const e in s)if(s.hasOwnProperty(e)&&!at(s[e]))return!1;return!0}function ct(s,e){const i=Array.isArray(e)?e:Eu(e)?[e]:qd(e),a=i.length===1?s:TT(s,i),o=i.length-1,u=i[o];return a&&delete a[u],o!==0&&(it(a)&&Bt(a)||Array.isArray(a)&&AT(a))&&ct(s,i.slice(0,-1)),s}var mv=s=>{for(const e in s)if(gn(s[e]))return!0;return!1};function Jo(s,e={}){const i=Array.isArray(s);if(it(s)||i)for(const a in s)Array.isArray(s[a])||it(s[a])&&!mv(s[a])?(e[a]=Array.isArray(s[a])?[]:{},Jo(s[a],e[a])):Mt(s[a])||(e[a]=!0);return e}function gv(s,e,i){const a=Array.isArray(s);if(it(s)||a)for(const o in s)Array.isArray(s[o])||it(s[o])&&!mv(s[o])?at(e)||md(i[o])?i[o]=Array.isArray(s[o])?Jo(s[o],[]):{...Jo(s[o])}:gv(s[o],Mt(e)?{}:e[o],i[o]):i[o]=!Ui(s[o],e[o]);return i}var Ya=(s,e)=>gv(s,e,Jo(e));const k_={value:!1,isValid:!1},U_={value:!0,isValid:!0};var _v=s=>{if(Array.isArray(s)){if(s.length>1){const e=s.filter(i=>i&&i.checked&&!i.disabled).map(i=>i.value);return{value:e,isValid:!!e.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!at(s[0].attributes.value)?at(s[0].value)||s[0].value===""?U_:{value:s[0].value,isValid:!0}:U_:k_}return k_},yv=(s,{valueAsNumber:e,valueAsDate:i,setValueAs:a})=>at(s)?s:e?s===""?NaN:s&&+s:i&&Dn(s)?new Date(s):a?a(s):s;const L_={isValid:!1,value:null};var vv=s=>Array.isArray(s)?s.reduce((e,i)=>i&&i.checked&&!i.disabled?{isValid:!0,value:i.value}:e,L_):L_;function z_(s){const e=s.ref;return jd(e)?e.files:Gd(e)?vv(s.refs).value:pv(e)?[...e.selectedOptions].map(({value:i})=>i):ml(e)?_v(s.refs).value:yv(at(e.value)?s.ref.value:e.value,s)}var CT=(s,e,i,a)=>{const o={};for(const u of s){const d=Z(e,u);d&&Ve(o,u,d._f)}return{criteriaMode:i,names:[...s],fields:o,shouldUseNativeValidation:a}},eu=s=>s instanceof RegExp,Ka=s=>at(s)?s:eu(s)?s.source:it(s)?eu(s.value)?s.value.source:s.value:s,H_=s=>({isOnSubmit:!s||s===mn.onSubmit,isOnBlur:s===mn.onBlur,isOnChange:s===mn.onChange,isOnAll:s===mn.all,isOnTouch:s===mn.onTouched});const B_="AsyncFunction";var wT=s=>!!s&&!!s.validate&&!!(gn(s.validate)&&s.validate.constructor.name===B_||it(s.validate)&&Object.values(s.validate).find(e=>e.constructor.name===B_)),RT=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),V_=(s,e,i)=>!i&&(e.watchAll||e.watch.has(s)||[...e.watch].some(a=>s.startsWith(a)&&/^\.\w+/.test(s.slice(a.length))));const tl=(s,e,i,a)=>{for(const o of i||Object.keys(s)){const u=Z(s,o);if(u){const{_f:d,...h}=u;if(d){if(d.refs&&d.refs[0]&&e(d.refs[0],o)&&!a)return!0;if(d.ref&&e(d.ref,d.name)&&!a)return!0;if(tl(h,e))break}else if(it(h)&&tl(h,e))break}}};function P_(s,e,i){const a=Z(s,i);if(a||Eu(i))return{error:a,name:i};const o=i.split(".");for(;o.length;){const u=o.join("."),d=Z(e,u),h=Z(s,u);if(d&&!Array.isArray(d)&&i!==u)return{name:i};if(h&&h.type)return{name:u,error:h};if(h&&h.root&&h.root.type)return{name:`${u}.root`,error:h.root};o.pop()}return{name:i}}var OT=(s,e,i,a)=>{i(s);const{name:o,...u}=s;return Bt(u)||Object.keys(u).length>=Object.keys(e).length||Object.keys(u).find(d=>e[d]===(!a||mn.all))},NT=(s,e,i)=>!s||!e||s===e||el(s).some(a=>a&&(i?a===e:a.startsWith(e)||e.startsWith(a))),DT=(s,e,i,a,o)=>o.isOnAll?!1:!i&&o.isOnTouch?!(e||s):(i?a.isOnBlur:o.isOnBlur)?!s:(i?a.isOnChange:o.isOnChange)?s:!0,MT=(s,e)=>!Fd(Z(s,e)).length&&ct(s,e),IT=(s,e,i)=>{const a=el(Z(s,i));return Ve(a,"root",e[i]),Ve(s,i,a),s},jo=s=>Dn(s);function F_(s,e,i="validate"){if(jo(s)||Array.isArray(s)&&s.every(jo)||On(s)&&!s)return{type:i,message:jo(s)?s:"",ref:e}}var Tr=s=>it(s)&&!eu(s)?s:{value:s,message:""},q_=async(s,e,i,a,o,u)=>{const{ref:d,refs:h,required:p,maxLength:g,minLength:y,min:v,max:E,pattern:z,validate:H,name:K,valueAsNumber:J,mount:q}=s._f,V=Z(i,K);if(!q||e.has(K))return{};const ne=h?h[0]:d,pe=ee=>{o&&ne.reportValidity&&(ne.setCustomValidity(On(ee)?"":ee||""),ne.reportValidity())},j={},de=Gd(d),be=ml(d),Le=de||be,Ee=(J||jd(d))&&at(d.value)&&at(V)||Wo(d)&&d.value===""||V===""||Array.isArray(V)&&!V.length,lt=hv.bind(null,K,a,j),he=(ee,me,Ne,De=Zn.maxLength,M=Zn.minLength)=>{const P=ee?me:Ne;j[K]={type:ee?De:M,message:P,ref:d,...lt(ee?De:M,P)}};if(u?!Array.isArray(V)||!V.length:p&&(!Le&&(Ee||Mt(V))||On(V)&&!V||be&&!_v(h).isValid||de&&!vv(h).isValid)){const{value:ee,message:me}=jo(p)?{value:!!p,message:p}:Tr(p);if(ee&&(j[K]={type:Zn.required,message:me,ref:ne,...lt(Zn.required,me)},!a))return pe(me),j}if(!Ee&&(!Mt(v)||!Mt(E))){let ee,me;const Ne=Tr(E),De=Tr(v);if(!Mt(V)&&!isNaN(V)){const M=d.valueAsNumber||V&&+V;Mt(Ne.value)||(ee=M>Ne.value),Mt(De.value)||(me=M<De.value)}else{const M=d.valueAsDate||new Date(V),P=T=>new Date(new Date().toDateString()+" "+T),ie=d.type=="time",Ce=d.type=="week";Dn(Ne.value)&&V&&(ee=ie?P(V)>P(Ne.value):Ce?V>Ne.value:M>new Date(Ne.value)),Dn(De.value)&&V&&(me=ie?P(V)<P(De.value):Ce?V<De.value:M<new Date(De.value))}if((ee||me)&&(he(!!ee,Ne.message,De.message,Zn.max,Zn.min),!a))return pe(j[K].message),j}if((g||y)&&!Ee&&(Dn(V)||u&&Array.isArray(V))){const ee=Tr(g),me=Tr(y),Ne=!Mt(ee.value)&&V.length>+ee.value,De=!Mt(me.value)&&V.length<+me.value;if((Ne||De)&&(he(Ne,ee.message,me.message),!a))return pe(j[K].message),j}if(z&&!Ee&&Dn(V)){const{value:ee,message:me}=Tr(z);if(eu(ee)&&!V.match(ee)&&(j[K]={type:Zn.pattern,message:me,ref:d,...lt(Zn.pattern,me)},!a))return pe(me),j}if(H){if(gn(H)){const ee=await H(V,i),me=F_(ee,ne);if(me&&(j[K]={...me,...lt(Zn.validate,me.message)},!a))return pe(me.message),j}else if(it(H)){let ee={};for(const me in H){if(!Bt(ee)&&!a)break;const Ne=F_(await H[me](V,i),ne,me);Ne&&(ee={...Ne,...lt(me,Ne.message)},pe(Ne.message),a&&(j[K]=ee))}if(!Bt(ee)&&(j[K]={ref:ne,...ee},!a))return j}}return pe(!0),j};const xT={mode:mn.onSubmit,reValidateMode:mn.onChange,shouldFocusError:!0};function kT(s={}){let e={...xT,...s},i={submitCount:0,isDirty:!1,isReady:!1,isLoading:gn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const a={};let o=it(e.defaultValues)||it(e.values)?wt(e.defaultValues||e.values)||{}:{},u=e.shouldUnregister?{}:wt(o),d={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...y};const E={array:x_(),state:x_()},z=e.criteriaMode===mn.all,H=S=>O=>{clearTimeout(g),g=setTimeout(S,O)},K=async S=>{if(!e.disabled&&(y.isValid||v.isValid||S)){const O=e.resolver?Bt((await be()).errors):await Ee(a,!0);O!==i.isValid&&E.state.next({isValid:O})}},J=(S,O)=>{!e.disabled&&(y.isValidating||y.validatingFields||v.isValidating||v.validatingFields)&&((S||Array.from(h.mount)).forEach(x=>{x&&(O?Ve(i.validatingFields,x,O):ct(i.validatingFields,x))}),E.state.next({validatingFields:i.validatingFields,isValidating:!Bt(i.validatingFields)}))},q=(S,O=[],x,X,F=!0,B=!0)=>{if(X&&x&&!e.disabled){if(d.action=!0,B&&Array.isArray(Z(a,S))){const W=x(Z(a,S),X.argA,X.argB);F&&Ve(a,S,W)}if(B&&Array.isArray(Z(i.errors,S))){const W=x(Z(i.errors,S),X.argA,X.argB);F&&Ve(i.errors,S,W),MT(i.errors,S)}if((y.touchedFields||v.touchedFields)&&B&&Array.isArray(Z(i.touchedFields,S))){const W=x(Z(i.touchedFields,S),X.argA,X.argB);F&&Ve(i.touchedFields,S,W)}(y.dirtyFields||v.dirtyFields)&&(i.dirtyFields=Ya(o,u)),E.state.next({name:S,isDirty:he(S,O),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else Ve(u,S,O)},V=(S,O)=>{Ve(i.errors,S,O),E.state.next({errors:i.errors})},ne=S=>{i.errors=S,E.state.next({errors:i.errors,isValid:!1})},pe=(S,O,x,X)=>{const F=Z(a,S);if(F){const B=Z(u,S,at(x)?Z(o,S):x);at(B)||X&&X.defaultChecked||O?Ve(u,S,O?B:z_(F._f)):Ne(S,B),d.mount&&K()}},j=(S,O,x,X,F)=>{let B=!1,W=!1;const ce={name:S};if(!e.disabled){if(!x||X){(y.isDirty||v.isDirty)&&(W=i.isDirty,i.isDirty=ce.isDirty=he(),B=W!==ce.isDirty);const Te=Ui(Z(o,S),O);W=!!Z(i.dirtyFields,S),Te?ct(i.dirtyFields,S):Ve(i.dirtyFields,S,!0),ce.dirtyFields=i.dirtyFields,B=B||(y.dirtyFields||v.dirtyFields)&&W!==!Te}if(x){const Te=Z(i.touchedFields,S);Te||(Ve(i.touchedFields,S,x),ce.touchedFields=i.touchedFields,B=B||(y.touchedFields||v.touchedFields)&&Te!==x)}B&&F&&E.state.next(ce)}return B?ce:{}},de=(S,O,x,X)=>{const F=Z(i.errors,S),B=(y.isValid||v.isValid)&&On(O)&&i.isValid!==O;if(e.delayError&&x?(p=H(()=>V(S,x)),p(e.delayError)):(clearTimeout(g),p=null,x?Ve(i.errors,S,x):ct(i.errors,S)),(x?!Ui(F,x):F)||!Bt(X)||B){const W={...X,...B&&On(O)?{isValid:O}:{},errors:i.errors,name:S};i={...i,...W},E.state.next(W)}},be=async S=>{J(S,!0);const O=await e.resolver(u,e.context,CT(S||h.mount,a,e.criteriaMode,e.shouldUseNativeValidation));return J(S),O},Le=async S=>{const{errors:O}=await be(S);if(S)for(const x of S){const X=Z(O,x);X?Ve(i.errors,x,X):ct(i.errors,x)}else i.errors=O;return O},Ee=async(S,O,x={valid:!0})=>{for(const X in S){const F=S[X];if(F){const{_f:B,...W}=F;if(B){const ce=h.array.has(B.name),Te=F._f&&wT(F._f);Te&&y.validatingFields&&J([X],!0);const Ge=await q_(F,h.disabled,u,z,e.shouldUseNativeValidation&&!O,ce);if(Te&&y.validatingFields&&J([X]),Ge[B.name]&&(x.valid=!1,O))break;!O&&(Z(Ge,B.name)?ce?IT(i.errors,Ge,B.name):Ve(i.errors,B.name,Ge[B.name]):ct(i.errors,B.name))}!Bt(W)&&await Ee(W,O,x)}}return x.valid},lt=()=>{for(const S of h.unMount){const O=Z(a,S);O&&(O._f.refs?O._f.refs.every(x=>!Zf(x)):!Zf(O._f.ref))&&yt(S)}h.unMount=new Set},he=(S,O)=>!e.disabled&&(S&&O&&Ve(u,S,O),!Ui(T(),o)),ee=(S,O,x)=>ET(S,h,{...d.mount?u:at(O)?o:Dn(S)?{[S]:O}:O},x,O),me=S=>Fd(Z(d.mount?u:o,S,e.shouldUnregister?Z(o,S,[]):[])),Ne=(S,O,x={})=>{const X=Z(a,S);let F=O;if(X){const B=X._f;B&&(!B.disabled&&Ve(u,S,yv(O,B)),F=Wo(B.ref)&&Mt(O)?"":O,pv(B.ref)?[...B.ref.options].forEach(W=>W.selected=F.includes(W.value)):B.refs?ml(B.ref)?B.refs.forEach(W=>{(!W.defaultChecked||!W.disabled)&&(Array.isArray(F)?W.checked=!!F.find(ce=>ce===W.value):W.checked=F===W.value||!!F)}):B.refs.forEach(W=>W.checked=W.value===F):jd(B.ref)?B.ref.value="":(B.ref.value=F,B.ref.type||E.state.next({name:S,values:wt(u)})))}(x.shouldDirty||x.shouldTouch)&&j(S,F,x.shouldTouch,x.shouldDirty,!0),x.shouldValidate&&Ce(S)},De=(S,O,x)=>{for(const X in O){if(!O.hasOwnProperty(X))return;const F=O[X],B=S+"."+X,W=Z(a,B);(h.array.has(S)||it(F)||W&&!W._f)&&!_s(F)?De(B,F,x):Ne(B,F,x)}},M=(S,O,x={})=>{const X=Z(a,S),F=h.array.has(S),B=wt(O);Ve(u,S,B),F?(E.array.next({name:S,values:wt(u)}),(y.isDirty||y.dirtyFields||v.isDirty||v.dirtyFields)&&x.shouldDirty&&E.state.next({name:S,dirtyFields:Ya(o,u),isDirty:he(S,B)})):X&&!X._f&&!Mt(B)?De(S,B,x):Ne(S,B,x),V_(S,h)&&E.state.next({...i}),E.state.next({name:d.mount?S:void 0,values:wt(u)})},P=async S=>{d.mount=!0;const O=S.target;let x=O.name,X=!0;const F=Z(a,x),B=Te=>{X=Number.isNaN(Te)||_s(Te)&&isNaN(Te.getTime())||Ui(Te,Z(u,x,Te))},W=H_(e.mode),ce=H_(e.reValidateMode);if(F){let Te,Ge;const Ls=O.type?z_(F._f):pT(S),Sn=S.type===I_.BLUR||S.type===I_.FOCUS_OUT,Iu=!RT(F._f)&&!e.resolver&&!Z(i.errors,x)&&!F._f.deps||DT(Sn,Z(i.touchedFields,x),i.isSubmitted,ce,W),ui=V_(x,h,Sn);Ve(u,x,Ls),Sn?(F._f.onBlur&&F._f.onBlur(S),p&&p(0)):F._f.onChange&&F._f.onChange(S);const ci=j(x,Ls,Sn),Un=!Bt(ci)||ui;if(!Sn&&E.state.next({name:x,type:S.type,values:wt(u)}),Iu)return(y.isValid||v.isValid)&&(e.mode==="onBlur"?Sn&&K():Sn||K()),Un&&E.state.next({name:x,...ui?{}:ci});if(!Sn&&ui&&E.state.next({...i}),e.resolver){const{errors:$i}=await be([x]);if(B(Ls),X){const Zi=P_(i.errors,a,x),Rl=P_($i,a,Zi.name||x);Te=Rl.error,x=Rl.name,Ge=Bt($i)}}else J([x],!0),Te=(await q_(F,h.disabled,u,z,e.shouldUseNativeValidation))[x],J([x]),B(Ls),X&&(Te?Ge=!1:(y.isValid||v.isValid)&&(Ge=await Ee(a,!0)));X&&(F._f.deps&&Ce(F._f.deps),de(x,Ge,Te,ci))}},ie=(S,O)=>{if(Z(i.errors,O)&&S.focus)return S.focus(),1},Ce=async(S,O={})=>{let x,X;const F=el(S);if(e.resolver){const B=await Le(at(S)?S:F);x=Bt(B),X=S?!F.some(W=>Z(B,W)):x}else S?(X=(await Promise.all(F.map(async B=>{const W=Z(a,B);return await Ee(W&&W._f?{[B]:W}:W)}))).every(Boolean),!(!X&&!i.isValid)&&K()):X=x=await Ee(a);return E.state.next({...!Dn(S)||(y.isValid||v.isValid)&&x!==i.isValid?{}:{name:S},...e.resolver||!S?{isValid:x}:{},errors:i.errors}),O.shouldFocus&&!X&&tl(a,ie,S?F:h.mount),X},T=S=>{const O={...d.mount?u:o};return at(S)?O:Dn(S)?Z(O,S):S.map(x=>Z(O,x))},L=(S,O)=>({invalid:!!Z((O||i).errors,S),isDirty:!!Z((O||i).dirtyFields,S),error:Z((O||i).errors,S),isValidating:!!Z(i.validatingFields,S),isTouched:!!Z((O||i).touchedFields,S)}),Q=S=>{S&&el(S).forEach(O=>ct(i.errors,O)),E.state.next({errors:S?i.errors:{}})},G=(S,O,x)=>{const X=(Z(a,S,{_f:{}})._f||{}).ref,F=Z(i.errors,S)||{},{ref:B,message:W,type:ce,...Te}=F;Ve(i.errors,S,{...Te,...O,ref:X}),E.state.next({name:S,errors:i.errors,isValid:!1}),x&&x.shouldFocus&&X&&X.focus&&X.focus()},se=(S,O)=>gn(S)?E.state.subscribe({next:x=>S(ee(void 0,O),x)}):ee(S,O,!0),Se=S=>E.state.subscribe({next:O=>{NT(S.name,O.name,S.exact)&&OT(O,S.formState||y,Zt,S.reRenderRoot)&&S.callback({values:{...u},...i,...O})}}).unsubscribe,ue=S=>(d.mount=!0,v={...v,...S.formState},Se({...S,formState:v})),yt=(S,O={})=>{for(const x of S?el(S):h.mount)h.mount.delete(x),h.array.delete(x),O.keepValue||(ct(a,x),ct(u,x)),!O.keepError&&ct(i.errors,x),!O.keepDirty&&ct(i.dirtyFields,x),!O.keepTouched&&ct(i.touchedFields,x),!O.keepIsValidating&&ct(i.validatingFields,x),!e.shouldUnregister&&!O.keepDefaultValue&&ct(o,x);E.state.next({values:wt(u)}),E.state.next({...i,...O.keepDirty?{isDirty:he()}:{}}),!O.keepIsValid&&K()},qe=({disabled:S,name:O})=>{(On(S)&&d.mount||S||h.disabled.has(O))&&(S?h.disabled.add(O):h.disabled.delete(O))},$t=(S,O={})=>{let x=Z(a,S);const X=On(O.disabled)||On(e.disabled);return Ve(a,S,{...x||{},_f:{...x&&x._f?x._f:{ref:{name:S}},name:S,mount:!0,...O}}),h.mount.add(S),x?qe({disabled:On(O.disabled)?O.disabled:e.disabled,name:S}):pe(S,!0,O.value),{...X?{disabled:O.disabled||e.disabled}:{},...e.progressive?{required:!!O.required,min:Ka(O.min),max:Ka(O.max),minLength:Ka(O.minLength),maxLength:Ka(O.maxLength),pattern:Ka(O.pattern)}:{},name:S,onChange:P,onBlur:P,ref:F=>{if(F){$t(S,O),x=Z(a,S);const B=at(F.value)&&F.querySelectorAll&&F.querySelectorAll("input,select,textarea")[0]||F,W=ST(B),ce=x._f.refs||[];if(W?ce.find(Te=>Te===B):B===x._f.ref)return;Ve(a,S,{_f:{...x._f,...W?{refs:[...ce.filter(Zf),B,...Array.isArray(Z(o,S))?[{}]:[]],ref:{type:B.type,name:S}}:{ref:B}}}),pe(S,!1,void 0,B)}else x=Z(a,S,{}),x._f&&(x._f.mount=!1),(e.shouldUnregister||O.shouldUnregister)&&!(gT(h.array,S)&&d.action)&&h.unMount.add(S)}}},Qi=()=>e.shouldFocusError&&tl(a,ie,h.mount),xs=S=>{On(S)&&(E.state.next({disabled:S}),tl(a,(O,x)=>{const X=Z(a,x);X&&(O.disabled=X._f.disabled||S,Array.isArray(X._f.refs)&&X._f.refs.forEach(F=>{F.disabled=X._f.disabled||S}))},0,!1))},ks=(S,O)=>async x=>{let X;x&&(x.preventDefault&&x.preventDefault(),x.persist&&x.persist());let F=wt(u);if(E.state.next({isSubmitting:!0}),e.resolver){const{errors:B,values:W}=await be();i.errors=B,F=W}else await Ee(a);if(h.disabled.size)for(const B of h.disabled)Ve(F,B,void 0);if(ct(i.errors,"root"),Bt(i.errors)){E.state.next({errors:{}});try{await S(F,x)}catch(B){X=B}}else O&&await O({...i.errors},x),Qi(),setTimeout(Qi);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Bt(i.errors)&&!X,submitCount:i.submitCount+1,errors:i.errors}),X)throw X},Kr=(S,O={})=>{Z(a,S)&&(at(O.defaultValue)?M(S,wt(Z(o,S))):(M(S,O.defaultValue),Ve(o,S,wt(O.defaultValue))),O.keepTouched||ct(i.touchedFields,S),O.keepDirty||(ct(i.dirtyFields,S),i.isDirty=O.defaultValue?he(S,wt(Z(o,S))):he()),O.keepError||(ct(i.errors,S),y.isValid&&K()),E.state.next({...i}))},Us=(S,O={})=>{const x=S?wt(S):o,X=wt(x),F=Bt(S),B=F?o:X;if(O.keepDefaultValues||(o=x),!O.keepValues){if(O.keepDirtyValues){const W=new Set([...h.mount,...Object.keys(Ya(o,u))]);for(const ce of Array.from(W))Z(i.dirtyFields,ce)?Ve(B,ce,Z(u,ce)):M(ce,Z(B,ce))}else{if(Pd&&at(S))for(const W of h.mount){const ce=Z(a,W);if(ce&&ce._f){const Te=Array.isArray(ce._f.refs)?ce._f.refs[0]:ce._f.ref;if(Wo(Te)){const Ge=Te.closest("form");if(Ge){Ge.reset();break}}}}for(const W of h.mount)M(W,Z(B,W))}u=wt(B),E.array.next({values:{...B}}),E.state.next({values:{...B}})}h={mount:O.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!y.isValid||!!O.keepIsValid||!!O.keepDirtyValues,d.watch=!!e.shouldUnregister,E.state.next({submitCount:O.keepSubmitCount?i.submitCount:0,isDirty:F?!1:O.keepDirty?i.isDirty:!!(O.keepDefaultValues&&!Ui(S,o)),isSubmitted:O.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:F?{}:O.keepDirtyValues?O.keepDefaultValues&&u?Ya(o,u):i.dirtyFields:O.keepDefaultValues&&S?Ya(o,S):O.keepDirty?i.dirtyFields:{},touchedFields:O.keepTouched?i.touchedFields:{},errors:O.keepErrors?i.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?i.isSubmitSuccessful:!1,isSubmitting:!1})},wl=(S,O)=>Us(gn(S)?S(u):S,O),Mu=(S,O={})=>{const x=Z(a,S),X=x&&x._f;if(X){const F=X.refs?X.refs[0]:X.ref;F.focus&&(F.focus(),O.shouldSelect&&gn(F.select)&&F.select())}},Zt=S=>{i={...i,...S}},Xr={control:{register:$t,unregister:yt,getFieldState:L,handleSubmit:ks,setError:G,_subscribe:Se,_runSchema:be,_focusError:Qi,_getWatch:ee,_getDirty:he,_setValid:K,_setFieldArray:q,_setDisabledField:qe,_setErrors:ne,_getFieldArray:me,_reset:Us,_resetDefaultValues:()=>gn(e.defaultValues)&&e.defaultValues().then(S=>{wl(S,e.resetOptions),E.state.next({isLoading:!1})}),_removeUnmounted:lt,_disableForm:xs,_subjects:E,_proxyFormState:y,get _fields(){return a},get _formValues(){return u},get _state(){return d},set _state(S){d=S},get _defaultValues(){return o},get _names(){return h},set _names(S){h=S},get _formState(){return i},get _options(){return e},set _options(S){e={...e,...S}}},subscribe:ue,trigger:Ce,register:$t,handleSubmit:ks,watch:se,setValue:M,getValues:T,reset:wl,resetField:Kr,clearErrors:Q,unregister:yt,setError:G,setFocus:Mu,getFieldState:L};return{...Xr,formControl:Xr}}function bv(s={}){const e=pn.useRef(void 0),i=pn.useRef(void 0),[a,o]=pn.useState({isDirty:!1,isValidating:!1,isLoading:gn(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:gn(s.defaultValues)?void 0:s.defaultValues});if(!e.current)if(s.formControl)e.current={...s.formControl,formState:a},s.defaultValues&&!gn(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:d,...h}=kT(s);e.current={...h,formState:a}}const u=e.current.control;return u._options=s,bT(()=>{const d=u._subscribe({formState:u._proxyFormState,callback:()=>o({...u._formState}),reRenderRoot:!0});return o(h=>({...h,isReady:!0})),u._formState.isReady=!0,d},[u]),pn.useEffect(()=>u._disableForm(s.disabled),[u,s.disabled]),pn.useEffect(()=>{s.mode&&(u._options.mode=s.mode),s.reValidateMode&&(u._options.reValidateMode=s.reValidateMode)},[u,s.mode,s.reValidateMode]),pn.useEffect(()=>{s.errors&&(u._setErrors(s.errors),u._focusError())},[u,s.errors]),pn.useEffect(()=>{s.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,s.shouldUnregister]),pn.useEffect(()=>{if(u._proxyFormState.isDirty){const d=u._getDirty();d!==a.isDirty&&u._subjects.state.next({isDirty:d})}},[u,a.isDirty]),pn.useEffect(()=>{s.values&&!Ui(s.values,i.current)?(u._reset(s.values,u._options.resetOptions),i.current=s.values,o(d=>({...d}))):u._resetDefaultValues()},[u,s.values]),pn.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),e.current.formState=vT(a,u),e.current}const j_=(s,e,i)=>{if(s&&"reportValidity"in s){const a=Z(i,e);s.setCustomValidity(a&&a.message||""),s.reportValidity()}},Ev=(s,e)=>{for(const i in e.fields){const a=e.fields[i];a&&a.ref&&"reportValidity"in a.ref?j_(a.ref,i,s):a&&a.refs&&a.refs.forEach(o=>j_(o,i,s))}},UT=(s,e)=>{e.shouldUseNativeValidation&&Ev(s,e);const i={};for(const a in s){const o=Z(e.fields,a),u=Object.assign(s[a]||{},{ref:o&&o.ref});if(LT(e.names||Object.keys(s),a)){const d=Object.assign({},Z(i,a));Ve(d,"root",u),Ve(i,a,d)}else Ve(i,a,u)}return i},LT=(s,e)=>{const i=G_(e);return s.some(a=>G_(a).match(`^${i}\\.\\d+`))};function G_(s){return s.replace(/\]|\[/g,"")}function Sv(s,e,i){return i===void 0&&(i={}),function(a,o,u){try{return Promise.resolve(function(d,h){try{var p=(e?.context,Promise.resolve(s[i.mode==="sync"?"validateSync":"validate"](a,Object.assign({abortEarly:!1},e,{context:o}))).then(function(g){return u.shouldUseNativeValidation&&Ev({},u),{values:i.raw?Object.assign({},a):g,errors:{}}}))}catch(g){return h(g)}return p&&p.then?p.then(void 0,h):p}(0,function(d){if(!d.inner)throw d;return{values:{},errors:UT((h=d,p=!u.shouldUseNativeValidation&&u.criteriaMode==="all",(h.inner||[]).reduce(function(g,y){if(g[y.path]||(g[y.path]={message:y.message,type:y.type}),p){var v=g[y.path].types,E=v&&v[y.type];g[y.path]=hv(y.path,p,g,y.type,E?[].concat(E,y.message):y.message)}return g},{})),u)};var h,p}))}catch(d){return Promise.reject(d)}}}const zT=()=>{};var Y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(s,e){if(!s)throw Br(e)},Br=function(s){return new Error("Firebase Database ("+Tv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},HT=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],d=s[i++],h=s[i++],p=((o&7)<<18|(u&63)<<12|(d&63)<<6|h&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Yd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const u=s[o],d=o+1<s.length,h=d?s[o+1]:0,p=o+2<s.length,g=p?s[o+2]:0,y=u>>2,v=(u&3)<<4|h>>4;let E=(h&15)<<2|g>>6,z=g&63;p||(z=64,d||(E=64)),a.push(i[y],i[v],i[E],i[z])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Av(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):HT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],h=o<s.length?i[s.charAt(o)]:0;++o;const g=o<s.length?i[s.charAt(o)]:64;++o;const v=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||h==null||g==null||v==null)throw new BT;const E=u<<2|h>>4;if(a.push(E),g!==64){const z=h<<4&240|g>>2;if(a.push(z),v!==64){const H=g<<6&192|v;a.push(H)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class BT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cv=function(s){const e=Av(s);return Yd.encodeByteArray(e,!0)},tu=function(s){return Cv(s).replace(/\./g,"")},nu=function(s){try{return Yd.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(s){return wv(void 0,s)}function wv(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!PT(i)||(s[i]=wv(s[i],e[i]));return s}function PT(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=()=>FT().__FIREBASE_DEFAULTS__,jT=()=>{if(typeof process>"u"||typeof Y_>"u")return;const s=Y_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},GT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&nu(s[1]);return e&&JSON.parse(e)},Kd=()=>{try{return zT()||qT()||jT()||GT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Rv=s=>{var e,i;return(i=(e=Kd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},YT=s=>{const e=Rv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Ov=()=>{var s;return(s=Kd())===null||s===void 0?void 0:s.config},Nv=s=>{var e;return(e=Kd())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(s){return s.endsWith(".cloudworkstations.dev")}async function Dv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[tu(JSON.stringify(i)),tu(JSON.stringify(d)),""].join(".")}const nl={};function XT(){const s={prod:[],emulator:[]};for(const e of Object.keys(nl))nl[e]?s.emulator.push(e):s.prod.push(e);return s}function QT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let K_=!1;function Mv(s,e){if(typeof window>"u"||typeof document>"u"||!Vr(window.location.host)||nl[s]===e||nl[s]||K_)return;nl[s]=e;function i(E){return`__firebase__banner__${E}`}const a="__firebase__banner",u=XT().prod.length>0;function d(){const E=document.getElementById(a);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,z){E.setAttribute("width","24"),E.setAttribute("id",z),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{K_=!0,d()},E}function y(E,z){E.setAttribute("id",z),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=QT(a),z=i("text"),H=document.getElementById(z)||document.createElement("span"),K=i("learnmore"),J=document.getElementById(K)||document.createElement("a"),q=i("preprendIcon"),V=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const ne=E.element;h(ne),y(J,K);const pe=g();p(V,q),ne.append(V,H,J,pe),document.body.appendChild(ne)}u?(H.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function $T(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Iv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WT(){const s=It();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function JT(){return Tv.NODE_ADMIN===!0}function e1(){try{return typeof indexedDB=="object"}catch{return!1}}function t1(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="FirebaseError";class Yi extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=n1,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gl.prototype.create)}}class gl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?i1(u,a):"Error",h=`${this.serviceName}: ${d} (${o}).`;return new Yi(o,h,a)}}function i1(s,e){return s.replace(s1,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const s1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(s){return JSON.parse(s)}function St(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=function(s){let e={},i={},a={},o="";try{const u=s.split(".");e=ol(nu(u[0])||""),i=ol(nu(u[1])||""),o=u[2],a=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:a,signature:o}},r1=function(s){const e=xv(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},a1=function(s){const e=xv(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function Ur(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function gd(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function iu(s,e,i){const a={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=e.call(i,s[o],o,s));return a}function Ss(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const u=s[o],d=e[o];if(X_(u)&&X_(d)){if(!Ss(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function X_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Wa(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ja(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const a=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)a[v]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let v=0;v<16;v++)a[v]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let v=16;v<80;v++){const E=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],d=this.chain_[2],h=this.chain_[3],p=this.chain_[4],g,y;for(let v=0;v<80;v++){v<40?v<20?(g=h^u&(d^h),y=1518500249):(g=u^d^h,y=1859775393):v<60?(g=u&d|h&(u|d),y=2400959708):(g=u^d^h,y=3395469782);const E=(o<<5|o>>>27)+g+p+y+a[v]&4294967295;p=h,h=d,d=(u<<30|u>>>2)&4294967295,u=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const a=i-this.blockSize;let o=0;const u=this.buf_;let d=this.inbuf_;for(;o<i;){if(d===0)for(;o<=a;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(u[d]=e.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(u),d=0;break}}else for(;o<i;)if(u[d]=e[o],++d,++o,d===this.blockSize){this.compress_(u),d=0;break}}this.inbuf_=d,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[a]=this.chain_[o]>>u&255,++a;return e}}function o1(s,e){const i=new u1(s,e);return i.subscribe.bind(i)}class u1{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");c1(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Wf),o.error===void 0&&(o.error=Wf),o.complete===void 0&&(o.complete=Wf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c1(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Wf(){}function f1(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);if(o>=55296&&o<=56319){const u=o-55296;a++,Y(a<s.length,"Surrogate pair missing trail surrogate.");const d=s.charCodeAt(a)-56320;o=65536+(u<<10)+d}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Su=function(s){let e=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(s){return s&&s._delegate?s._delegate:s}class Ts{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Xd;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e?.identifier),o=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m1(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);a===h&&d.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:p1(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p1(s){return s===ms?void 0:s}function m1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new h1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const _1={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},y1=Pe.INFO,v1={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},b1=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=v1[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $d{constructor(e){this.name=e,this._logLevel=y1,this._logHandler=b1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const E1=(s,e)=>e.some(i=>s instanceof i);let Q_,$_;function S1(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T1(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kv=new WeakMap,_d=new WeakMap,Uv=new WeakMap,Jf=new WeakMap,Zd=new WeakMap;function A1(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(Vi(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&kv.set(i,s)}).catch(()=>{}),Zd.set(e,s),e}function C1(s){if(_d.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});_d.set(s,e)}let yd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return _d.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Uv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Vi(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function w1(s){yd=s(yd)}function R1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(ed(this),e,...i);return Uv.set(a,e.sort?e.sort():[e]),Vi(a)}:T1().includes(s)?function(...e){return s.apply(ed(this),e),Vi(kv.get(this))}:function(...e){return Vi(s.apply(ed(this),e))}}function O1(s){return typeof s=="function"?R1(s):(s instanceof IDBTransaction&&C1(s),E1(s,S1())?new Proxy(s,yd):s)}function Vi(s){if(s instanceof IDBRequest)return A1(s);if(Jf.has(s))return Jf.get(s);const e=O1(s);return e!==s&&(Jf.set(s,e),Zd.set(e,s)),e}const ed=s=>Zd.get(s);function N1(s,e,{blocked:i,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(s,e),h=Vi(d);return a&&d.addEventListener("upgradeneeded",p=>{a(Vi(d.result),p.oldVersion,p.newVersion,Vi(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const D1=["get","getKey","getAll","getAllKeys","count"],M1=["put","add","delete","clear"],td=new Map;function Z_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(td.get(e))return td.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=M1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||D1.includes(i)))return;const u=async function(d,...h){const p=this.transaction(d,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(h.shift())),(await Promise.all([g[i](...h),o&&p.done]))[0]};return td.set(e,u),u}w1(s=>({...s,get:(e,i,a)=>Z_(e,i)||s.get(e,i,a),has:(e,i)=>!!Z_(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(x1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function x1(s){const e=s.getComponent();return e?.type==="VERSION"}const vd="@firebase/app",W_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new $d("@firebase/app"),k1="@firebase/app-compat",U1="@firebase/analytics-compat",L1="@firebase/analytics",z1="@firebase/app-check-compat",H1="@firebase/app-check",B1="@firebase/auth",V1="@firebase/auth-compat",P1="@firebase/database",F1="@firebase/data-connect",q1="@firebase/database-compat",j1="@firebase/functions",G1="@firebase/functions-compat",Y1="@firebase/installations",K1="@firebase/installations-compat",X1="@firebase/messaging",Q1="@firebase/messaging-compat",$1="@firebase/performance",Z1="@firebase/performance-compat",W1="@firebase/remote-config",J1="@firebase/remote-config-compat",eA="@firebase/storage",tA="@firebase/storage-compat",nA="@firebase/firestore",iA="@firebase/ai",sA="@firebase/firestore-compat",rA="firebase",aA="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="[DEFAULT]",lA={[vd]:"fire-core",[k1]:"fire-core-compat",[L1]:"fire-analytics",[U1]:"fire-analytics-compat",[H1]:"fire-app-check",[z1]:"fire-app-check-compat",[B1]:"fire-auth",[V1]:"fire-auth-compat",[P1]:"fire-rtdb",[F1]:"fire-data-connect",[q1]:"fire-rtdb-compat",[j1]:"fire-fn",[G1]:"fire-fn-compat",[Y1]:"fire-iid",[K1]:"fire-iid-compat",[X1]:"fire-fcm",[Q1]:"fire-fcm-compat",[$1]:"fire-perf",[Z1]:"fire-perf-compat",[W1]:"fire-rc",[J1]:"fire-rc-compat",[eA]:"fire-gcs",[tA]:"fire-gcs-compat",[nA]:"fire-fst",[sA]:"fire-fst-compat",[iA]:"fire-vertex","fire-js":"fire-js",[rA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new Map,oA=new Map,Ed=new Map;function J_(s,e){try{s.container.addComponent(e)}catch(i){si.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Lr(s){const e=s.name;if(Ed.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;Ed.set(e,s);for(const i of su.values())J_(i,s);for(const i of oA.values())J_(i,s);return!0}function Wd(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function on(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new gl("app","Firebase",uA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=aA;function Lv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:bd,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw Pi.create("bad-app-name",{appName:String(o)});if(i||(i=Ov()),!i)throw Pi.create("no-options");const u=su.get(o);if(u){if(Ss(i,u.options)&&Ss(a,u.config))return u;throw Pi.create("duplicate-app",{appName:o})}const d=new g1(o);for(const p of Ed.values())d.addComponent(p);const h=new cA(i,a,d);return su.set(o,h),h}function zv(s=bd){const e=su.get(s);if(!e&&s===bd&&Ov())return Lv();if(!e)throw Pi.create("no-app",{appName:s});return e}function Fi(s,e,i){var a;let o=(a=lA[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const h=[`Unable to register library "${o}" with version "${e}":`];u&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&h.push("and"),d&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(h.join(" "));return}Lr(new Ts(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="firebase-heartbeat-database",dA=1,ul="firebase-heartbeat-store";let nd=null;function Hv(){return nd||(nd=N1(fA,dA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ul)}catch(i){console.warn(i)}}}}).catch(s=>{throw Pi.create("idb-open",{originalErrorMessage:s.message})})),nd}async function hA(s){try{const i=(await Hv()).transaction(ul),a=await i.objectStore(ul).get(Bv(s));return await i.done,a}catch(e){if(e instanceof Yi)si.warn(e.message);else{const i=Pi.create("idb-get",{originalErrorMessage:e?.message});si.warn(i.message)}}}async function ey(s,e){try{const a=(await Hv()).transaction(ul,"readwrite");await a.objectStore(ul).put(e,Bv(s)),await a.done}catch(i){if(i instanceof Yi)si.warn(i.message);else{const a=Pi.create("idb-set",{originalErrorMessage:i?.message});si.warn(a.message)}}}function Bv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=1024,mA=30;class gA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new yA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ty();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>mA){const d=vA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){si.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ty(),{heartbeatsToSend:a,unsentEntries:o}=_A(this._heartbeatsCache.heartbeats),u=tu(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return si.warn(i),""}}}function ty(){return new Date().toISOString().substring(0,10)}function _A(s,e=pA){const i=[];let a=s.slice();for(const o of s){const u=i.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),ny(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),ny(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class yA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e1()?t1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return ey(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return ey(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ny(s){return tu(JSON.stringify({version:2,heartbeats:s})).length}function vA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(s){Lr(new Ts("platform-logger",e=>new I1(e),"PRIVATE")),Lr(new Ts("heartbeat",e=>new gA(e),"PRIVATE")),Fi(vd,W_,s),Fi(vd,W_,"esm2017"),Fi("fire-js","")}bA("");function Jd(s,e){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(i[a[o]]=s[a[o]]);return i}function Vv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EA=Vv,Pv=new gl("auth","Firebase",Vv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=new $d("@firebase/auth");function SA(s,...e){ru.logLevel<=Pe.WARN&&ru.warn(`Auth (${Fr}): ${s}`,...e)}function Go(s,...e){ru.logLevel<=Pe.ERROR&&ru.error(`Auth (${Fr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(s,...e){throw eh(s,...e)}function In(s,...e){return eh(s,...e)}function Fv(s,e,i){const a=Object.assign(Object.assign({},EA()),{[e]:i});return new gl("auth","Firebase",a).create(e,{appName:s.name})}function ni(s){return Fv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eh(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Pv.create(s,...e)}function le(s,e,...i){if(!s)throw eh(e,...i)}function Jn(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Go(e),new Error(e)}function ri(s,e){s||Jn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function TA(){return iy()==="http:"||iy()==="https:"}function iy(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TA()||ZT()||"connection"in navigator)?navigator.onLine:!0}function CA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,i){this.shortDelay=e,this.longDelay=i,ri(i>e,"Short delay should be less than long delay!"),this.isMobile=Qd()||Iv()}get(){return AA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(s,e){ri(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OA=new _l(3e4,6e4);function Ki(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function Xi(s,e,i,a,o={}){return jv(s,o,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const h=Pr(Object.assign({key:s.config.apiKey},d)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const g=Object.assign({method:e,headers:p},u);return $T()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&Vr(s.emulatorConfig.host)&&(g.credentials="include"),qv.fetch()(await Gv(s,s.config.apiHost,i,h),g)})}async function jv(s,e,i){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},wA),e);try{const o=new DA(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Bo(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const h=u.ok?d.errorMessage:d.error.message,[p,g]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bo(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Bo(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw Bo(s,"user-disabled",d);const y=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Fv(s,y,g);En(s,y)}}catch(o){if(o instanceof Yi)throw o;En(s,"network-request-failed",{message:String(o)})}}async function yl(s,e,i,a,o={}){const u=await Xi(s,e,i,a,o);return"mfaPendingCredential"in u&&En(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function Gv(s,e,i,a){const o=`${e}${i}?${a}`,u=s,d=u.config.emulator?th(s.config,o):`${s.config.apiScheme}://${o}`;return RA.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function NA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(In(this.auth,"network-request-failed")),OA.get())})}}function Bo(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=In(s,e,a);return o.customData._tokenResponse=i,o}function sy(s){return s!==void 0&&s.enterprise!==void 0}class MA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return NA(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IA(s,e){return Xi(s,"GET","/v2/recaptchaConfig",Ki(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xA(s,e){return Xi(s,"POST","/v1/accounts:delete",e)}async function au(s,e){return Xi(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kA(s,e=!1){const i=oi(s),a=await i.getIdToken(e),o=nh(a);le(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:a,authTime:il(id(o.auth_time)),issuedAtTime:il(id(o.iat)),expirationTime:il(id(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function id(s){return Number(s)*1e3}function nh(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Go("JWT malformed, contained fewer than 3 sections"),null;try{const o=nu(i);return o?JSON.parse(o):(Go("Failed to decode base64 JWT payload"),null)}catch(o){return Go("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ry(s){const e=nh(s);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Yi&&UA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function UA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=il(this.lastLoginAt),this.creationTime=il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(s){var e;const i=s.auth,a=await s.getIdToken(),o=await cl(s,au(i,{idToken:a}));le(o?.users.length,i,"internal-error");const u=o.users[0];s._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Yv(u.providerUserInfo):[],h=HA(s.providerData,d),p=s.isAnonymous,g=!(s.email&&u.passwordHash)&&!h?.length,y=p?g:!1,v={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new Td(u.createdAt,u.lastLoginAt),isAnonymous:y};Object.assign(s,v)}async function zA(s){const e=oi(s);await lu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HA(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Yv(s){return s.map(e=>{var{providerId:i}=e,a=Jd(e,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(s,e){const i=await jv(s,{},async()=>{const a=Pr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,d=await Gv(s,o,"/v1/token",`key=${u}`),h=await s._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:a};return s.emulatorConfig&&Vr(s.emulatorConfig.host)&&(p.credentials="include"),qv.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function VA(s,e){return Xi(s,"POST","/v2/accounts:revokeToken",Ki(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ry(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){le(e.length!==0,"internal-error");const i=ry(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:u}=await BA(e,i);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:u}=i,d=new Dr;return a&&(le(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(le(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(le(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dr,this.toJSON())}_performRefresh(){return Jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(s,e){le(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class yn{constructor(e){var{uid:i,auth:a,stsTokenManager:o}=e,u=Jd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Td(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await cl(this,this.stsTokenManager.getToken(this.auth,e));return le(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return kA(this,e)}reload(){return zA(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new yn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await lu(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(ni(this.auth));const e=await this.getIdToken();return await cl(this,xA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var a,o,u,d,h,p,g,y;const v=(a=i.displayName)!==null&&a!==void 0?a:void 0,E=(o=i.email)!==null&&o!==void 0?o:void 0,z=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,H=(d=i.photoURL)!==null&&d!==void 0?d:void 0,K=(h=i.tenantId)!==null&&h!==void 0?h:void 0,J=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,q=(g=i.createdAt)!==null&&g!==void 0?g:void 0,V=(y=i.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:ne,emailVerified:pe,isAnonymous:j,providerData:de,stsTokenManager:be}=i;le(ne&&be,e,"internal-error");const Le=Dr.fromJSON(this.name,be);le(typeof ne=="string",e,"internal-error"),ki(v,e.name),ki(E,e.name),le(typeof pe=="boolean",e,"internal-error"),le(typeof j=="boolean",e,"internal-error"),ki(z,e.name),ki(H,e.name),ki(K,e.name),ki(J,e.name),ki(q,e.name),ki(V,e.name);const Ee=new yn({uid:ne,auth:e,email:E,emailVerified:pe,displayName:v,isAnonymous:j,photoURL:H,phoneNumber:z,tenantId:K,stsTokenManager:Le,createdAt:q,lastLoginAt:V});return de&&Array.isArray(de)&&(Ee.providerData=de.map(lt=>Object.assign({},lt))),J&&(Ee._redirectEventId=J),Ee}static async _fromIdTokenResponse(e,i,a=!1){const o=new Dr;o.updateFromServerResponse(i);const u=new yn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await lu(u),u}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];le(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Yv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,h=new Dr;h.updateFromIdToken(a);const p=new yn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Td(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=new Map;function ei(s){ri(s instanceof Function,"Expected a class definition");let e=ay.get(s);return e?(ri(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,ay.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Kv.type="NONE";const ly=Kv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(s,e,i){return`firebase:${s}:${e}:${i}`}class Mr{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Yo(this.userKey,o.apiKey,u),this.fullPersistenceKey=Yo("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await au(this.auth,{idToken:e}).catch(()=>{});return i?yn._fromGetAccountInfoResponse(this.auth,i,e):null}return yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Mr(ei(ly),e,a);const o=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ei(ly);const d=Yo(a,e.config.apiKey,e.name);let h=null;for(const g of i)try{const y=await g._get(d);if(y){let v;if(typeof y=="string"){const E=await au(e,{idToken:y}).catch(()=>{});if(!E)break;v=await yn._fromGetAccountInfoResponse(e,E,y)}else v=yn._fromJSON(e,y);g!==u&&(h=v),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Mr(u,e,a):(u=p[0],h&&await u._set(d,h.toJSON()),await Promise.all(i.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new Mr(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jv(e))return"Blackberry";if(e0(e))return"Webos";if(Qv(e))return"Safari";if((e.includes("chrome/")||$v(e))&&!e.includes("edge/"))return"Chrome";if(Wv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Xv(s=It()){return/firefox\//i.test(s)}function Qv(s=It()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $v(s=It()){return/crios\//i.test(s)}function Zv(s=It()){return/iemobile/i.test(s)}function Wv(s=It()){return/android/i.test(s)}function Jv(s=It()){return/blackberry/i.test(s)}function e0(s=It()){return/webos/i.test(s)}function ih(s=It()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function PA(s=It()){var e;return ih(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FA(){return WT()&&document.documentMode===10}function t0(s=It()){return ih(s)||Wv(s)||e0(s)||Jv(s)||/windows phone/i.test(s)||Zv(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(s,e=[]){let i;switch(s){case"Browser":i=oy(It());break;case"Worker":i=`${oy(It())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Fr}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=u=>new Promise((d,h)=>{try{const p=e(u);d(p)}catch(p){h(p)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(s,e={}){return Xi(s,"GET","/v2/passwordPolicy",Ki(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=6;class YA{constructor(e){var i,a,o,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:GA,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,a,o,u,d,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uy(this),this.idTokenSubscription=new uy(this),this.beforeStateQueue=new qA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ei(i)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await Mr.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await au(this,{idToken:e}),a=await yn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(on(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(h,h))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,h=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===h)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await lu(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(ni(this));const i=e?oi(e):null;return i&&le(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jA(this),i=new YA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await VA(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ei(e)||this._popupRedirectResolver;le(i,this,"argument-error"),this.redirectPersistenceManager=await Mr.create(this,[ei(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(h,this,"internal-error"),h.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,o);return()=>{d=!0,p()}}else{const p=e.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var e;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i?.error&&SA(`Error while retrieving App Check token: ${i.error}`),i?.token}}function Ns(s){return oi(s)}class uy{constructor(e){this.auth=e,this.observer=null,this.addObserver=o1(i=>this.observer=i)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XA(s){Tu=s}function i0(s){return Tu.loadJS(s)}function QA(){return Tu.recaptchaEnterpriseScript}function $A(){return Tu.gapiScript}function ZA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class WA{constructor(){this.enterprise=new JA}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class JA{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const eC="recaptcha-enterprise",s0="NO_RECAPTCHA";class tC{constructor(e){this.type=eC,this.auth=Ns(e)}async verify(e="verify",i=!1){async function a(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,h)=>{IA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new MA(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,d(g.siteKey)}}).catch(p=>{h(p)})})}function o(u,d,h){const p=window.grecaptcha;sy(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{d(g)}).catch(()=>{d(s0)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WA().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{a(this.auth).then(h=>{if(!i&&sy(window.grecaptcha))o(h,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=QA();p.length!==0&&(p+=h),i0(p).then(()=>{o(h,u,d)}).catch(g=>{d(g)})}}).catch(h=>{d(h)})})}}async function cy(s,e,i,a=!1,o=!1){const u=new tC(s);let d;if(o)d=s0;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const h=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return a?Object.assign(h,{captchaResp:d}):Object.assign(h,{captchaResponse:d}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ad(s,e,i,a,o){var u;if(!((u=s._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await cy(s,e,i,i==="getOobCode");return a(s,d)}else return a(s,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await cy(s,e,i,i==="getOobCode");return a(s,h)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(s,e){const i=Wd(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(Ss(u,e??{}))return o;En(o,"already-initialized")}return i.initialize({options:e})}function iC(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ei);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function sC(s,e,i){const a=Ns(s);le(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=r0(e),{host:d,port:h}=rC(e),p=h===null?"":`:${h}`,g={url:`${u}//${d}${p}/`},y=Object.freeze({host:d,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){le(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),le(Ss(g,a.config.emulator)&&Ss(y,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=y,a.settings.appVerificationDisabledForTesting=!0,Vr(d)?(Dv(`${u}//${d}${p}`),Mv("Auth",!0)):aC()}function r0(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function rC(s){const e=r0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:fy(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:fy(d)}}}function fy(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function aC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Jn("not implemented")}_getIdTokenResponse(e){return Jn("not implemented")}_linkToIdToken(e,i){return Jn("not implemented")}_getReauthenticationResolver(e){return Jn("not implemented")}}async function lC(s,e){return Xi(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(s,e){return yl(s,"POST","/v1/accounts:signInWithPassword",Ki(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(s,e){return yl(s,"POST","/v1/accounts:signInWithEmailLink",Ki(s,e))}async function cC(s,e){return yl(s,"POST","/v1/accounts:signInWithEmailLink",Ki(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends sh{constructor(e,i,a,o=null){super("password",a),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new fl(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new fl(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ad(e,i,"signInWithPassword",oC);case"emailLink":return uC(e,{email:this._email,oobCode:this._password});default:En(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ad(e,a,"signUpPassword",lC);case"emailLink":return cC(e,{idToken:i,email:this._email,oobCode:this._password});default:En(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ir(s,e){return yl(s,"POST","/v1/accounts:signInWithIdp",Ki(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="http://localhost";class As extends sh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):En("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=i,u=Jd(i,["providerId","signInMethod"]);if(!a||!o)return null;const d=new As(a,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ir(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Ir(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ir(e,i)}buildRequest(){const e={requestUri:fC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Pr(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hC(s){const e=Wa(Ja(s)).link,i=e?Wa(Ja(e)).deep_link_id:null,a=Wa(Ja(s)).deep_link_id;return(a?Wa(Ja(a)).link:null)||a||i||e||s}class rh{constructor(e){var i,a,o,u,d,h;const p=Wa(Ja(e)),g=(i=p.apiKey)!==null&&i!==void 0?i:null,y=(a=p.oobCode)!==null&&a!==void 0?a:null,v=dC((o=p.mode)!==null&&o!==void 0?o:null);le(g&&y&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=y,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=p.lang)!==null&&d!==void 0?d:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const i=hC(e);try{return new rh(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.providerId=qr.PROVIDER_ID}static credential(e,i){return fl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=rh.parseLink(i);return le(a,"argument-error"),fl._fromEmailAndCode(e,a.code,a.tenantId)}}qr.PROVIDER_ID="password";qr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends a0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends vl{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return As._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return zi.credential(i,a)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends vl{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends vl{constructor(){super("twitter.com")}static credential(e,i){return As._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Bi.credential(i,a)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(s,e){return yl(s,"POST","/v1/accounts:signUp",Ki(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const u=await yn._fromIdTokenResponse(e,a,o),d=dy(a);return new Cs({user:u,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=dy(a);return new Cs({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function dy(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Yi{constructor(e,i,a,o){var u;super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,ou.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new ou(e,i,a,o)}}function l0(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ou._fromErrorAndOperation(s,u,e,a):u})}async function mC(s,e,i=!1){const a=await cl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Cs._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(s,e,i=!1){const{auth:a}=s;if(on(a.app))return Promise.reject(ni(a));const o="reauthenticate";try{const u=await cl(s,l0(a,o,e,s),i);le(u.idToken,a,"internal-error");const d=nh(u.idToken);le(d,a,"internal-error");const{sub:h}=d;return le(s.uid===h,a,"user-mismatch"),Cs._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&En(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o0(s,e,i=!1){if(on(s.app))return Promise.reject(ni(s));const a="signIn",o=await l0(s,a,e),u=await Cs._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(u.user),u}async function _C(s,e){return o0(Ns(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u0(s){const e=Ns(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yC(s,e,i){if(on(s.app))return Promise.reject(ni(s));const a=Ns(s),d=await Ad(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&u0(s),p}),h=await Cs._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(h.user),h}function vC(s,e,i){return on(s.app)?Promise.reject(ni(s)):_C(oi(s),qr.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&u0(s),a})}function bC(s,e,i,a){return oi(s).onIdTokenChanged(e,i,a)}function EC(s,e,i){return oi(s).beforeAuthStateChanged(e,i)}const uu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(uu,"1"),this.storage.removeItem(uu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=1e3,TC=10;class f0 extends c0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,h,p)=>{this.notifyListeners(d,p)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);FA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,TC):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},SC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}f0.type="LOCAL";const AC=f0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0 extends c0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}d0.type="SESSION";const h0=d0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Au(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:u}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const h=Array.from(d).map(async g=>g(i.origin,u)),p=await CC(h);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Au.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((h,p)=>{const g=ah("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(v){const E=v;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(E.data.response);break;default:clearTimeout(y),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return window}function RC(s){xn().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}async function OC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NC(){var s;return((s=navigator?.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function DC(){return p0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="firebaseLocalStorageDb",MC=1,cu="firebaseLocalStorage",g0="fbase_key";class bl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Cu(s,e){return s.transaction([cu],e?"readwrite":"readonly").objectStore(cu)}function IC(){const s=indexedDB.deleteDatabase(m0);return new bl(s).toPromise()}function Cd(){const s=indexedDB.open(m0,MC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(cu,{keyPath:g0})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(cu)?e(a):(a.close(),await IC(),e(await Cd()))})})}async function hy(s,e,i){const a=Cu(s,!0).put({[g0]:e,value:i});return new bl(a).toPromise()}async function xC(s,e){const i=Cu(s,!1).get(e),a=await new bl(i).toPromise();return a===void 0?null:a.value}function py(s,e){const i=Cu(s,!0).delete(e);return new bl(i).toPromise()}const kC=800,UC=3;class _0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cd(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>UC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Au._getInstance(DC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await OC(),!this.activeServiceWorker)return;this.sender=new wC(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cd();return await hy(e,uu,"1"),await py(e,uu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>hy(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>xC(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>py(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Cu(o,!1).getAll();return new bl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_0.type="LOCAL";const LC=_0;new _l(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(s,e){return e?ei(e):(le(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends sh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ir(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ir(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ir(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function HC(s){return o0(s.auth,new lh(s),s.bypassAuthState)}function BC(s){const{auth:e,user:i}=s;return le(i,e,"internal-error"),gC(i,new lh(s),s.bypassAuthState)}async function VC(s){const{auth:e,user:i}=s;return le(i,e,"internal-error"),mC(i,new lh(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,i,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:u,error:d,type:h}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HC;case"linkViaPopup":case"linkViaRedirect":return VC;case"reauthViaPopup":case"reauthViaRedirect":return BC;default:En(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new _l(2e3,1e4);class wr extends y0{constructor(e,i,a,o,u){super(e,i,o,u),this.provider=a,this.authWindow=null,this.pollId=null,wr.currentPopupAction&&wr.currentPopupAction.cancel(),wr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=ah();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PC.get())};e()}}wr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="pendingRedirect",Ko=new Map;class qC extends y0{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Ko.get(this.auth._key());if(!e){try{const a=await jC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Ko.set(this.auth._key(),e)}return this.bypassAuthState||Ko.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jC(s,e){const i=KC(e),a=YC(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function GC(s,e){Ko.set(s._key(),e)}function YC(s){return ei(s._redirectPersistence)}function KC(s){return Yo(FC,s.config.apiKey,s.name)}async function XC(s,e,i=!1){if(on(s.app))return Promise.reject(ni(s));const a=Ns(s),o=zC(a,e),d=await new qC(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=10*60*1e3;class $C{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!v0(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(In(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QC&&this.cachedEventUids.clear(),this.cachedEventUids.has(my(e))}saveEventToCache(e){this.cachedEventUids.add(my(e)),this.lastProcessedEventTime=Date.now()}}function my(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function v0({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function ZC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(s,e={}){return Xi(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ew=/^https?/;async function tw(s){if(s.config.emulator)return;const{authorizedDomains:e}=await WC(s);for(const i of e)try{if(nw(i))return}catch{}En(s,"unauthorized-domain")}function nw(s){const e=Sd(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!ew.test(i))return!1;if(JC.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new _l(3e4,6e4);function gy(){const s=xn().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function sw(s){return new Promise((e,i)=>{var a,o,u;function d(){gy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gy(),i(In(s,"network-request-failed"))},timeout:iw.get()})}if(!((o=(a=xn().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=xn().gapi)===null||u===void 0)&&u.load)d();else{const h=ZA("iframefcb");return xn()[h]=()=>{gapi.load?d():i(In(s,"network-request-failed"))},i0(`${$A()}?onload=${h}`).catch(p=>i(p))}}).catch(e=>{throw Xo=null,e})}let Xo=null;function rw(s){return Xo=Xo||sw(s),Xo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=new _l(5e3,15e3),lw="__/auth/iframe",ow="emulator/auth/iframe",uw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fw(s){const e=s.config;le(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?th(e,ow):`https://${s.config.authDomain}/${lw}`,a={apiKey:e.apiKey,appName:s.name,v:Fr},o=cw.get(s.config.apiHost);o&&(a.eid=o);const u=s._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${Pr(a).slice(1)}`}async function dw(s){const e=await rw(s),i=xn().gapi;return le(i,s,"internal-error"),e.open({where:document.body,url:fw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uw,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const d=In(s,"network-request-failed"),h=xn().setTimeout(()=>{u(d)},aw.get());function p(){xn().clearTimeout(h),o(a)}a.ping(p).then(p,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pw=500,mw=600,gw="_blank",_w="http://localhost";class _y{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yw(s,e,i,a=pw,o=mw){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let h="";const p=Object.assign(Object.assign({},hw),{width:a.toString(),height:o.toString(),top:u,left:d}),g=It().toLowerCase();i&&(h=$v(g)?gw:i),Xv(g)&&(e=e||_w,p.scrollbars="yes");const y=Object.entries(p).reduce((E,[z,H])=>`${E}${z}=${H},`,"");if(PA(g)&&h!=="_self")return vw(e||"",h),new _y(null);const v=window.open(e||"",h,y);le(v,s,"popup-blocked");try{v.focus()}catch{}return new _y(v)}function vw(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="__/auth/handler",Ew="emulator/auth/handler",Sw=encodeURIComponent("fac");async function yy(s,e,i,a,o,u){le(s.config.authDomain,s,"auth-domain-config-required"),le(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Fr,eventId:o};if(e instanceof a0){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",gd(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))d[y]=v}if(e instanceof vl){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(d.scopes=y.join(","))}s.tenantId&&(d.tid=s.tenantId);const h=d;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const p=await s._getAppCheckToken(),g=p?`#${Sw}=${encodeURIComponent(p)}`:"";return`${Tw(s)}?${Pr(h).slice(1)}${g}`}function Tw({config:s}){return s.emulator?th(s,Ew):`https://${s.authDomain}/${bw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="webStorageSupport";class Aw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h0,this._completeRedirectFn=XC,this._overrideRedirectResult=GC}async _openPopup(e,i,a,o){var u;ri((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await yy(e,i,a,Sd(),o);return yw(e,d,ah())}async _openRedirect(e,i,a,o){await this._originValidation(e);const u=await yy(e,i,a,Sd(),o);return RC(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(ri(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await dw(e),a=new $C(e);return i.register("authEvent",o=>(le(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(sd,{type:sd},o=>{var u;const d=(u=o?.[0])===null||u===void 0?void 0:u[sd];d!==void 0&&i(!!d),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=tw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return t0()||Qv()||ih()}}const Cw=Aw;var vy="@firebase/auth",by="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ow(s){Lr(new Ts("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:h}=a.options;le(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:h,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n0(s)},g=new KA(a,o,u,p);return iC(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Lr(new Ts("auth-internal",e=>{const i=Ns(e.getProvider("auth").getImmediate());return(a=>new ww(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fi(vy,by,Rw(s)),Fi(vy,by,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=5*60,Dw=Nv("authIdTokenMaxAge")||Nw;let Ey=null;const Mw=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Dw)return;const o=i?.token;Ey!==o&&(Ey=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Iw(s=zv()){const e=Wd(s,"auth");if(e.isInitialized())return e.getImmediate();const i=nC(s,{popupRedirectResolver:Cw,persistence:[LC,AC,h0]}),a=Nv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=Mw(u.toString());EC(i,d,()=>d(i.currentUser)),bC(i,h=>d(h))}}const o=Rv("auth");return o&&sC(i,`http://${o}`),i}function xw(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}XA({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const u=In("internal-error");u.customData=o,i(u)},a.type="text/javascript",a.charset="UTF-8",xw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ow("Browser");var kw="firebase",Uw="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi(kw,Uw,"app");var Sy={};const Ty="@firebase/database",Ay="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b0="";function Lw(s){b0=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),St(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:ol(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return li(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new zw(e)}}catch{}return new Hw},ys=E0("localStorage"),Bw=E0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new $d("@firebase/database"),Vw=function(){let s=1;return function(){return s++}}(),S0=function(s){const e=d1(s),i=new l1;i.update(e);const a=i.digest();return Yd.encodeByteArray(a)},El=function(...s){let e="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=El.apply(null,a):typeof a=="object"?e+=St(a):e+=a,e+=" "}return e};let sl=null,Cy=!0;const Pw=function(s,e){Y(!0,"Can't turn on custom loggers persistently."),xr.logLevel=Pe.VERBOSE,sl=xr.log.bind(xr)},Rt=function(...s){if(Cy===!0&&(Cy=!1,sl===null&&Bw.get("logging_enabled")===!0&&Pw()),sl){const e=El.apply(null,s);sl(e)}},Sl=function(s){return function(...e){Rt(s,...e)}},wd=function(...s){const e="FIREBASE INTERNAL ERROR: "+El(...s);xr.error(e)},ai=function(...s){const e=`FIREBASE FATAL ERROR: ${El(...s)}`;throw xr.error(e),new Error(e)},Qt=function(...s){const e="FIREBASE WARNING: "+El(...s);xr.warn(e)},Fw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Qt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},T0=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},qw=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},zr="[MIN_NAME]",ws="[MAX_NAME]",jr=function(s,e){if(s===e)return 0;if(s===zr||e===ws)return-1;if(e===zr||s===ws)return 1;{const i=wy(s),a=wy(e);return i!==null?a!==null?i-a===0?s.length-e.length:i-a:-1:a!==null?1:s<e?-1:1}},jw=function(s,e){return s===e?0:s<e?-1:1},Xa=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+St(e))},oh=function(s){if(typeof s!="object"||s===null)return St(s);const e=[];for(const a in s)e.push(a);e.sort();let i="{";for(let a=0;a<e.length;a++)a!==0&&(i+=","),i+=St(e[a]),i+=":",i+=oh(s[e[a]]);return i+="}",i},A0=function(s,e){const i=s.length;if(i<=e)return[s];const a=[];for(let o=0;o<i;o+=e)o+e>i?a.push(s.substring(o,i)):a.push(s.substring(o,o+e));return a};function cn(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const C0=function(s){Y(!T0(s),"Invalid JSON number");const e=11,i=52,a=(1<<e-1)-1;let o,u,d,h,p;s===0?(u=0,d=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(h=Math.min(Math.floor(Math.log(s)/Math.LN2),a),u=h+a,d=Math.round(s*Math.pow(2,i-h)-Math.pow(2,i))):(u=0,d=Math.round(s/Math.pow(2,1-a-i))));const g=[];for(p=i;p;p-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(p=e;p;p-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(o?1:0),g.reverse();const y=g.join("");let v="";for(p=0;p<64;p+=8){let E=parseInt(y.substr(p,8),2).toString(16);E.length===1&&(E="0"+E),v=v+E}return v.toLowerCase()},Gw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Yw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Kw=new RegExp("^-?(0*)\\d{1,10}$"),Xw=-2147483648,Qw=2147483647,wy=function(s){if(Kw.test(s)){const e=Number(s);if(e>=Xw&&e<=Qw)return e}return null},Tl=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw Qt("Exception was thrown by user callback.",i),e},Math.floor(0))}},$w=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},rl=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,on(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(a=>this.appCheck=a)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(a=>a.addTokenListener(e))}notifyForInvalidToken(){Qt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,i,a){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(Rt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qt(e)}}class Qo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Qo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh="5",w0="v",R0="s",O0="r",N0="f",D0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,M0="ls",I0="p",Rd="ac",x0="websocket",k0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,i,a,o,u=!1,d="",h=!1,p=!1,g=null){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ys.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ys.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function Jw(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function L0(s,e,i){Y(typeof e=="string","typeof type must == string"),Y(typeof i=="object","typeof params must == object");let a;if(e===x0)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===k0)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Jw(s)&&(i.ns=s.namespace);const o=[];return cn(i,(u,d)=>{o.push(u+"="+d)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.counters_={}}incrementCounter(e,i=1){li(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return VT(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd={},ad={};function ch(s){const e=s.toString();return rd[e]||(rd[e]=new eR),rd[e]}function tR(s,e){const i=s.toString();return ad[i]||(ad[i]=e()),ad[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&Tl(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="start",iR="close",sR="pLPCommand",rR="pRTLPCB",z0="id",H0="pw",B0="ser",aR="cb",lR="seg",oR="ts",uR="d",cR="dframe",V0=1870,P0=30,fR=V0-P0,dR=25e3,hR=3e4;class Rr{constructor(e,i,a,o,u,d,h){this.connId=e,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sl(e),this.stats_=ch(i),this.urlFn=p=>(this.appCheckToken&&(p[Rd]=this.appCheckToken),L0(i,k0,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new nR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(hR)),qw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fh((...u)=>{const[d,h,p,g,y]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Ry)this.id=h,this.password=p;else if(d===iR)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...u)=>{const[d,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const a={};a[Ry]="t",a[B0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[aR]=this.scriptTagHolder.uniqueCallbackIdentifier),a[w0]=uh,this.transportSessionId&&(a[R0]=this.transportSessionId),this.lastSessionId&&(a[M0]=this.lastSessionId),this.applicationId&&(a[I0]=this.applicationId),this.appCheckToken&&(a[Rd]=this.appCheckToken),typeof location<"u"&&location.hostname&&D0.test(location.hostname)&&(a[O0]=N0);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Rr.forceAllow_=!0}static forceDisallow(){Rr.forceDisallow_=!0}static isAvailable(){return Rr.forceAllow_?!0:!Rr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Gw()&&!Yw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=St(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Cv(i),o=A0(a,fR);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[cR]="t",a[z0]=e,a[H0]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=St(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class fh{constructor(e,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Vw(),window[sR+this.uniqueCallbackIdentifier]=e,window[rR+this.uniqueCallbackIdentifier]=i,this.myIFrame=fh.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){Rt("frame writing exception"),h.stack&&Rt(h.stack),Rt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Rt("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[z0]=this.myID,e[H0]=this.myPW,e[B0]=this.currentSerial;let i=this.urlFn(e),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+P0+a.length<=V0;){const d=this.pendingSegs.shift();a=a+"&"+lR+o+"="+d.seg+"&"+oR+o+"="+d.ts+"&"+uR+o+"="+d.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,a){this.pendingSegs.push({seg:e,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor(dR)),u=()=>{clearTimeout(o),a()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{Rt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=16384,mR=45e3;let fu=null;typeof MozWebSocket<"u"?fu=MozWebSocket:typeof WebSocket<"u"&&(fu=WebSocket);class _n{constructor(e,i,a,o,u,d,h){this.connId=e,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sl(this.connId),this.stats_=ch(i),this.connURL=_n.connectionURL_(i,d,h,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,o,u){const d={};return d[w0]=uh,typeof location<"u"&&location.hostname&&D0.test(location.hostname)&&(d[O0]=N0),i&&(d[R0]=i),a&&(d[M0]=a),o&&(d[Rd]=o),u&&(d[I0]=u),L0(e,x0,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ys.set("previous_websocket_failure",!0);try{let a;JT(),this.mySock=new fu(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){_n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&fu!==null&&!_n.forceDisallow_}static previouslyFailed(){return ys.isInMemoryStorage||ys.get("previous_websocket_failure")===!0}markConnectionHealthy(){ys.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=ol(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=St(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=A0(i,pR);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(mR))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}_n.responsesRequiredToBeHealthy=2;_n.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{static get ALL_TRANSPORTS(){return[Rr,_n]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=_n&&_n.isAvailable();let a=i&&!_n.previouslyFailed();if(e.webSocketOnly&&(i||Qt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[_n];else{const o=this.transports_=[];for(const u of dl.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);dl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}dl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=6e4,_R=5e3,yR=10*1024,vR=100*1024,ld="t",Oy="d",bR="s",Ny="r",ER="e",Dy="o",My="a",Iy="n",xy="p",SR="h";class TR{constructor(e,i,a,o,u,d,h,p,g,y){this.id=e,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sl("c:"+this.id+":"),this.transportManager_=new dl(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=rl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>vR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>yR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ld in e){const i=e[ld];i===My?this.upgradeIfSecondaryHealthy_():i===Ny?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Dy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Xa("t",e),a=Xa("d",e);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:xy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:My,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Iy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Xa("t",e),a=Xa("d",e);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Xa(ld,e);if(Oy in e){const a=e[Oy];if(i===SR){const o=Object.assign({},a);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===Iy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===bR?this.onConnectionShutdown_(a):i===Ny?this.onReset_(a):i===ER?wd("Server Error: "+a):i===Dy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wd("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,a=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),uh!==a&&Qt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),rl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(gR))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_R))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:xy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ys.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{put(e,i,a,o){}merge(e,i,a,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,a){}onDisconnectMerge(e,i,a){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(e,i,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:a});const o=this.getInitialEvent(e);o&&i.apply(a,o)}off(e,i,a){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!a||a===o[u].context)){o.splice(u,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends q0{static getInstance(){return new du}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Qd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=32,Uy=768;class $e{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Fe(){return new $e("")}function Re(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Gi(s){return s.pieces_.length-s.pieceNum_}function Qe(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new $e(s.pieces_,e)}function j0(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function AR(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function G0(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function Y0(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new $e(e,0)}function _t(s,e){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(e instanceof $e)for(let a=e.pieceNum_;a<e.pieces_.length;a++)i.push(e.pieces_[a]);else{const a=e.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new $e(i,0)}function Ae(s){return s.pieceNum_>=s.pieces_.length}function un(s,e){const i=Re(s),a=Re(e);if(i===null)return e;if(i===a)return un(Qe(s),Qe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function K0(s,e){if(Gi(s)!==Gi(e))return!1;for(let i=s.pieceNum_,a=e.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==e.pieces_[a])return!1;return!0}function vn(s,e){let i=s.pieceNum_,a=e.pieceNum_;if(Gi(s)>Gi(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[a])return!1;++i,++a}return!0}class CR{constructor(e,i){this.errorPrefix_=i,this.parts_=G0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=Su(this.parts_[a]);X0(this)}}function wR(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=Su(e),X0(s)}function RR(s){const e=s.parts_.pop();s.byteLength_-=Su(e),s.parts_.length>0&&(s.byteLength_-=1)}function X0(s){if(s.byteLength_>Uy)throw new Error(s.errorPrefix_+"has a key path longer than "+Uy+" bytes ("+s.byteLength_+").");if(s.parts_.length>ky)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ky+") or object contains a cycle "+gs(s))}function gs(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends q0{static getInstance(){return new dh}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=1e3,OR=60*5*1e3,Ly=30*1e3,NR=1.3,DR=3e4,MR="server_kill",zy=3;class ii extends F0{constructor(e,i,a,o,u,d,h,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=ii.nextPersistentConnectionId_++,this.log_=Sl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Qa,this.maxReconnectDelay_=OR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&du.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const o=++this.requestNumber_,u={r:o,a:e,b:i};this.log_(St(u)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),a&&(this.requestCBHash_[o]=a)}get(e){this.initConnection_();const i=new Xd,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,a,o){this.initConnection_();const u=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+u),this.listens.has(d)||this.listens.set(d,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(d).has(u),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:i,query:e,tag:a};this.listens.get(d).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const u={p:a},d="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(d,u,h=>{const p=h.d,g=h.s;ii.warnOnListenWarnings_(p,i),(this.listens.get(a)&&this.listens.get(a).get(o))===e&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(a,o),e.onComplete&&e.onComplete(g,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&li(e,"w")){const a=Ur(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Qt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||a1(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ly)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=r1(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const u=o.s,d=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,e._queryObject,i)}sendUnlisten_(e,i,a,o){this.log_("Unlisten on "+e+" for "+i);const u={p:e},d="n";o&&(u.q=a,u.t=o),this.sendRequest(d,u)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,o){const u={p:i,d:a};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(e,i,a,o){this.putInternal("p",e,i,a,o)}merge(e,i,a,o){this.putInternal("m",e,i,a,o)}putInternal(e,i,a,o,u){this.initConnection_();const d={p:i,d:a};u!==void 0&&(d.h=u),this.outstandingPuts_.push({action:e,request:d,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const u=a.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+St(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):wd("Unrecognized action received from server: "+St(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>DR&&(this.reconnectDelay_=Qa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*NR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+ii.nextConnectionId_++,u=this.lastSessionId;let d=!1,h=null;const p=function(){h?h.close():(d=!0,a())},g=function(v){Y(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:p,sendRequest:g};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,E]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);d?Rt("getToken() completed but was canceled"):(Rt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=E&&E.token,h=new TR(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,a,z=>{Qt(z+" ("+this.repoInfo_.toString()+")"),this.interrupt(MR)},u))}catch(v){this.log_("Failed to get token: "+v),d||(this.repoInfo_.nodeAdmin&&Qt(v),p())}}}interrupt(e){Rt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Rt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],gd(this.interruptReasons_)&&(this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;i?a=i.map(u=>oh(u)).join("$"):a="default";const o=this.removeListen_(e,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const a=new $e(e).toString();let o;if(this.listens.has(a)){const u=this.listens.get(a);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(e,i){Rt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zy&&(this.reconnectDelay_=Ly,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Rt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+b0.replace(/\./g,"-")]=1,Qd()?e["framework.cordova"]=1:Iv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=du.getInstance().currentlyOnline();return gd(this.interruptReasons_)&&e}}ii.nextPersistentConnectionId_=0;ii.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new Oe(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const a=new Oe(zr,e),o=new Oe(zr,i);return this.compare(a,o)!==0}minPost(){return Oe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo;class Q0 extends wu{static get __EMPTY_NODE(){return Vo}static set __EMPTY_NODE(e){Vo=e}compare(e,i){return jr(e.name,i.name)}isDefinedOn(e){throw Br("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return Oe.MIN}maxPost(){return new Oe(ws,Vo)}makePost(e,i){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new Oe(e,Vo)}toString(){return".key"}}const kr=new Q0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,i,a,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(e=e,d=i?a(e.key,i):1,o&&(d*=-1),d<0)this.isReverse_?e=e.left:e=e.right;else if(d===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class gt{constructor(e,i,a,o,u){this.key=e,this.value=i,this.color=a??gt.RED,this.left=o??Pt.EMPTY_NODE,this.right=u??Pt.EMPTY_NODE}copy(e,i,a,o,u){return new gt(e??this.key,i??this.value,a??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const u=a(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,i,a),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,o;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(e,a.key)===0){if(a.right.isEmpty())return Pt.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}gt.RED=!0;gt.BLACK=!1;class IR{copy(e,i,a,o,u){return this}insert(e,i,a){return new gt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Pt{constructor(e,i=Pt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new Pt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,gt.BLACK,null,null))}remove(e){return new Pt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,gt.BLACK,null,null))}get(e){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(e,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(e){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(e,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Po(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new Po(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new Po(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new Po(this.root_,null,this.comparator_,!0,e)}}Pt.EMPTY_NODE=new IR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(s,e){return jr(s.name,e.name)}function hh(s,e){return jr(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od;function kR(s){Od=s}const $0=function(s){return typeof s=="number"?"number:"+C0(s):"string:"+s},Z0=function(s){if(s.isLeafNode()){const e=s.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&li(e,".sv"),"Priority must be a string or number.")}else Y(s===Od||s.isEmpty(),"priority of unexpected type.");Y(s===Od||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hy;class mt{static set __childrenNodeConstructor(e){Hy=e}static get __childrenNodeConstructor(){return Hy}constructor(e,i=mt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Z0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new mt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:mt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ae(e)?this:Re(e)===".priority"?this.priorityNode_:mt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:mt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=Re(e);return a===null?i:i.isEmpty()&&a!==".priority"?this:(Y(a!==".priority"||Gi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,mt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qe(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+$0(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=C0(this.value_):e+=this.value_,this.lazyHash_=S0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===mt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof mt.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,o=mt.VALUE_TYPE_ORDER.indexOf(i),u=mt.VALUE_TYPE_ORDER.indexOf(a);return Y(o>=0,"Unknown leaf type: "+i),Y(u>=0,"Unknown leaf type: "+a),o===u?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}mt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W0,J0;function UR(s){W0=s}function LR(s){J0=s}class zR extends wu{compare(e,i){const a=e.node.getPriority(),o=i.node.getPriority(),u=a.compareTo(o);return u===0?jr(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return Oe.MIN}maxPost(){return new Oe(ws,new mt("[PRIORITY-POST]",J0))}makePost(e,i){const a=W0(e);return new Oe(i,new mt("[PRIORITY-POST]",a))}toString(){return".priority"}}const Nt=new zR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=Math.log(2);class BR{constructor(e){const i=u=>parseInt(Math.log(u)/HR,10),a=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=a(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const hu=function(s,e,i,a){s.sort(e);const o=function(p,g){const y=g-p;let v,E;if(y===0)return null;if(y===1)return v=s[p],E=i?i(v):v,new gt(E,v.node,gt.BLACK,null,null);{const z=parseInt(y/2,10)+p,H=o(p,z),K=o(z+1,g);return v=s[z],E=i?i(v):v,new gt(E,v.node,gt.BLACK,H,K)}},u=function(p){let g=null,y=null,v=s.length;const E=function(H,K){const J=v-H,q=v;v-=H;const V=o(J+1,q),ne=s[J],pe=i?i(ne):ne;z(new gt(pe,ne.node,K,null,V))},z=function(H){g?(g.left=H,g=H):(y=H,g=H)};for(let H=0;H<p.count;++H){const K=p.nextBitIsOne(),J=Math.pow(2,p.count-(H+1));K?E(J,gt.BLACK):(E(J,gt.BLACK),E(J,gt.RED))}return y},d=new BR(s.length),h=u(d);return new Pt(a||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od;const Ar={};class ti{static get Default(){return Y(Ar&&Nt,"ChildrenNode.ts has not been loaded"),od=od||new ti({".priority":Ar},{".priority":Nt}),od}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=Ur(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof Pt?i:null}hasIndex(e){return li(this.indexSet_,e.toString())}addIndex(e,i){Y(e!==kr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const u=i.getIterator(Oe.Wrap);let d=u.getNext();for(;d;)o=o||e.isDefinedOn(d.node),a.push(d),d=u.getNext();let h;o?h=hu(a,e.getCompare()):h=Ar;const p=e.toString(),g=Object.assign({},this.indexSet_);g[p]=e;const y=Object.assign({},this.indexes_);return y[p]=h,new ti(y,g)}addToIndexes(e,i){const a=iu(this.indexes_,(o,u)=>{const d=Ur(this.indexSet_,u);if(Y(d,"Missing index implementation for "+u),o===Ar)if(d.isDefinedOn(e.node)){const h=[],p=i.getIterator(Oe.Wrap);let g=p.getNext();for(;g;)g.name!==e.name&&h.push(g),g=p.getNext();return h.push(e),hu(h,d.getCompare())}else return Ar;else{const h=i.get(e.name);let p=o;return h&&(p=p.remove(new Oe(e.name,h))),p.insert(e,e.node)}});return new ti(a,this.indexSet_)}removeFromIndexes(e,i){const a=iu(this.indexes_,o=>{if(o===Ar)return o;{const u=i.get(e.name);return u?o.remove(new Oe(e.name,u)):o}});return new ti(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a;class xe{static get EMPTY_NODE(){return $a||($a=new xe(new Pt(hh),null,ti.Default))}constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&Z0(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$a}updatePriority(e){return this.children_.isEmpty()?this:new xe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?$a:i}}getChild(e){const i=Re(e);return i===null?this:this.getImmediateChild(i).getChild(Qe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(Y(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const a=new Oe(e,i);let o,u;i.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(a,this.children_));const d=o.isEmpty()?$a:this.priorityNode_;return new xe(o,d,u)}}updateChild(e,i){const a=Re(e);if(a===null)return i;{Y(Re(e)!==".priority"||Gi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(Qe(e),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,o=0,u=!0;if(this.forEachChild(Nt,(d,h)=>{i[d]=h.val(e),a++,u&&xe.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):u=!1}),!e&&u&&o<2*a){const d=[];for(const h in i)d[h]=i[h];return d}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+$0(this.getPriority().val())+":"),this.forEachChild(Nt,(i,a)=>{const o=a.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":S0(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const o=this.resolveIndex_(a);if(o){const u=o.getPredecessorKey(new Oe(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Oe(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Oe(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Oe.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Oe.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Al?-1:0}withIndex(e){if(e===kr||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new xe(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===kr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(Nt),o=i.getIterator(Nt);let u=a.getNext(),d=o.getNext();for(;u&&d;){if(u.name!==d.name||!u.node.equals(d.node))return!1;u=a.getNext(),d=o.getNext()}return u===null&&d===null}else return!1;else return!1}}resolveIndex_(e){return e===kr?null:this.indexMap_.get(e.toString())}}xe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class VR extends xe{constructor(){super(new Pt(hh),xe.EMPTY_NODE,ti.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return xe.EMPTY_NODE}isEmpty(){return!1}}const Al=new VR;Object.defineProperties(Oe,{MIN:{value:new Oe(zr,xe.EMPTY_NODE)},MAX:{value:new Oe(ws,Al)}});Q0.__EMPTY_NODE=xe.EMPTY_NODE;mt.__childrenNodeConstructor=xe;kR(Al);LR(Al);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=!0;function Ot(s,e=null){if(s===null)return xe.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new mt(i,Ot(e))}if(!(s instanceof Array)&&PR){const i=[];let a=!1;if(cn(s,(d,h)=>{if(d.substring(0,1)!=="."){const p=Ot(h);p.isEmpty()||(a=a||!p.getPriority().isEmpty(),i.push(new Oe(d,p)))}}),i.length===0)return xe.EMPTY_NODE;const u=hu(i,xR,d=>d.name,hh);if(a){const d=hu(i,Nt.getCompare());return new xe(u,Ot(e),new ti({".priority":d},{".priority":Nt}))}else return new xe(u,Ot(e),ti.Default)}else{let i=xe.EMPTY_NODE;return cn(s,(a,o)=>{if(li(s,a)&&a.substring(0,1)!=="."){const u=Ot(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(a,u))}}),i.updatePriority(Ot(e))}}UR(Ot);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR extends wu{constructor(e){super(),this.indexPath_=e,Y(!Ae(e)&&Re(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const a=this.extractChild(e.node),o=this.extractChild(i.node),u=a.compareTo(o);return u===0?jr(e.name,i.name):u}makePost(e,i){const a=Ot(e),o=xe.EMPTY_NODE.updateChild(this.indexPath_,a);return new Oe(i,o)}maxPost(){const e=xe.EMPTY_NODE.updateChild(this.indexPath_,Al);return new Oe(ws,e)}toString(){return G0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR extends wu{compare(e,i){const a=e.node.compareTo(i.node);return a===0?jr(e.name,i.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return Oe.MIN}maxPost(){return Oe.MAX}makePost(e,i){const a=Ot(e);return new Oe(i,a)}toString(){return".value"}}const jR=new qR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(s){return{type:"value",snapshotNode:s}}function YR(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function KR(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function By(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function XR(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zr}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ws}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nt}copy(){const e=new ph;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Vy(s){const e={};if(s.isDefault())return e;let i;if(s.index_===Nt?i="$priority":s.index_===jR?i="$value":s.index_===kr?i="$key":(Y(s.index_ instanceof FR,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=St(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";e[a]=St(s.indexStartValue_),s.startNameSet_&&(e[a]+=","+St(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";e[a]=St(s.indexEndValue_),s.endNameSet_&&(e[a]+=","+St(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function Py(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==Nt&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends F0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,a,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=Sl("p:rest:"),this.listens_={}}listen(e,i,a,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const d=pu.getListenId_(e,a),h={};this.listens_[d]=h;const p=Vy(e._queryParams);this.restRequest_(u+".json",p,(g,y)=>{let v=y;if(g===404&&(v=null,g=null),g===null&&this.onDataUpdate_(u,v,!1,a),Ur(this.listens_,d)===h){let E;g?g===401?E="permission_denied":E="rest_error:"+g:E="ok",o(E,null)}})}unlisten(e,i){const a=pu.getListenId_(e,i);delete this.listens_[a]}get(e){const i=Vy(e._queryParams),a=e._path.toString(),o=new Xd;return this.restRequest_(a+".json",i,(u,d)=>{let h=d;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(a,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Pr(i);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(a&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=ol(h.responseText)}catch{Qt("Failed to parse JSON response for "+d+": "+h.responseText)}a(null,p)}else h.status!==401&&h.status!==404&&Qt("Got unsuccessful REST response for "+d+" Status: "+h.status),a(h.status);a=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.rootNode_=xe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(){return{value:null,children:new Map}}function eb(s,e,i){if(Ae(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const a=Re(e);s.children.has(a)||s.children.set(a,mu());const o=s.children.get(a);e=Qe(e),eb(o,e,i)}}function Nd(s,e,i){s.value!==null?i(e,s.value):$R(s,(a,o)=>{const u=new $e(e.toString()+"/"+a);Nd(o,u,i)})}function $R(s,e){s.children.forEach((i,a)=>{e(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&cn(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=10*1e3,WR=30*1e3,JR=5*60*1e3;class eO{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new ZR(e);const a=Fy+(WR-Fy)*Math.random();rl(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),i={};let a=!1;cn(e,(o,u)=>{u>0&&li(this.statsToReport_,o)&&(i[o]=u,a=!0)}),a&&this.server_.reportStats(i),rl(this.reportStats_.bind(this),Math.floor(Math.random()*2*JR))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mn||(Mn={}));function tb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function nb(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ib(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,i,a){this.path=e,this.affectedTree=i,this.revert=a,this.type=Mn.ACK_USER_WRITE,this.source=tb()}operationForChild(e){if(Ae(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new $e(e));return new gu(Fe(),i,this.revert)}}else return Y(Re(this.path)===e,"operationForChild called for unrelated child."),new gu(Qe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,i,a){this.source=e,this.path=i,this.snap=a,this.type=Mn.OVERWRITE}operationForChild(e){return Ae(this.path)?new Rs(this.source,Fe(),this.snap.getImmediateChild(e)):new Rs(this.source,Qe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,i,a){this.source=e,this.path=i,this.children=a,this.type=Mn.MERGE}operationForChild(e){if(Ae(this.path)){const i=this.children.subtree(new $e(e));return i.isEmpty()?null:i.value?new Rs(this.source,Fe(),i.value):new hl(this.source,Fe(),i)}else return Y(Re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new hl(this.source,Qe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,i,a){this.node_=e,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ae(e))return this.isFullyInitialized()&&!this.filtered_;const i=Re(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function tO(s,e,i,a){const o=[],u=[];return e.forEach(d=>{d.type==="child_changed"&&s.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(XR(d.childName,d.snapshotNode))}),Za(s,o,"child_removed",e,a,i),Za(s,o,"child_added",e,a,i),Za(s,o,"child_moved",u,a,i),Za(s,o,"child_changed",e,a,i),Za(s,o,"value",e,a,i),o}function Za(s,e,i,a,o,u){const d=a.filter(h=>h.type===i);d.sort((h,p)=>iO(s,h,p)),d.forEach(h=>{const p=nO(s,h,u);o.forEach(g=>{g.respondsTo(h.type)&&e.push(g.createEvent(p,s.query_))})})}function nO(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function iO(s,e,i){if(e.childName==null||i.childName==null)throw Br("Should only compare child_ events.");const a=new Oe(e.childName,e.snapshotNode),o=new Oe(i.childName,i.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(s,e){return{eventCache:s,serverCache:e}}function al(s,e,i,a){return sb(new mh(e,i,a),s.serverCache)}function rb(s,e,i,a){return sb(s.eventCache,new mh(e,i,a))}function Dd(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Os(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud;const sO=()=>(ud||(ud=new Pt(jw)),ud);class Xe{static fromObject(e){let i=new Xe(null);return cn(e,(a,o)=>{i=i.set(new $e(a),o)}),i}constructor(e,i=sO()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Fe(),value:this.value};if(Ae(e))return null;{const a=Re(e),o=this.children.get(a);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Qe(e),i);return u!=null?{path:_t(new $e(a),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ae(e))return this;{const i=Re(e),a=this.children.get(i);return a!==null?a.subtree(Qe(e)):new Xe(null)}}set(e,i){if(Ae(e))return new Xe(i,this.children);{const a=Re(e),u=(this.children.get(a)||new Xe(null)).set(Qe(e),i),d=this.children.insert(a,u);return new Xe(this.value,d)}}remove(e){if(Ae(e))return this.children.isEmpty()?new Xe(null):new Xe(null,this.children);{const i=Re(e),a=this.children.get(i);if(a){const o=a.remove(Qe(e));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Xe(null):new Xe(this.value,u)}else return this}}get(e){if(Ae(e))return this.value;{const i=Re(e),a=this.children.get(i);return a?a.get(Qe(e)):null}}setTree(e,i){if(Ae(e))return i;{const a=Re(e),u=(this.children.get(a)||new Xe(null)).setTree(Qe(e),i);let d;return u.isEmpty()?d=this.children.remove(a):d=this.children.insert(a,u),new Xe(this.value,d)}}fold(e){return this.fold_(Fe(),e)}fold_(e,i){const a={};return this.children.inorderTraversal((o,u)=>{a[o]=u.fold_(_t(e,o),i)}),i(e,this.value,a)}findOnPath(e,i){return this.findOnPath_(e,Fe(),i)}findOnPath_(e,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(Ae(e))return null;{const u=Re(e),d=this.children.get(u);return d?d.findOnPath_(Qe(e),_t(i,u),a):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Fe(),i)}foreachOnPath_(e,i,a){if(Ae(e))return this;{this.value&&a(i,this.value);const o=Re(e),u=this.children.get(o);return u?u.foreachOnPath_(Qe(e),_t(i,o),a):new Xe(null)}}foreach(e){this.foreach_(Fe(),e)}foreach_(e,i){this.children.inorderTraversal((a,o)=>{o.foreach_(_t(e,a),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,a)=>{a.value&&e(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.writeTree_=e}static empty(){return new bn(new Xe(null))}}function ll(s,e,i){if(Ae(e))return new bn(new Xe(i));{const a=s.writeTree_.findRootMostValueAndPath(e);if(a!=null){const o=a.path;let u=a.value;const d=un(o,e);return u=u.updateChild(d,i),new bn(s.writeTree_.set(o,u))}else{const o=new Xe(i),u=s.writeTree_.setTree(e,o);return new bn(u)}}}function qy(s,e,i){let a=s;return cn(i,(o,u)=>{a=ll(a,_t(e,o),u)}),a}function jy(s,e){if(Ae(e))return bn.empty();{const i=s.writeTree_.setTree(e,new Xe(null));return new bn(i)}}function Md(s,e){return Ds(s,e)!=null}function Ds(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(un(i.path,e)):null}function Gy(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Nt,(a,o)=>{e.push(new Oe(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&e.push(new Oe(a,o.value))}),e}function qi(s,e){if(Ae(e))return s;{const i=Ds(s,e);return i!=null?new bn(new Xe(i)):new bn(s.writeTree_.subtree(e))}}function Id(s){return s.writeTree_.isEmpty()}function Hr(s,e){return ab(Fe(),s.writeTree_,e)}function ab(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let a=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(Y(u.value!==null,"Priority writes must always be leaf nodes"),a=u.value):i=ab(_t(s,o),u,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild(_t(s,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(s,e){return db(e,s)}function rO(s,e,i,a,o){Y(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:e,snap:i,writeId:a,visible:o}),o&&(s.visibleWrites=ll(s.visibleWrites,e,i)),s.lastWriteId=a}function aO(s,e){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===e)return a}return null}function lO(s,e){const i=s.allWrites.findIndex(h=>h.writeId===e);Y(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let o=a.visible,u=!1,d=s.allWrites.length-1;for(;o&&d>=0;){const h=s.allWrites[d];h.visible&&(d>=i&&oO(h,a.path)?o=!1:vn(a.path,h.path)&&(u=!0)),d--}if(o){if(u)return uO(s),!0;if(a.snap)s.visibleWrites=jy(s.visibleWrites,a.path);else{const h=a.children;cn(h,p=>{s.visibleWrites=jy(s.visibleWrites,_t(a.path,p))})}return!0}else return!1}function oO(s,e){if(s.snap)return vn(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&vn(_t(s.path,i),e))return!0;return!1}function uO(s){s.visibleWrites=ob(s.allWrites,cO,Fe()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function cO(s){return s.visible}function ob(s,e,i){let a=bn.empty();for(let o=0;o<s.length;++o){const u=s[o];if(e(u)){const d=u.path;let h;if(u.snap)vn(i,d)?(h=un(i,d),a=ll(a,h,u.snap)):vn(d,i)&&(h=un(d,i),a=ll(a,Fe(),u.snap.getChild(h)));else if(u.children){if(vn(i,d))h=un(i,d),a=qy(a,h,u.children);else if(vn(d,i))if(h=un(d,i),Ae(h))a=qy(a,Fe(),u.children);else{const p=Ur(u.children,Re(h));if(p){const g=p.getChild(Qe(h));a=ll(a,Fe(),g)}}}else throw Br("WriteRecord should have .snap or .children")}}return a}function ub(s,e,i,a,o){if(!a&&!o){const u=Ds(s.visibleWrites,e);if(u!=null)return u;{const d=qi(s.visibleWrites,e);if(Id(d))return i;if(i==null&&!Md(d,Fe()))return null;{const h=i||xe.EMPTY_NODE;return Hr(d,h)}}}else{const u=qi(s.visibleWrites,e);if(!o&&Id(u))return i;if(!o&&i==null&&!Md(u,Fe()))return null;{const d=function(g){return(g.visible||o)&&(!a||!~a.indexOf(g.writeId))&&(vn(g.path,e)||vn(e,g.path))},h=ob(s.allWrites,d,e),p=i||xe.EMPTY_NODE;return Hr(h,p)}}}function fO(s,e,i){let a=xe.EMPTY_NODE;const o=Ds(s.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Nt,(u,d)=>{a=a.updateImmediateChild(u,d)}),a;if(i){const u=qi(s.visibleWrites,e);return i.forEachChild(Nt,(d,h)=>{const p=Hr(qi(u,new $e(d)),h);a=a.updateImmediateChild(d,p)}),Gy(u).forEach(d=>{a=a.updateImmediateChild(d.name,d.node)}),a}else{const u=qi(s.visibleWrites,e);return Gy(u).forEach(d=>{a=a.updateImmediateChild(d.name,d.node)}),a}}function dO(s,e,i,a,o){Y(a||o,"Either existingEventSnap or existingServerSnap must exist");const u=_t(e,i);if(Md(s.visibleWrites,u))return null;{const d=qi(s.visibleWrites,u);return Id(d)?o.getChild(i):Hr(d,o.getChild(i))}}function hO(s,e,i,a){const o=_t(e,i),u=Ds(s.visibleWrites,o);if(u!=null)return u;if(a.isCompleteForChild(i)){const d=qi(s.visibleWrites,o);return Hr(d,a.getNode().getImmediateChild(i))}else return null}function pO(s,e){return Ds(s.visibleWrites,e)}function mO(s,e,i,a,o,u,d){let h;const p=qi(s.visibleWrites,e),g=Ds(p,Fe());if(g!=null)h=g;else if(i!=null)h=Hr(p,i);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const y=[],v=d.getCompare(),E=u?h.getReverseIteratorFrom(a,d):h.getIteratorFrom(a,d);let z=E.getNext();for(;z&&y.length<o;)v(z,a)!==0&&y.push(z),z=E.getNext();return y}else return[]}function gO(){return{visibleWrites:bn.empty(),allWrites:[],lastWriteId:-1}}function xd(s,e,i,a){return ub(s.writeTree,s.treePath,e,i,a)}function cb(s,e){return fO(s.writeTree,s.treePath,e)}function Yy(s,e,i,a){return dO(s.writeTree,s.treePath,e,i,a)}function _u(s,e){return pO(s.writeTree,_t(s.treePath,e))}function _O(s,e,i,a,o,u){return mO(s.writeTree,s.treePath,e,i,a,o,u)}function gh(s,e,i){return hO(s.writeTree,s.treePath,e,i)}function fb(s,e){return db(_t(s.treePath,e),s.writeTree)}function db(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,a=e.childName;Y(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),Y(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(a,By(a,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(a,KR(a,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(a,YR(a,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(a,By(a,e.snapshotNode,o.oldSnap));else throw Br("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{getCompleteChild(e){return null}getChildAfterChild(e,i,a){return null}}const hb=new vO;class _h{constructor(e,i,a=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new mh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gh(this.writes_,e,a)}}getChildAfterChild(e,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Os(this.viewCache_),u=_O(this.writes_,o,i,1,a,e);return u.length===0?null:u[0]}}function bO(s,e){Y(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function EO(s,e,i,a,o){const u=new yO;let d,h;if(i.type===Mn.OVERWRITE){const g=i;g.source.fromUser?d=kd(s,e,g.path,g.snap,a,o,u):(Y(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered()&&!Ae(g.path),d=yu(s,e,g.path,g.snap,a,o,h,u))}else if(i.type===Mn.MERGE){const g=i;g.source.fromUser?d=TO(s,e,g.path,g.children,a,o,u):(Y(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered(),d=Ud(s,e,g.path,g.children,a,o,h,u))}else if(i.type===Mn.ACK_USER_WRITE){const g=i;g.revert?d=wO(s,e,g.path,a,o,u):d=AO(s,e,g.path,g.affectedTree,a,o,u)}else if(i.type===Mn.LISTEN_COMPLETE)d=CO(s,e,i.path,a,u);else throw Br("Unknown operation type: "+i.type);const p=u.getChanges();return SO(e,d,p),{viewCache:d,changes:p}}function SO(s,e,i){const a=e.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),u=Dd(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(u)||!a.getNode().getPriority().equals(u.getPriority()))&&i.push(GR(Dd(e)))}}function pb(s,e,i,a,o,u){const d=e.eventCache;if(_u(a,i)!=null)return e;{let h,p;if(Ae(i))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=Os(e),y=g instanceof xe?g:xe.EMPTY_NODE,v=cb(a,y);h=s.filter.updateFullNode(e.eventCache.getNode(),v,u)}else{const g=xd(a,Os(e));h=s.filter.updateFullNode(e.eventCache.getNode(),g,u)}else{const g=Re(i);if(g===".priority"){Y(Gi(i)===1,"Can't have a priority with additional path components");const y=d.getNode();p=e.serverCache.getNode();const v=Yy(a,i,y,p);v!=null?h=s.filter.updatePriority(y,v):h=d.getNode()}else{const y=Qe(i);let v;if(d.isCompleteForChild(g)){p=e.serverCache.getNode();const E=Yy(a,i,d.getNode(),p);E!=null?v=d.getNode().getImmediateChild(g).updateChild(y,E):v=d.getNode().getImmediateChild(g)}else v=gh(a,g,e.serverCache);v!=null?h=s.filter.updateChild(d.getNode(),g,v,y,o,u):h=d.getNode()}}return al(e,h,d.isFullyInitialized()||Ae(i),s.filter.filtersNodes())}}function yu(s,e,i,a,o,u,d,h){const p=e.serverCache;let g;const y=d?s.filter:s.filter.getIndexedFilter();if(Ae(i))g=y.updateFullNode(p.getNode(),a,null);else if(y.filtersNodes()&&!p.isFiltered()){const z=p.getNode().updateChild(i,a);g=y.updateFullNode(p.getNode(),z,null)}else{const z=Re(i);if(!p.isCompleteForPath(i)&&Gi(i)>1)return e;const H=Qe(i),J=p.getNode().getImmediateChild(z).updateChild(H,a);z===".priority"?g=y.updatePriority(p.getNode(),J):g=y.updateChild(p.getNode(),z,J,H,hb,null)}const v=rb(e,g,p.isFullyInitialized()||Ae(i),y.filtersNodes()),E=new _h(o,v,u);return pb(s,v,i,o,E,h)}function kd(s,e,i,a,o,u,d){const h=e.eventCache;let p,g;const y=new _h(o,e,u);if(Ae(i))g=s.filter.updateFullNode(e.eventCache.getNode(),a,d),p=al(e,g,!0,s.filter.filtersNodes());else{const v=Re(i);if(v===".priority")g=s.filter.updatePriority(e.eventCache.getNode(),a),p=al(e,g,h.isFullyInitialized(),h.isFiltered());else{const E=Qe(i),z=h.getNode().getImmediateChild(v);let H;if(Ae(E))H=a;else{const K=y.getCompleteChild(v);K!=null?j0(E)===".priority"&&K.getChild(Y0(E)).isEmpty()?H=K:H=K.updateChild(E,a):H=xe.EMPTY_NODE}if(z.equals(H))p=e;else{const K=s.filter.updateChild(h.getNode(),v,H,E,y,d);p=al(e,K,h.isFullyInitialized(),s.filter.filtersNodes())}}}return p}function Ky(s,e){return s.eventCache.isCompleteForChild(e)}function TO(s,e,i,a,o,u,d){let h=e;return a.foreach((p,g)=>{const y=_t(i,p);Ky(e,Re(y))&&(h=kd(s,h,y,g,o,u,d))}),a.foreach((p,g)=>{const y=_t(i,p);Ky(e,Re(y))||(h=kd(s,h,y,g,o,u,d))}),h}function Xy(s,e,i){return i.foreach((a,o)=>{e=e.updateChild(a,o)}),e}function Ud(s,e,i,a,o,u,d,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,g;Ae(i)?g=a:g=new Xe(null).setTree(i,a);const y=e.serverCache.getNode();return g.children.inorderTraversal((v,E)=>{if(y.hasChild(v)){const z=e.serverCache.getNode().getImmediateChild(v),H=Xy(s,z,E);p=yu(s,p,new $e(v),H,o,u,d,h)}}),g.children.inorderTraversal((v,E)=>{const z=!e.serverCache.isCompleteForChild(v)&&E.value===null;if(!y.hasChild(v)&&!z){const H=e.serverCache.getNode().getImmediateChild(v),K=Xy(s,H,E);p=yu(s,p,new $e(v),K,o,u,d,h)}}),p}function AO(s,e,i,a,o,u,d){if(_u(o,i)!=null)return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(a.value!=null){if(Ae(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return yu(s,e,i,p.getNode().getChild(i),o,u,h,d);if(Ae(i)){let g=new Xe(null);return p.getNode().forEachChild(kr,(y,v)=>{g=g.set(new $e(y),v)}),Ud(s,e,i,g,o,u,h,d)}else return e}else{let g=new Xe(null);return a.foreach((y,v)=>{const E=_t(i,y);p.isCompleteForPath(E)&&(g=g.set(y,p.getNode().getChild(E)))}),Ud(s,e,i,g,o,u,h,d)}}function CO(s,e,i,a,o){const u=e.serverCache,d=rb(e,u.getNode(),u.isFullyInitialized()||Ae(i),u.isFiltered());return pb(s,d,i,a,hb,o)}function wO(s,e,i,a,o,u){let d;if(_u(a,i)!=null)return e;{const h=new _h(a,e,o),p=e.eventCache.getNode();let g;if(Ae(i)||Re(i)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=xd(a,Os(e));else{const v=e.serverCache.getNode();Y(v instanceof xe,"serverChildren would be complete if leaf node"),y=cb(a,v)}y=y,g=s.filter.updateFullNode(p,y,u)}else{const y=Re(i);let v=gh(a,y,e.serverCache);v==null&&e.serverCache.isCompleteForChild(y)&&(v=p.getImmediateChild(y)),v!=null?g=s.filter.updateChild(p,y,v,Qe(i),h,u):e.eventCache.getNode().hasChild(y)?g=s.filter.updateChild(p,y,xe.EMPTY_NODE,Qe(i),h,u):g=p,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=xd(a,Os(e)),d.isLeafNode()&&(g=s.filter.updateFullNode(g,d,u)))}return d=e.serverCache.isFullyInitialized()||_u(a,Fe())!=null,al(e,g,d,s.filter.filtersNodes())}}function RO(s,e){const i=Os(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!Ae(e)&&!i.getImmediateChild(Re(e)).isEmpty())?i.getChild(e):null}function Qy(s,e,i,a){e.type===Mn.MERGE&&e.source.queryId!==null&&(Y(Os(s.viewCache_),"We should always have a full cache before handling merges"),Y(Dd(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=EO(s.processor_,o,e,i,a);return bO(s.processor_,u.viewCache),Y(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,OO(s,u.changes,u.viewCache.eventCache.getNode())}function OO(s,e,i,a){const o=s.eventRegistrations_;return tO(s.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $y;function NO(s){Y(!$y,"__referenceConstructor has already been defined"),$y=s}function yh(s,e,i,a){const o=e.source.queryId;if(o!==null){const u=s.views.get(o);return Y(u!=null,"SyncTree gave us an op for an invalid query."),Qy(u,e,i,a)}else{let u=[];for(const d of s.views.values())u=u.concat(Qy(d,e,i,a));return u}}function vh(s,e){let i=null;for(const a of s.views.values())i=i||RO(a,e);return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zy;function DO(s){Y(!Zy,"__referenceConstructor has already been defined"),Zy=s}class Wy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Xe(null),this.pendingWriteTree_=gO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function MO(s,e,i,a,o){return rO(s.pendingWriteTree_,e,i,a,o),o?Ou(s,new Rs(tb(),e,i)):[]}function Or(s,e,i=!1){const a=aO(s.pendingWriteTree_,e);if(lO(s.pendingWriteTree_,e)){let u=new Xe(null);return a.snap!=null?u=u.set(Fe(),!0):cn(a.children,d=>{u=u.set(new $e(d),!0)}),Ou(s,new gu(a.path,u,i))}else return[]}function Ru(s,e,i){return Ou(s,new Rs(nb(),e,i))}function IO(s,e,i){const a=Xe.fromObject(i);return Ou(s,new hl(nb(),e,a))}function xO(s,e,i,a){const o=yb(s,a);if(o!=null){const u=vb(o),d=u.path,h=u.queryId,p=un(d,e),g=new Rs(ib(h),p,i);return bb(s,d,g)}else return[]}function kO(s,e,i,a){const o=yb(s,a);if(o){const u=vb(o),d=u.path,h=u.queryId,p=un(d,e),g=Xe.fromObject(i),y=new hl(ib(h),p,g);return bb(s,d,y)}else return[]}function mb(s,e,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(e,(d,h)=>{const p=un(d,e),g=vh(h,p);if(g)return g});return ub(o,e,u,i,!0)}function Ou(s,e){return gb(e,s.syncPointTree_,null,lb(s.pendingWriteTree_,Fe()))}function gb(s,e,i,a){if(Ae(s.path))return _b(s,e,i,a);{const o=e.get(Fe());i==null&&o!=null&&(i=vh(o,Fe()));let u=[];const d=Re(s.path),h=s.operationForChild(d),p=e.children.get(d);if(p&&h){const g=i?i.getImmediateChild(d):null,y=fb(a,d);u=u.concat(gb(h,p,g,y))}return o&&(u=u.concat(yh(o,s,a,i))),u}}function _b(s,e,i,a){const o=e.get(Fe());i==null&&o!=null&&(i=vh(o,Fe()));let u=[];return e.children.inorderTraversal((d,h)=>{const p=i?i.getImmediateChild(d):null,g=fb(a,d),y=s.operationForChild(d);y&&(u=u.concat(_b(y,h,p,g)))}),o&&(u=u.concat(yh(o,s,a,i))),u}function yb(s,e){return s.tagToQueryMap.get(e)}function vb(s){const e=s.indexOf("$");return Y(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new $e(s.substr(0,e))}}function bb(s,e,i){const a=s.syncPointTree_.get(e);Y(a,"Missing sync point for query tag that we're tracking");const o=lb(s.pendingWriteTree_,e);return yh(a,i,o,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new bh(i)}node(){return this.node_}}class Eh{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=_t(this.path_,e);return new Eh(this.syncTree_,i)}node(){return mb(this.syncTree_,this.path_)}}const UO=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Jy=function(s,e,i){if(!s||typeof s!="object")return s;if(Y(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return LO(s[".sv"],e,i);if(typeof s[".sv"]=="object")return zO(s[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},LO=function(s,e,i){switch(s){case"timestamp":return i.timestamp;default:Y(!1,"Unexpected server value: "+s)}},zO=function(s,e,i){s.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&Y(!1,"Unexpected increment value: "+a);const o=e.node();if(Y(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const d=o.getValue();return typeof d!="number"?a:d+a},HO=function(s,e,i,a){return Sh(e,new Eh(i,s),a)},BO=function(s,e,i){return Sh(s,new bh(e),i)};function Sh(s,e,i){const a=s.getPriority().val(),o=Jy(a,e.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const d=s,h=Jy(d.getValue(),e,i);return h!==d.getValue()||o!==d.getPriority().val()?new mt(h,Ot(o)):s}else{const d=s;return u=d,o!==d.getPriority().val()&&(u=u.updatePriority(new mt(o))),d.forEachChild(Nt,(h,p)=>{const g=Sh(p,e.getImmediateChild(h),i);g!==p&&(u=u.updateImmediateChild(h,g))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e="",i=null,a={children:{},childCount:0}){this.name=e,this.parent=i,this.node=a}}function Ah(s,e){let i=e instanceof $e?e:new $e(e),a=s,o=Re(i);for(;o!==null;){const u=Ur(a.node.children,o)||{children:{},childCount:0};a=new Th(o,a,u),i=Qe(i),o=Re(i)}return a}function Gr(s){return s.node.value}function Eb(s,e){s.node.value=e,Ld(s)}function Sb(s){return s.node.childCount>0}function VO(s){return Gr(s)===void 0&&!Sb(s)}function Nu(s,e){cn(s.node.children,(i,a)=>{e(new Th(i,s,a))})}function Tb(s,e,i,a){i&&e(s),Nu(s,o=>{Tb(o,e,!0)})}function PO(s,e,i){let a=s.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function Cl(s){return new $e(s.parent===null?s.name:Cl(s.parent)+"/"+s.name)}function Ld(s){s.parent!==null&&FO(s.parent,s.name,s)}function FO(s,e,i){const a=VO(i),o=li(s.node.children,e);a&&o?(delete s.node.children[e],s.node.childCount--,Ld(s)):!a&&!o&&(s.node.children[e]=i.node,s.node.childCount++,Ld(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=/[\[\].#$\/\u0000-\u001F\u007F]/,jO=/[\[\].#$\u0000-\u001F\u007F]/,cd=10*1024*1024,Ab=function(s){return typeof s=="string"&&s.length!==0&&!qO.test(s)},GO=function(s){return typeof s=="string"&&s.length!==0&&!jO.test(s)},YO=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),GO(s)},Cb=function(s,e,i){const a=i instanceof $e?new CR(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+gs(a));if(typeof e=="function")throw new Error(s+"contains a function "+gs(a)+" with contents = "+e.toString());if(T0(e))throw new Error(s+"contains "+e.toString()+" "+gs(a));if(typeof e=="string"&&e.length>cd/3&&Su(e)>cd)throw new Error(s+"contains a string greater than "+cd+" utf8 bytes "+gs(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(cn(e,(d,h)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(u=!0,!Ab(d)))throw new Error(s+" contains an invalid key ("+d+") "+gs(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);wR(a,d),Cb(s,h,a),RR(a)}),o&&u)throw new Error(s+' contains ".value" child '+gs(a)+" in addition to actual children.")}},KO=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Ab(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!YO(i))throw new Error(f1(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function QO(s,e){let i=null;for(let a=0;a<e.length;a++){const o=e[a],u=o.getPath();i!==null&&!K0(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function Ms(s,e,i){QO(s,i),$O(s,a=>vn(a,e)||vn(e,a))}function $O(s,e){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const u=o.path;e(u)?(ZO(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function ZO(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const a=i.getEventRunner();sl&&Rt("event: "+i.toString()),Tl(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="repo_interrupt",JO=25;class eN{constructor(e,i,a,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new XO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mu(),this.transactionQueueTree_=new Th,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function tN(s,e,i){if(s.stats_=ch(s.repoInfo_),s.forceRestClient_||$w())s.server_=new pu(s.repoInfo_,(a,o,u,d)=>{ev(s,a,o,u,d)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>tv(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{St(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new ii(s.repoInfo_,e,(a,o,u,d)=>{ev(s,a,o,u,d)},a=>{tv(s,a)},a=>{iN(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=tR(s.repoInfo_,()=>new eO(s.stats_,s.server_)),s.infoData_=new QR,s.infoSyncTree_=new Wy({startListening:(a,o,u,d)=>{let h=[];const p=s.infoData_.getNode(a._path);return p.isEmpty()||(h=Ru(s.infoSyncTree_,a._path,p),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),Ch(s,"connected",!1),s.serverSyncTree_=new Wy({startListening:(a,o,u,d)=>(s.server_.listen(a,u,o,(h,p)=>{const g=d(h,p);Ms(s.eventQueue_,a._path,g)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function nN(s){const i=s.infoData_.getNode(new $e(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function wb(s){return UO({timestamp:nN(s)})}function ev(s,e,i,a,o){s.dataUpdateCount++;const u=new $e(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let d=[];if(o)if(a){const p=iu(i,g=>Ot(g));d=kO(s.serverSyncTree_,u,p,o)}else{const p=Ot(i);d=xO(s.serverSyncTree_,u,p,o)}else if(a){const p=iu(i,g=>Ot(g));d=IO(s.serverSyncTree_,u,p)}else{const p=Ot(i);d=Ru(s.serverSyncTree_,u,p)}let h=u;d.length>0&&(h=Rh(s,u)),Ms(s.eventQueue_,h,d)}function tv(s,e){Ch(s,"connected",e),e===!1&&rN(s)}function iN(s,e){cn(e,(i,a)=>{Ch(s,i,a)})}function Ch(s,e,i){const a=new $e("/.info/"+e),o=Ot(i);s.infoData_.updateSnapshot(a,o);const u=Ru(s.infoSyncTree_,a,o);Ms(s.eventQueue_,a,u)}function sN(s){return s.nextWriteId_++}function rN(s){Rb(s,"onDisconnectEvents");const e=wb(s),i=mu();Nd(s.onDisconnect_,Fe(),(o,u)=>{const d=HO(o,u,s.serverSyncTree_,e);eb(i,o,d)});let a=[];Nd(i,Fe(),(o,u)=>{a=a.concat(Ru(s.serverSyncTree_,o,u));const d=uN(s,o);Rh(s,d)}),s.onDisconnect_=mu(),Ms(s.eventQueue_,Fe(),a)}function aN(s){s.persistentConnection_&&s.persistentConnection_.interrupt(WO)}function Rb(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),Rt(i,...e)}function Ob(s,e,i){return mb(s.serverSyncTree_,e,i)||xe.EMPTY_NODE}function wh(s,e=s.transactionQueueTree_){if(e||Du(s,e),Gr(e)){const i=Db(s,e);Y(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&lN(s,Cl(e),i)}else Sb(e)&&Nu(e,i=>{wh(s,i)})}function lN(s,e,i){const a=i.map(g=>g.currentWriteId),o=Ob(s,e,a);let u=o;const d=o.hash();for(let g=0;g<i.length;g++){const y=i[g];Y(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=un(e,y.path);u=u.updateChild(v,y.currentOutputSnapshotRaw)}const h=u.val(!0),p=e;s.server_.put(p.toString(),h,g=>{Rb(s,"transaction put response",{path:p.toString(),status:g});let y=[];if(g==="ok"){const v=[];for(let E=0;E<i.length;E++)i[E].status=2,y=y.concat(Or(s.serverSyncTree_,i[E].currentWriteId)),i[E].onComplete&&v.push(()=>i[E].onComplete(null,!0,i[E].currentOutputSnapshotResolved)),i[E].unwatcher();Du(s,Ah(s.transactionQueueTree_,e)),wh(s,s.transactionQueueTree_),Ms(s.eventQueue_,e,y);for(let E=0;E<v.length;E++)Tl(v[E])}else{if(g==="datastale")for(let v=0;v<i.length;v++)i[v].status===3?i[v].status=4:i[v].status=0;else{Qt("transaction at "+p.toString()+" failed: "+g);for(let v=0;v<i.length;v++)i[v].status=4,i[v].abortReason=g}Rh(s,e)}},d)}function Rh(s,e){const i=Nb(s,e),a=Cl(i),o=Db(s,i);return oN(s,o,a),a}function oN(s,e,i){if(e.length===0)return;const a=[];let o=[];const d=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],g=un(i,p.path);let y=!1,v;if(Y(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,v=p.abortReason,o=o.concat(Or(s.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=JO)y=!0,v="maxretry",o=o.concat(Or(s.serverSyncTree_,p.currentWriteId,!0));else{const E=Ob(s,p.path,d);p.currentInputSnapshot=E;const z=e[h].update(E.val());if(z!==void 0){Cb("transaction failed: Data returned ",z,p.path);let H=Ot(z);typeof z=="object"&&z!=null&&li(z,".priority")||(H=H.updatePriority(E.getPriority()));const J=p.currentWriteId,q=wb(s),V=BO(H,E,q);p.currentOutputSnapshotRaw=H,p.currentOutputSnapshotResolved=V,p.currentWriteId=sN(s),d.splice(d.indexOf(J),1),o=o.concat(MO(s.serverSyncTree_,p.path,V,p.currentWriteId,p.applyLocally)),o=o.concat(Or(s.serverSyncTree_,J,!0))}else y=!0,v="nodata",o=o.concat(Or(s.serverSyncTree_,p.currentWriteId,!0))}Ms(s.eventQueue_,i,o),o=[],y&&(e[h].status=2,function(E){setTimeout(E,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(v==="nodata"?a.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):a.push(()=>e[h].onComplete(new Error(v),!1,null))))}Du(s,s.transactionQueueTree_);for(let h=0;h<a.length;h++)Tl(a[h]);wh(s,s.transactionQueueTree_)}function Nb(s,e){let i,a=s.transactionQueueTree_;for(i=Re(e);i!==null&&Gr(a)===void 0;)a=Ah(a,i),e=Qe(e),i=Re(e);return a}function Db(s,e){const i=[];return Mb(s,e,i),i.sort((a,o)=>a.order-o.order),i}function Mb(s,e,i){const a=Gr(e);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);Nu(e,o=>{Mb(s,o,i)})}function Du(s,e){const i=Gr(e);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,Eb(e,i.length>0?i:void 0)}Nu(e,a=>{Du(s,a)})}function uN(s,e){const i=Cl(Nb(s,e)),a=Ah(s.transactionQueueTree_,e);return PO(a,o=>{fd(s,o)}),fd(s,a),Tb(a,o=>{fd(s,o)}),i}function fd(s,e){const i=Gr(e);if(i){const a=[];let o=[],u=-1;for(let d=0;d<i.length;d++)i[d].status===3||(i[d].status===1?(Y(u===d-1,"All SENT items should be at beginning of queue."),u=d,i[d].status=3,i[d].abortReason="set"):(Y(i[d].status===0,"Unexpected transaction status in abort"),i[d].unwatcher(),o=o.concat(Or(s.serverSyncTree_,i[d].currentWriteId,!0)),i[d].onComplete&&a.push(i[d].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Eb(e,void 0):i.length=u+1,Ms(s.eventQueue_,Cl(e),o);for(let d=0;d<a.length;d++)Tl(a[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(s){let e="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function fN(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Qt(`Invalid query segment '${i}' in query '${s}'`)}return e}const nv=function(s,e){const i=dN(s),a=i.namespace;i.domain==="firebase.com"&&ai(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&ai("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||Fw();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new U0(i.host,i.secure,a,o,e,"",a!==i.subdomain),path:new $e(i.pathString)}},dN=function(s){let e="",i="",a="",o="",u="",d=!0,h="https",p=443;if(typeof s=="string"){let g=s.indexOf("//");g>=0&&(h=s.substring(0,g-1),s=s.substring(g+2));let y=s.indexOf("/");y===-1&&(y=s.length);let v=s.indexOf("?");v===-1&&(v=s.length),e=s.substring(0,Math.min(y,v)),y<v&&(o=cN(s.substring(y,v)));const E=fN(s.substring(Math.min(s.length,v)));g=e.indexOf(":"),g>=0?(d=h==="https"||h==="wss",p=parseInt(e.substring(g+1),10)):g=e.length;const z=e.slice(0,g);if(z.toLowerCase()==="localhost")i="localhost";else if(z.split(".").length<=2)i=z;else{const H=e.indexOf(".");a=e.substring(0,H).toLowerCase(),i=e.substring(H+1),u=a}"ns"in E&&(u=E.ns)}return{host:e,port:p,domain:i,subdomain:a,secure:d,scheme:h,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,i,a,o){this._repo=e,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return Ae(this._path)?null:j0(this._path)}get ref(){return new Yr(this._repo,this._path)}get _queryIdentifier(){const e=Py(this._queryParams),i=oh(e);return i==="{}"?"default":i}get _queryObject(){return Py(this._queryParams)}isEqual(e){if(e=oi(e),!(e instanceof Oh))return!1;const i=this._repo===e._repo,a=K0(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+AR(this._path)}}class Yr extends Oh{constructor(e,i){super(e,i,new ph,!1)}get parent(){const e=Y0(this._path);return e===null?null:new Yr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}NO(Yr);DO(Yr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="FIREBASE_DATABASE_EMULATOR_HOST",zd={};let pN=!1;function mN(s,e,i,a){const o=e.lastIndexOf(":"),u=e.substring(0,o),d=Vr(u);s.repoInfo_=new U0(e,d,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(s.authTokenProvider_=a)}function gN(s,e,i,a,o){let u=a||s.options.databaseURL;u===void 0&&(s.options.projectId||ai("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Rt("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let d=nv(u,o),h=d.repoInfo,p;typeof process<"u"&&Sy&&(p=Sy[hN]),p?(u=`http://${p}?ns=${h.namespace}`,d=nv(u,o),h=d.repoInfo):d.repoInfo.secure;const g=new Ww(s.name,s.options,e);KO("Invalid Firebase Database URL",d),Ae(d.path)||ai("Database URL must point to the root of a Firebase Database (not including a child path).");const y=yN(h,s,g,new Zw(s,i));return new vN(y,s)}function _N(s,e){const i=zd[e];(!i||i[s.key]!==s)&&ai(`Database ${e}(${s.repoInfo_}) has already been deleted.`),aN(s),delete i[s.key]}function yN(s,e,i,a){let o=zd[e.name];o||(o={},zd[e.name]=o);let u=o[s.toURLString()];return u&&ai("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new eN(s,pN,i,a),o[s.toURLString()]=u,u}class vN{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(tN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yr(this._repo,Fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_N(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ai("Cannot call "+e+" on a deleted database.")}}function bN(s=zv(),e){const i=Wd(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const a=YT("database");a&&EN(i,...a)}return i}function EN(s,e,i,a={}){s=oi(s),s._checkNotDeleted("useEmulator");const o=`${e}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&Ss(a,u.repoInfo_.emulatorOptions))return;ai("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(u.repoInfo_.nodeAdmin)a.mockUserToken&&ai('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Qo(Qo.OWNER);else if(a.mockUserToken){const h=typeof a.mockUserToken=="string"?a.mockUserToken:KT(a.mockUserToken,s.app.options.projectId);d=new Qo(h)}Vr(e)&&(Dv(e),Mv("Database",!0)),mN(u,o,a,d)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(s){Lw(Fr),Lr(new Ts("database",(e,{instanceIdentifier:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return gN(a,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Fi(Ty,Ay,s),Fi(Ty,Ay,"esm2017")}ii.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};ii.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};SN();const TN={apiKey:"AIzaSyB5JeN7uC2HYiGrw6HCpnZJVxMtjp6U0aw",authDomain:"psychologist-app-aa93b.firebaseapp.com",databaseURL:"https://psychologist-app-aa93b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"psychologist-app-aa93b",storageBucket:"psychologist-app-aa93b.firebasestorage.app",messagingSenderId:"991792717341",appId:"1:991792717341:web:31677887fa00689f2cb0f4"},Ib=Lv(TN),xb=Iw(Ib);bN(Ib);var dd,iv;function AN(){if(iv)return dd;iv=1;function s(q){this._maxSize=q,this.clear()}s.prototype.clear=function(){this._size=0,this._values=Object.create(null)},s.prototype.get=function(q){return this._values[q]},s.prototype.set=function(q,V){return this._size>=this._maxSize&&this.clear(),q in this._values||this._size++,this._values[q]=V};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,i=/^\d+$/,a=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,u=/^\s*(['"]?)(.*?)(\1)\s*$/,d=512,h=new s(d),p=new s(d),g=new s(d);dd={Cache:s,split:v,normalizePath:y,setter:function(q){var V=y(q);return p.get(q)||p.set(q,function(pe,j){for(var de=0,be=V.length,Le=pe;de<be-1;){var Ee=V[de];if(Ee==="__proto__"||Ee==="constructor"||Ee==="prototype")return pe;Le=Le[V[de++]]}Le[V[de]]=j})},getter:function(q,V){var ne=y(q);return g.get(q)||g.set(q,function(j){for(var de=0,be=ne.length;de<be;)if(j!=null||!V)j=j[ne[de++]];else return;return j})},join:function(q){return q.reduce(function(V,ne){return V+(z(ne)||i.test(ne)?"["+ne+"]":(V?".":"")+ne)},"")},forEach:function(q,V,ne){E(Array.isArray(q)?q:v(q),V,ne)}};function y(q){return h.get(q)||h.set(q,v(q).map(function(V){return V.replace(u,"$2")}))}function v(q){return q.match(e)||[""]}function E(q,V,ne){var pe=q.length,j,de,be,Le;for(de=0;de<pe;de++)j=q[de],j&&(J(j)&&(j='"'+j+'"'),Le=z(j),be=!Le&&/^\d+$/.test(j),V.call(ne,j,Le,be,de,q))}function z(q){return typeof q=="string"&&q&&["'",'"'].indexOf(q.charAt(0))!==-1}function H(q){return q.match(a)&&!q.match(i)}function K(q){return o.test(q)}function J(q){return!z(q)&&(H(q)||K(q))}return dd}var bs=AN(),hd,sv;function CN(){if(sv)return hd;sv=1;const s=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=y=>y.match(s)||[],i=y=>y[0].toUpperCase()+y.slice(1),a=(y,v)=>e(y).join(v).toLowerCase(),o=y=>e(y).reduce((v,E)=>`${v}${v?E[0].toUpperCase()+E.slice(1).toLowerCase():E.toLowerCase()}`,"");return hd={words:e,upperFirst:i,camelCase:o,pascalCase:y=>i(o(y)),snakeCase:y=>a(y,"_"),kebabCase:y=>a(y,"-"),sentenceCase:y=>i(a(y," ")),titleCase:y=>e(y).map(i).join(" ")},hd}var pd=CN(),Fo={exports:{}},rv;function wN(){if(rv)return Fo.exports;rv=1,Fo.exports=function(o){return s(e(o),o)},Fo.exports.array=s;function s(o,u){var d=o.length,h=new Array(d),p={},g=d,y=i(u),v=a(o);for(u.forEach(function(z){if(!v.has(z[0])||!v.has(z[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});g--;)p[g]||E(o[g],g,new Set);return h;function E(z,H,K){if(K.has(z)){var J;try{J=", node was:"+JSON.stringify(z)}catch{J=""}throw new Error("Cyclic dependency"+J)}if(!v.has(z))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(z));if(!p[H]){p[H]=!0;var q=y.get(z)||new Set;if(q=Array.from(q),H=q.length){K.add(z);do{var V=q[--H];E(V,v.get(V),K)}while(H);K.delete(z)}h[--d]=z}}}function e(o){for(var u=new Set,d=0,h=o.length;d<h;d++){var p=o[d];u.add(p[0]),u.add(p[1])}return Array.from(u)}function i(o){for(var u=new Map,d=0,h=o.length;d<h;d++){var p=o[d];u.has(p[0])||u.set(p[0],new Set),u.has(p[1])||u.set(p[1],new Set),u.get(p[0]).add(p[1])}return u}function a(o){for(var u=new Map,d=0,h=o.length;d<h;d++)u.set(o[d],d);return u}return Fo.exports}var RN=wN();const ON=fv(RN),NN=Object.prototype.toString,DN=Error.prototype.toString,MN=RegExp.prototype.toString,IN=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",xN=/^Symbol\((.*)\)(.*)$/;function kN(s){return s!=+s?"NaN":s===0&&1/s<0?"-0":""+s}function av(s,e=!1){if(s==null||s===!0||s===!1)return""+s;const i=typeof s;if(i==="number")return kN(s);if(i==="string")return e?`"${s}"`:s;if(i==="function")return"[Function "+(s.name||"anonymous")+"]";if(i==="symbol")return IN.call(s).replace(xN,"Symbol($1)");const a=NN.call(s).slice(8,-1);return a==="Date"?isNaN(s.getTime())?""+s:s.toISOString(s):a==="Error"||s instanceof Error?"["+DN.call(s)+"]":a==="RegExp"?MN.call(s):null}function ji(s,e){let i=av(s,e);return i!==null?i:JSON.stringify(s,function(a,o){let u=av(this[a],e);return u!==null?u:o},2)}function kb(s){return s==null?[]:[].concat(s)}let Ub,Lb,zb,UN=/\$\{\s*(\w+)\s*\}/g;Ub=Symbol.toStringTag;class lv{constructor(e,i,a,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Ub]="Error",this.name="ValidationError",this.value=i,this.path=a,this.type=o,this.errors=[],this.inner=[],kb(e).forEach(u=>{if(Vt.isError(u)){this.errors.push(...u.errors);const d=u.inner.length?u.inner:[u];this.inner.push(...d)}else this.errors.push(u)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Lb=Symbol.hasInstance;zb=Symbol.toStringTag;class Vt extends Error{static formatError(e,i){const a=i.label||i.path||"this";return i=Object.assign({},i,{path:a,originalPath:i.path}),typeof e=="string"?e.replace(UN,(o,u)=>ji(i[u])):typeof e=="function"?e(i):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,i,a,o,u){const d=new lv(e,i,a,o);if(u)return d;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[zb]="Error",this.name=d.name,this.message=d.message,this.type=d.type,this.value=d.value,this.path=d.path,this.errors=d.errors,this.inner=d.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Vt)}static[Lb](e){return lv[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Nn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:s,type:e,value:i,originalValue:a})=>{const o=a!=null&&a!==i?` (cast from the value \`${ji(a,!0)}\`).`:".";return e!=="mixed"?`${s} must be a \`${e}\` type, but the final value was: \`${ji(i,!0)}\``+o:`${s} must match the configured type. The validated value was: \`${ji(i,!0)}\``+o}},Ht={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},LN={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Hd={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},zN={isValue:"${path} field must be ${value}"},$o={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},HN={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},BN={notType:s=>{const{path:e,value:i,spec:a}=s,o=a.types.length;if(Array.isArray(i)){if(i.length<o)return`${e} tuple value has too few items, expected a length of ${o} but got ${i.length} for value: \`${ji(i,!0)}\``;if(i.length>o)return`${e} tuple value has too many items, expected a length of ${o} but got ${i.length} for value: \`${ji(i,!0)}\``}return Vt.formatError(Nn.notType,s)}};Object.assign(Object.create(null),{mixed:Nn,string:Ht,number:LN,date:Hd,object:$o,array:HN,boolean:zN,tuple:BN});const Nh=s=>s&&s.__isYupSchema__;class vu{static fromOptions(e,i){if(!i.then&&!i.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:a,then:o,otherwise:u}=i,d=typeof a=="function"?a:(...h)=>h.every(p=>p===a);return new vu(e,(h,p)=>{var g;let y=d(...h)?o:u;return(g=y?.(p))!=null?g:p})}constructor(e,i){this.fn=void 0,this.refs=e,this.refs=e,this.fn=i}resolve(e,i){let a=this.refs.map(u=>u.getValue(i?.value,i?.parent,i?.context)),o=this.fn(a,e,i);if(o===void 0||o===e)return e;if(!Nh(o))throw new TypeError("conditions must return a schema object");return o.resolve(i)}}const qo={context:"$",value:"."};class Is{constructor(e,i={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===qo.context,this.isValue=this.key[0]===qo.value,this.isSibling=!this.isContext&&!this.isValue;let a=this.isContext?qo.context:this.isValue?qo.value:"";this.path=this.key.slice(a.length),this.getter=this.path&&bs.getter(this.path,!0),this.map=i.map}getValue(e,i,a){let o=this.isContext?a:this.isValue?e:i;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(e,i){return this.getValue(e,i?.parent,i?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Is.prototype.__isYupRef=!0;const vs=s=>s==null;function Cr(s){function e({value:i,path:a="",options:o,originalValue:u,schema:d},h,p){const{name:g,test:y,params:v,message:E,skipAbsent:z}=s;let{parent:H,context:K,abortEarly:J=d.spec.abortEarly,disableStackTrace:q=d.spec.disableStackTrace}=o;function V(he){return Is.isRef(he)?he.getValue(i,H,K):he}function ne(he={}){const ee=Object.assign({value:i,originalValue:u,label:d.spec.label,path:he.path||a,spec:d.spec,disableStackTrace:he.disableStackTrace||q},v,he.params);for(const Ne of Object.keys(ee))ee[Ne]=V(ee[Ne]);const me=new Vt(Vt.formatError(he.message||E,ee),i,ee.path,he.type||g,ee.disableStackTrace);return me.params=ee,me}const pe=J?h:p;let j={path:a,parent:H,type:g,from:o.from,createError:ne,resolve:V,options:o,originalValue:u,schema:d};const de=he=>{Vt.isError(he)?pe(he):he?p(null):pe(ne())},be=he=>{Vt.isError(he)?pe(he):h(he)};if(z&&vs(i))return de(!0);let Ee;try{var lt;if(Ee=y.call(j,i,j),typeof((lt=Ee)==null?void 0:lt.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${j.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(Ee).then(de,be)}}catch(he){be(he);return}de(Ee)}return e.OPTIONS=s,e}function VN(s,e,i,a=i){let o,u,d;return e?(bs.forEach(e,(h,p,g)=>{let y=p?h.slice(1,h.length-1):h;s=s.resolve({context:a,parent:o,value:i});let v=s.type==="tuple",E=g?parseInt(y,10):0;if(s.innerType||v){if(v&&!g)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${d}" must contain an index to the tuple element, e.g. "${d}[0]"`);if(i&&E>=i.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${h}, in the path: ${e}. because there is no value at that index. `);o=i,i=i&&i[E],s=v?s.spec.types[E]:s.innerType}if(!g){if(!s.fields||!s.fields[y])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${d} which is a type: "${s.type}")`);o=i,i=i&&i[y],s=s.fields[y]}u=y,d=p?"["+h+"]":"."+h}),{schema:s,parent:o,parentPath:u}):{parent:o,parentPath:e,schema:s}}class bu extends Set{describe(){const e=[];for(const i of this.values())e.push(Is.isRef(i)?i.describe():i);return e}resolveAll(e){let i=[];for(const a of this.values())i.push(e(a));return i}clone(){return new bu(this.values())}merge(e,i){const a=this.clone();return e.forEach(o=>a.add(o)),i.forEach(o=>a.delete(o)),a}}function Nr(s,e=new Map){if(Nh(s)||!s||typeof s!="object")return s;if(e.has(s))return e.get(s);let i;if(s instanceof Date)i=new Date(s.getTime()),e.set(s,i);else if(s instanceof RegExp)i=new RegExp(s),e.set(s,i);else if(Array.isArray(s)){i=new Array(s.length),e.set(s,i);for(let a=0;a<s.length;a++)i[a]=Nr(s[a],e)}else if(s instanceof Map){i=new Map,e.set(s,i);for(const[a,o]of s.entries())i.set(a,Nr(o,e))}else if(s instanceof Set){i=new Set,e.set(s,i);for(const a of s)i.add(Nr(a,e))}else if(s instanceof Object){i={},e.set(s,i);for(const[a,o]of Object.entries(s))i[a]=Nr(o,e)}else throw Error(`Unable to clone ${s}`);return i}class kn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new bu,this._blacklist=new bu,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Nn.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(i=>{i.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const i=Object.create(Object.getPrototypeOf(this));return i.type=this.type,i._typeCheck=this._typeCheck,i._whitelist=this._whitelist.clone(),i._blacklist=this._blacklist.clone(),i.internalTests=Object.assign({},this.internalTests),i.exclusiveTests=Object.assign({},this.exclusiveTests),i.deps=[...this.deps],i.conditions=[...this.conditions],i.tests=[...this.tests],i.transforms=[...this.transforms],i.spec=Nr(Object.assign({},this.spec,e)),i}label(e){let i=this.clone();return i.spec.label=e,i}meta(...e){if(e.length===0)return this.spec.meta;let i=this.clone();return i.spec.meta=Object.assign(i.spec.meta||{},e[0]),i}withMutation(e){let i=this._mutate;this._mutate=!0;let a=e(this);return this._mutate=i,a}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let i=this,a=e.clone();const o=Object.assign({},i.spec,a.spec);return a.spec=o,a.internalTests=Object.assign({},i.internalTests,a.internalTests),a._whitelist=i._whitelist.merge(e._whitelist,e._blacklist),a._blacklist=i._blacklist.merge(e._blacklist,e._whitelist),a.tests=i.tests,a.exclusiveTests=i.exclusiveTests,a.withMutation(u=>{e.tests.forEach(d=>{u.test(d.OPTIONS)})}),a.transforms=[...i.transforms,...a.transforms],a}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let i=this;if(i.conditions.length){let a=i.conditions;i=i.clone(),i.conditions=[],i=a.reduce((o,u)=>u.resolve(o,e),i),i=i.resolve(e)}return i}resolveOptions(e){var i,a,o,u;return Object.assign({},e,{from:e.from||[],strict:(i=e.strict)!=null?i:this.spec.strict,abortEarly:(a=e.abortEarly)!=null?a:this.spec.abortEarly,recursive:(o=e.recursive)!=null?o:this.spec.recursive,disableStackTrace:(u=e.disableStackTrace)!=null?u:this.spec.disableStackTrace})}cast(e,i={}){let a=this.resolve(Object.assign({value:e},i)),o=i.assert==="ignore-optionality",u=a._cast(e,i);if(i.assert!==!1&&!a.isType(u)){if(o&&vs(u))return u;let d=ji(e),h=ji(u);throw new TypeError(`The value of ${i.path||"field"} could not be cast to a value that satisfies the schema type: "${a.type}". 

attempted value: ${d} 
`+(h!==d?`result of cast: ${h}`:""))}return u}_cast(e,i){let a=e===void 0?e:this.transforms.reduce((o,u)=>u.call(this,o,e,this),e);return a===void 0&&(a=this.getDefault(i)),a}_validate(e,i={},a,o){let{path:u,originalValue:d=e,strict:h=this.spec.strict}=i,p=e;h||(p=this._cast(p,Object.assign({assert:!1},i)));let g=[];for(let y of Object.values(this.internalTests))y&&g.push(y);this.runTests({path:u,value:p,originalValue:d,options:i,tests:g},a,y=>{if(y.length)return o(y,p);this.runTests({path:u,value:p,originalValue:d,options:i,tests:this.tests},a,o)})}runTests(e,i,a){let o=!1,{tests:u,value:d,originalValue:h,path:p,options:g}=e,y=K=>{o||(o=!0,i(K,d))},v=K=>{o||(o=!0,a(K,d))},E=u.length,z=[];if(!E)return v([]);let H={value:d,originalValue:h,path:p,options:g,schema:this};for(let K=0;K<u.length;K++){const J=u[K];J(H,y,function(V){V&&(Array.isArray(V)?z.push(...V):z.push(V)),--E<=0&&v(z)})}}asNestedTest({key:e,index:i,parent:a,parentPath:o,originalParent:u,options:d}){const h=e??i;if(h==null)throw TypeError("Must include `key` or `index` for nested validations");const p=typeof h=="number";let g=a[h];const y=Object.assign({},d,{strict:!0,parent:a,value:g,originalValue:u[h],key:void 0,[p?"index":"key"]:h,path:p||h.includes(".")?`${o||""}[${p?h:`"${h}"`}]`:(o?`${o}.`:"")+e});return(v,E,z)=>this.resolve(y)._validate(g,y,E,z)}validate(e,i){var a;let o=this.resolve(Object.assign({},i,{value:e})),u=(a=i?.disableStackTrace)!=null?a:o.spec.disableStackTrace;return new Promise((d,h)=>o._validate(e,i,(p,g)=>{Vt.isError(p)&&(p.value=g),h(p)},(p,g)=>{p.length?h(new Vt(p,g,void 0,void 0,u)):d(g)}))}validateSync(e,i){var a;let o=this.resolve(Object.assign({},i,{value:e})),u,d=(a=i?.disableStackTrace)!=null?a:o.spec.disableStackTrace;return o._validate(e,Object.assign({},i,{sync:!0}),(h,p)=>{throw Vt.isError(h)&&(h.value=p),h},(h,p)=>{if(h.length)throw new Vt(h,e,void 0,void 0,d);u=p}),u}isValid(e,i){return this.validate(e,i).then(()=>!0,a=>{if(Vt.isError(a))return!1;throw a})}isValidSync(e,i){try{return this.validateSync(e,i),!0}catch(a){if(Vt.isError(a))return!1;throw a}}_getDefault(e){let i=this.spec.default;return i==null?i:typeof i=="function"?i.call(this,e):Nr(i)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,i){const a=this.clone({nullable:e});return a.internalTests.nullable=Cr({message:i,name:"nullable",test(o){return o===null?this.schema.spec.nullable:!0}}),a}optionality(e,i){const a=this.clone({optional:e});return a.internalTests.optionality=Cr({message:i,name:"optionality",test(o){return o===void 0?this.schema.spec.optional:!0}}),a}optional(){return this.optionality(!0)}defined(e=Nn.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Nn.notNull){return this.nullability(!1,e)}required(e=Nn.required){return this.clone().withMutation(i=>i.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let i=this.clone();return i.transforms.push(e),i}test(...e){let i;if(e.length===1?typeof e[0]=="function"?i={test:e[0]}:i=e[0]:e.length===2?i={name:e[0],test:e[1]}:i={name:e[0],message:e[1],test:e[2]},i.message===void 0&&(i.message=Nn.default),typeof i.test!="function")throw new TypeError("`test` is a required parameters");let a=this.clone(),o=Cr(i),u=i.exclusive||i.name&&a.exclusiveTests[i.name]===!0;if(i.exclusive&&!i.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return i.name&&(a.exclusiveTests[i.name]=!!i.exclusive),a.tests=a.tests.filter(d=>!(d.OPTIONS.name===i.name&&(u||d.OPTIONS.test===o.OPTIONS.test))),a.tests.push(o),a}when(e,i){!Array.isArray(e)&&typeof e!="string"&&(i=e,e=".");let a=this.clone(),o=kb(e).map(u=>new Is(u));return o.forEach(u=>{u.isSibling&&a.deps.push(u.key)}),a.conditions.push(typeof i=="function"?new vu(o,i):vu.fromOptions(o,i)),a}typeError(e){let i=this.clone();return i.internalTests.typeError=Cr({message:e,name:"typeError",skipAbsent:!0,test(a){return this.schema._typeCheck(a)?!0:this.createError({params:{type:this.schema.type}})}}),i}oneOf(e,i=Nn.oneOf){let a=this.clone();return e.forEach(o=>{a._whitelist.add(o),a._blacklist.delete(o)}),a.internalTests.whiteList=Cr({message:i,name:"oneOf",skipAbsent:!0,test(o){let u=this.schema._whitelist,d=u.resolveAll(this.resolve);return d.includes(o)?!0:this.createError({params:{values:Array.from(u).join(", "),resolved:d}})}}),a}notOneOf(e,i=Nn.notOneOf){let a=this.clone();return e.forEach(o=>{a._blacklist.add(o),a._whitelist.delete(o)}),a.internalTests.blacklist=Cr({message:i,name:"notOneOf",test(o){let u=this.schema._blacklist,d=u.resolveAll(this.resolve);return d.includes(o)?this.createError({params:{values:Array.from(u).join(", "),resolved:d}}):!0}}),a}strip(e=!0){let i=this.clone();return i.spec.strip=e,i}describe(e){const i=(e?this.resolve(e):this).clone(),{label:a,meta:o,optional:u,nullable:d}=i.spec;return{meta:o,label:a,optional:u,nullable:d,default:i.getDefault(e),type:i.type,oneOf:i._whitelist.describe(),notOneOf:i._blacklist.describe(),tests:i.tests.map(p=>({name:p.OPTIONS.name,params:p.OPTIONS.params})).filter((p,g,y)=>y.findIndex(v=>v.name===p.name)===g)}}}kn.prototype.__isYupSchema__=!0;for(const s of["validate","validateSync"])kn.prototype[`${s}At`]=function(e,i,a={}){const{parent:o,parentPath:u,schema:d}=VN(this,e,i,a.context);return d[s](o&&o[u],Object.assign({},a,{parent:o,path:e}))};for(const s of["equals","is"])kn.prototype[s]=kn.prototype.oneOf;for(const s of["not","nope"])kn.prototype[s]=kn.prototype.notOneOf;const PN=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function FN(s){const e=Bd(s);if(!e)return Date.parse?Date.parse(s):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let i=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(i=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(i=0-i)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+i,e.second,e.millisecond)}function Bd(s){var e,i;const a=PN.exec(s);return a?{year:Wn(a[1]),month:Wn(a[2],1)-1,day:Wn(a[3],1),hour:Wn(a[4]),minute:Wn(a[5]),second:Wn(a[6]),millisecond:a[7]?Wn(a[7].substring(0,3)):0,precision:(e=(i=a[7])==null?void 0:i.length)!=null?e:void 0,z:a[8]||void 0,plusMinus:a[9]||void 0,hourOffset:Wn(a[10]),minuteOffset:Wn(a[11])}:null}function Wn(s,e=0){return Number(s)||e}let qN=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,jN=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,GN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,YN="^\\d{4}-\\d{2}-\\d{2}",KN="\\d{2}:\\d{2}:\\d{2}",XN="(([+-]\\d{2}(:?\\d{2})?)|Z)",QN=new RegExp(`${YN}T${KN}(\\.\\d+)?${XN}$`),$N=s=>vs(s)||s===s.trim(),ZN={}.toString();function pl(){return new Hb}class Hb extends kn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,i,a)=>{if(!a.spec.coerce||a.isType(e)||Array.isArray(e))return e;const o=e!=null&&e.toString?e.toString():e;return o===ZN?e:o})})}required(e){return super.required(e).withMutation(i=>i.test({message:e||Nn.required,name:"required",skipAbsent:!0,test:a=>!!a.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(i=>i.OPTIONS.name!=="required"),e))}length(e,i=Ht.length){return this.test({message:i,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(a){return a.length===this.resolve(e)}})}min(e,i=Ht.min){return this.test({message:i,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a.length>=this.resolve(e)}})}max(e,i=Ht.max){return this.test({name:"max",exclusive:!0,message:i,params:{max:e},skipAbsent:!0,test(a){return a.length<=this.resolve(e)}})}matches(e,i){let a=!1,o,u;return i&&(typeof i=="object"?{excludeEmptyString:a=!1,message:o,name:u}=i:o=i),this.test({name:u||"matches",message:o||Ht.matches,params:{regex:e},skipAbsent:!0,test:d=>d===""&&a||d.search(e)!==-1})}email(e=Ht.email){return this.matches(qN,{name:"email",message:e,excludeEmptyString:!0})}url(e=Ht.url){return this.matches(jN,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Ht.uuid){return this.matches(GN,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let i="",a,o;return e&&(typeof e=="object"?{message:i="",allowOffset:a=!1,precision:o=void 0}=e:i=e),this.matches(QN,{name:"datetime",message:i||Ht.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:i||Ht.datetime_offset,params:{allowOffset:a},skipAbsent:!0,test:u=>{if(!u||a)return!0;const d=Bd(u);return d?!!d.z:!1}}).test({name:"datetime_precision",message:i||Ht.datetime_precision,params:{precision:o},skipAbsent:!0,test:u=>{if(!u||o==null)return!0;const d=Bd(u);return d?d.precision===o:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Ht.trim){return this.transform(i=>i!=null?i.trim():i).test({message:e,name:"trim",test:$N})}lowercase(e=Ht.lowercase){return this.transform(i=>vs(i)?i:i.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:i=>vs(i)||i===i.toLowerCase()})}uppercase(e=Ht.uppercase){return this.transform(i=>vs(i)?i:i.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:i=>vs(i)||i===i.toUpperCase()})}}pl.prototype=Hb.prototype;let WN=new Date(""),JN=s=>Object.prototype.toString.call(s)==="[object Date]";class Dh extends kn{constructor(){super({type:"date",check(e){return JN(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,i,a)=>!a.spec.coerce||a.isType(e)||e===null?e:(e=FN(e),isNaN(e)?Dh.INVALID_DATE:new Date(e)))})}prepareParam(e,i){let a;if(Is.isRef(e))a=e;else{let o=this.cast(e);if(!this._typeCheck(o))throw new TypeError(`\`${i}\` must be a Date or a value that can be \`cast()\` to a Date`);a=o}return a}min(e,i=Hd.min){let a=this.prepareParam(e,"min");return this.test({message:i,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(o){return o>=this.resolve(a)}})}max(e,i=Hd.max){let a=this.prepareParam(e,"max");return this.test({message:i,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(o){return o<=this.resolve(a)}})}}Dh.INVALID_DATE=WN;function eD(s,e=[]){let i=[],a=new Set,o=new Set(e.map(([d,h])=>`${d}-${h}`));function u(d,h){let p=bs.split(d)[0];a.add(p),o.has(`${h}-${p}`)||i.push([h,p])}for(const d of Object.keys(s)){let h=s[d];a.add(d),Is.isRef(h)&&h.isSibling?u(h.path,d):Nh(h)&&"deps"in h&&h.deps.forEach(p=>u(p,d))}return ON.array(Array.from(a),i).reverse()}function ov(s,e){let i=1/0;return s.some((a,o)=>{var u;if((u=e.path)!=null&&u.includes(a))return i=o,!0}),i}function Bb(s){return(e,i)=>ov(s,e)-ov(s,i)}const tD=(s,e,i)=>{if(typeof s!="string")return s;let a=s;try{a=JSON.parse(s)}catch{}return i.isType(a)?a:s};function Zo(s){if("fields"in s){const e={};for(const[i,a]of Object.entries(s.fields))e[i]=Zo(a);return s.setFields(e)}if(s.type==="array"){const e=s.optional();return e.innerType&&(e.innerType=Zo(e.innerType)),e}return s.type==="tuple"?s.optional().clone({types:s.spec.types.map(Zo)}):"optional"in s?s.optional():s}const nD=(s,e)=>{const i=[...bs.normalizePath(e)];if(i.length===1)return i[0]in s;let a=i.pop(),o=bs.getter(bs.join(i),!0)(s);return!!(o&&a in o)};let uv=s=>Object.prototype.toString.call(s)==="[object Object]";function cv(s,e){let i=Object.keys(s.fields);return Object.keys(e).filter(a=>i.indexOf(a)===-1)}const iD=Bb([]);function Mh(s){return new Vb(s)}class Vb extends kn{constructor(e){super({type:"object",check(i){return uv(i)||typeof i=="function"}}),this.fields=Object.create(null),this._sortErrors=iD,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,i={}){var a;let o=super._cast(e,i);if(o===void 0)return this.getDefault(i);if(!this._typeCheck(o))return o;let u=this.fields,d=(a=i.stripUnknown)!=null?a:this.spec.noUnknown,h=[].concat(this._nodes,Object.keys(o).filter(v=>!this._nodes.includes(v))),p={},g=Object.assign({},i,{parent:p,__validating:i.__validating||!1}),y=!1;for(const v of h){let E=u[v],z=v in o;if(E){let H,K=o[v];g.path=(i.path?`${i.path}.`:"")+v,E=E.resolve({value:K,context:i.context,parent:p});let J=E instanceof kn?E.spec:void 0,q=J?.strict;if(J!=null&&J.strip){y=y||v in o;continue}H=!i.__validating||!q?E.cast(o[v],g):o[v],H!==void 0&&(p[v]=H)}else z&&!d&&(p[v]=o[v]);(z!==v in p||p[v]!==o[v])&&(y=!0)}return y?p:o}_validate(e,i={},a,o){let{from:u=[],originalValue:d=e,recursive:h=this.spec.recursive}=i;i.from=[{schema:this,value:d},...u],i.__validating=!0,i.originalValue=d,super._validate(e,i,a,(p,g)=>{if(!h||!uv(g)){o(p,g);return}d=d||g;let y=[];for(let v of this._nodes){let E=this.fields[v];!E||Is.isRef(E)||y.push(E.asNestedTest({options:i,key:v,parent:g,parentPath:i.path,originalParent:d}))}this.runTests({tests:y,value:g,originalValue:d,options:i},a,v=>{o(v.sort(this._sortErrors).concat(p),g)})})}clone(e){const i=super.clone(e);return i.fields=Object.assign({},this.fields),i._nodes=this._nodes,i._excludedEdges=this._excludedEdges,i._sortErrors=this._sortErrors,i}concat(e){let i=super.concat(e),a=i.fields;for(let[o,u]of Object.entries(this.fields)){const d=a[o];a[o]=d===void 0?u:d}return i.withMutation(o=>o.setFields(a,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let i={};return this._nodes.forEach(a=>{var o;const u=this.fields[a];let d=e;(o=d)!=null&&o.value&&(d=Object.assign({},d,{parent:d.value,value:d.value[a]})),i[a]=u&&"getDefault"in u?u.getDefault(d):void 0}),i}setFields(e,i){let a=this.clone();return a.fields=e,a._nodes=eD(e,i),a._sortErrors=Bb(Object.keys(e)),i&&(a._excludedEdges=i),a}shape(e,i=[]){return this.clone().withMutation(a=>{let o=a._excludedEdges;return i.length&&(Array.isArray(i[0])||(i=[i]),o=[...a._excludedEdges,...i]),a.setFields(Object.assign(a.fields,e),o)})}partial(){const e={};for(const[i,a]of Object.entries(this.fields))e[i]="optional"in a&&a.optional instanceof Function?a.optional():a;return this.setFields(e)}deepPartial(){return Zo(this)}pick(e){const i={};for(const a of e)this.fields[a]&&(i[a]=this.fields[a]);return this.setFields(i,this._excludedEdges.filter(([a,o])=>e.includes(a)&&e.includes(o)))}omit(e){const i=[];for(const a of Object.keys(this.fields))e.includes(a)||i.push(a);return this.pick(i)}from(e,i,a){let o=bs.getter(e,!0);return this.transform(u=>{if(!u)return u;let d=u;return nD(u,e)&&(d=Object.assign({},u),a||delete d[e],d[i]=o(u)),d})}json(){return this.transform(tD)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||$o.exact,test(i){if(i==null)return!0;const a=cv(this.schema,i);return a.length===0||this.createError({params:{properties:a.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,i=$o.noUnknown){typeof e!="boolean"&&(i=e,e=!0);let a=this.test({name:"noUnknown",exclusive:!0,message:i,test(o){if(o==null)return!0;const u=cv(this.schema,o);return!e||u.length===0||this.createError({params:{unknown:u.join(", ")}})}});return a.spec.noUnknown=e,a}unknown(e=!0,i=$o.noUnknown){return this.noUnknown(!e,i)}transformKeys(e){return this.transform(i=>{if(!i)return i;const a={};for(const o of Object.keys(i))a[e(o)]=i[o];return a})}camelCase(){return this.transformKeys(pd.camelCase)}snakeCase(){return this.transformKeys(pd.snakeCase)}constantCase(){return this.transformKeys(e=>pd.snakeCase(e).toUpperCase())}describe(e){const i=(e?this.resolve(e):this).clone(),a=super.describe(e);a.fields={};for(const[u,d]of Object.entries(i.fields)){var o;let h=e;(o=h)!=null&&o.value&&(h=Object.assign({},h,{parent:h.value,value:h.value[u]})),a.fields[u]=d.describe(h)}return a}}Mh.prototype=Vb.prototype;const sD=Mh().shape({email:pl().email("Please, enter a correct email format").required("Email is required"),password:pl().min(8,"Password must be at least 8 characters long").matches(/[A-Z]/,"Password must include at least one capital letter").matches(/[a-z]/,"Password must include at least one small letter").matches(/[0-9]/,"Password must include at least one digit").matches(/[@$!%*?&]/,"Password must include at least one special symbol (@$!%*?&)").required("Password is required")}),rD="_form_fbiek_1",aD={form:rD},lD=()=>{const{register:s,handleSubmit:e,formState:{errors:i}}=bv({resolver:Sv(sD)}),a=async o=>{try{await yC(xb,o.email,o.password)}catch(u){console.log(u)}};return Ke.jsxs("form",{onSubmit:e(a),className:aD.form,children:[Ke.jsx("input",{type:"email",placeholder:"Email",...s("email")}),i.email&&Ke.jsx("p",{children:i.email.message}),Ke.jsx("input",{type:"password",placeholder:"Password",...s("password")}),i.password&&Ke.jsx("p",{children:i.password.message}),Ke.jsx("button",{type:"submit",children:"Register"})]})},oD=Mh().shape({email:pl().email("Please, enter a correct email").required("Email is required"),password:pl().min(8,"Password must be at least 8 characters long").max(30,"Password should not contain more than 30 characters").required("Password is required")}),uD=async(s,e)=>(await vC(xb,s,e)).user,cD="_form_kbfcu_1",fD={form:cD},dD=()=>{const{register:s,handleSubmit:e,formState:{errors:i}}=bv({resolver:Sv(oD)}),a=async o=>{try{await uD(o.email,o.password)}catch(u){console.error(u)}};return Ke.jsxs("form",{onSubmit:e(a),className:fD.form,children:[Ke.jsx("input",{type:"email",placeholder:"Email",...s("email")}),i.email&&Ke.jsx("p",{children:i.email.message}),Ke.jsx("input",{type:"password",placeholder:"Password",...s("password")}),i.password&&Ke.jsx("p",{children:i.password.message}),Ke.jsx("button",{type:"submit",children:"Login"})]})},hD=({isOpen:s,onClose:e})=>{const[i,a]=Es.useState("login");if(Es.useEffect(()=>{const u=d=>{d.key==="Escape"&&e()};return s&&document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}},[s,e]),!s)return null;const o=u=>{u.target===u.currentTarget&&e()};return Ke.jsx("div",{className:Sr.backdrop,onClick:o,children:Ke.jsxs("div",{className:Sr.modal,children:[Ke.jsx("button",{className:Sr.closeBtn,onClick:e,children:""}),Ke.jsxs("div",{className:Sr.toggleButtons,children:[Ke.jsx("button",{onClick:()=>a("login"),className:i==="login"?Sr.active:"",children:"Login"}),Ke.jsx("button",{onClick:()=>a("register"),className:i==="register"?Sr.active:"",children:"Register"})]}),i==="login"&&Ke.jsx(dD,{}),i==="register"&&Ke.jsx(lD,{})]})})};function pD(){const[s,e]=Es.useState(!1);return Ke.jsxs("div",{children:[Ke.jsx("h1",{children:"App with Firebase Auth"}),Ke.jsx("button",{onClick:()=>e(!0),children:"Open Auth Modal"}),Ke.jsx(hD,{isOpen:s,onClose:()=>e(!1)})]})}oT.createRoot(document.getElementById("root")).render(Ke.jsx(Es.StrictMode,{children:Ke.jsx(pD,{})}));
